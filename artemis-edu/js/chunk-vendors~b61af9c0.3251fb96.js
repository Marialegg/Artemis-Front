(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-vendors~b61af9c0"],{"2d85":function(e,t,r){"use strict";r.d(t,"b",(function(){return o})),r.d(t,"a",(function(){return s}));var n=r("d77f"),a=r("7de8"),o=function(){function e(e){return this.subQuery=null,this.isChild=!1,this.distincts=[],this.queries=[],this.key="",this.fKey="","string"===typeof e?this.fromTable=e:e&&e instanceof Array&&(this.lookups=e),this.expands=[],this.sortedColumns=[],this.groupedColumns=[],this.subQuery=null,this.isChild=!1,this.params=[],this.lazyLoad=[],this}return e.prototype.setKey=function(e){return this.key=e,this},e.prototype.using=function(e){return this.dataManager=e,this},e.prototype.execute=function(e,t,r,a){return e=e||this.dataManager,e?e.executeQuery(this,t,r,a):n["a"].throwError('Query - execute() : dataManager needs to be is set using "using" function or should be passed as argument')},e.prototype.executeLocal=function(e){return e=e||this.dataManager,e?e.executeLocal(this):n["a"].throwError('Query - executeLocal() : dataManager needs to be is set using "using" function or should be passed as argument')},e.prototype.clone=function(){var t=new e;return t.queries=this.queries.slice(0),t.key=this.key,t.isChild=this.isChild,t.dataManager=this.dataManager,t.fromTable=this.fromTable,t.params=this.params.slice(0),t.expands=this.expands.slice(0),t.sortedColumns=this.sortedColumns.slice(0),t.groupedColumns=this.groupedColumns.slice(0),t.subQuerySelector=this.subQuerySelector,t.subQuery=this.subQuery,t.fKey=this.fKey,t.isCountRequired=this.isCountRequired,t.distincts=this.distincts.slice(0),t.lazyLoad=this.lazyLoad.slice(0),t},e.prototype.from=function(e){return this.fromTable=e,this},e.prototype.addParams=function(e,t){return"function"===typeof t?this.params.push({key:e,fn:t}):this.params.push({key:e,value:t}),this},e.prototype.distinct=function(e){return this.distincts="string"===typeof e?[].slice.call([e],0):e.slice(0),this},e.prototype.expand=function(e){return this.expands="string"===typeof e?[].slice.call([e],0):e.slice(0),this},e.prototype.where=function(e,t,r,n,a){t=t?t.toLowerCase():null;var o=null;return"string"===typeof e?o=new s(e,t,r,n,a):e instanceof s&&(o=e),this.queries.push({fn:"onWhere",e:o}),this},e.prototype.search=function(e,t,r,a,o){"string"===typeof t&&(t=[t]),r&&"none"!==r||(r="contains");var s=n["a"].fnOperators[r];return this.queries.push({fn:"onSearch",e:{fieldNames:t,operator:r,searchKey:e,ignoreCase:a,ignoreAccent:o,comparer:s}}),this},e.prototype.sortBy=function(e,t,r){return this.sortByForeignKey(e,t,r)},e.prototype.sortByForeignKey=function(t,r,o,s){var i,u,c=Object(a["L"])(s)?"ascending":s;if("string"===typeof t&&n["a"].endsWith(t.toLowerCase()," desc")&&(t=t.replace(/ desc$/i,""),r="descending"),r&&"string"!==typeof r||(c=r?r.toLowerCase():"ascending",r=n["a"].fnSort(r)),o){i=e.filterQueries(this.queries,"onSortBy");for(var p=0;p<i.length;p++)if(u=i[p].e.fieldName,"string"===typeof u){if(u===t)return this}else if(u instanceof Array)for(var l=0;l<u.length;l++)if(u[l]===t||t.toLowerCase()===u[l]+" desc")return this}return this.queries.push({fn:"onSortBy",e:{fieldName:t,comparer:r,direction:c}}),this},e.prototype.sortByDesc=function(e){return this.sortBy(e,"descending")},e.prototype.group=function(e,t,r){return this.sortBy(e,null,!0),this.queries.push({fn:"onGroup",e:{fieldName:e,comparer:t||null,format:r||null}}),this},e.prototype.page=function(e,t){return this.queries.push({fn:"onPage",e:{pageIndex:e,pageSize:t}}),this},e.prototype.range=function(e,t){return this.queries.push({fn:"onRange",e:{start:e,end:t}}),this},e.prototype.take=function(e){return this.queries.push({fn:"onTake",e:{nos:e}}),this},e.prototype.skip=function(e){return this.queries.push({fn:"onSkip",e:{nos:e}}),this},e.prototype.select=function(e){return"string"===typeof e&&(e=[].slice.call([e],0)),this.queries.push({fn:"onSelect",e:{fieldNames:e}}),this},e.prototype.hierarchy=function(e,t){return this.subQuerySelector=t,this.subQuery=e,this},e.prototype.foreignKey=function(e){return this.fKey=e,this},e.prototype.requiresCount=function(){return this.isCountRequired=!0,this},e.prototype.aggregate=function(e,t){return this.queries.push({fn:"onAggregates",e:{field:t,type:e}}),this},e.filterQueries=function(e,t){return e.filter((function(e){return e.fn===t}))},e.filterQueryLists=function(e,t){for(var r=e.filter((function(e){return-1!==t.indexOf(e.fn)})),n={},a=0;a<r.length;a++)n[r[a].fn]||(n[r[a].fn]=r[a].e);return n},e}(),s=function(){function e(t,r,a,o,s){return void 0===o&&(o=!1),this.ignoreAccent=!1,this.isComplex=!1,"string"===typeof t?(this.field=t,this.operator=r.toLowerCase(),this.value=a,this.ignoreCase=o,this.ignoreAccent=s,this.isComplex=!1,this.comparer=n["a"].fnOperators.processOperator(this.operator)):(t instanceof e&&a instanceof e||a instanceof Array)&&(this.isComplex=!0,this.condition=r.toLowerCase(),this.predicates=[t],a instanceof Array?[].push.apply(this.predicates,a):this.predicates.push(a)),this}return e.and=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return e.combinePredicates([].slice.call(t,0),"and")},e.prototype.and=function(t,r,n,a,o){return e.combine(this,t,r,n,"and",a,o)},e.or=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return e.combinePredicates([].slice.call(t,0),"or")},e.prototype.or=function(t,r,n,a,o){return e.combine(this,t,r,n,"or",a,o)},e.fromJson=function(e){if(e instanceof Array){for(var t=[],r=0,n=e.length;r<n;r++)t.push(this.fromJSONData(e[r]));return t}var a=e;return this.fromJSONData(a)},e.prototype.validate=function(e){var t,r,a=this.predicates?this.predicates:[];if(!this.isComplex&&this.comparer)return this.comparer.call(this,n["a"].getObject(this.field,e),this.value,this.ignoreCase,this.ignoreAccent);t="and"===this.condition;for(var o=0;o<a.length;o++)if(r=a[o].validate(e),t){if(!r)return!1}else if(r)return!0;return t},e.prototype.toJson=function(){var e,t;if(this.isComplex){e=[],t=this.predicates;for(var r=0;r<t.length;r++)e.push(t[r].toJson())}return{isComplex:this.isComplex,field:this.field,operator:this.operator,value:this.value,ignoreCase:this.ignoreCase,ignoreAccent:this.ignoreAccent,condition:this.condition,predicates:e}},e.combinePredicates=function(t,r){if(1===t.length){if(!(t[0]instanceof Array))return t[0];t=t[0]}return new e(t[0],r,t.slice(1))},e.combine=function(t,r,a,o,s,i,u){return r instanceof e?e[s](t,r):"string"===typeof r?e[s](t,new e(r,a,o,i,u)):n["a"].throwError("Predicate - "+s+" : invalid arguments")},e.fromJSONData=function(t){for(var r,n=t.predicates||[],a=n.length,o=[],s=0;s<a;s++)o.push(this.fromJSONData(n[s]));return r=t.isComplex?new e(o[0],t.condition,o.slice(1)):new e(t.field,t.operator,t.value,t.ignoreCase,t.ignoreAccent),r},e}()},"4f3e":function(e,t,r){"use strict";r.d(t,"a",(function(){return g}));var n=r("7de8"),a=r("d77f"),o=r("2d85"),s=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),i={GroupGuid:"{271bbba0-1ee7}"},u=function(){function e(t){this.options={from:"table",requestType:"json",sortBy:"sorted",select:"select",skip:"skip",group:"group",take:"take",search:"search",count:"requiresCounts",where:"where",aggregates:"aggregates",expand:"expand"},this.type=e,this.dataSource=t,this.pvt={}}return e.prototype.processResponse=function(e,t,r,n){return e},e}(),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s(t,e),t.prototype.processQuery=function(e,t){for(var r,n,a,o=e.dataSource.json.slice(0),s=o.length,i=!0,u={},c=0,p=[],l=0;l<t.lazyLoad.length;l++)c++,u[t.lazyLoad[l].key]=t.lazyLoad[l].value;var d={};for(l=0;l<t.queries.length;l++)n=t.queries[l],"onPage"!==n.fn&&"onGroup"!==n.fn||!t.lazyLoad.length?(r=this[n.fn].call(this,o,n.e,t),"onAggregates"===n.fn?d[n.e.field+" - "+n.e.type]=r:o=void 0!==r?r:o,"onPage"!==n.fn&&"onSkip"!==n.fn&&"onTake"!==n.fn&&"onRange"!==n.fn||(i=!1),i&&(s=o.length)):("onGroup"===n.fn&&p.push(n.e),"onPage"===n.fn&&(a=n.e));if(c){var h={query:t,lazyLoad:u,result:o,group:p,page:a},f=this.lazyLoadGroup(h);o=f.result,s=f.count}return t.isCountRequired&&(o={result:o,count:s,aggregates:d}),o},t.prototype.lazyLoadGroup=function(e){var t=0,r=this.getAggregate(e.query),o=e.result;if(Object(n["L"])(e.lazyLoad.onDemandGroupInfo)){u=e.group[0].fieldName;o=a["a"].group(o,u,r,null,null,e.group[0].comparer,!0),t=o.length;c=o;e.page&&(o=this.onPage(o,e.page,e.query)),this.formGroupResult(o,c)}else{for(var s=e.lazyLoad.onDemandGroupInfo,i=s.where.length-1;i>=0;i--)o=this.onWhere(o,s.where[i]);if(e.group.length!==s.level){var u=e.group[s.level].fieldName;o=a["a"].group(o,u,r,null,null,e.group[0].comparer,!0)}t=o.length;var c=o;o=o.slice(s.skip),o=o.slice(0,s.take),e.group.length!==s.level&&this.formGroupResult(o,c)}return{result:o,count:t}},t.prototype.formGroupResult=function(e,t){if(e.length&&t.length){var r="GroupGuid",n="childLevels",a="level",o="records";e[r]=t[r],e[n]=t[n],e[a]=t[a],e[o]=t[o]}return e},t.prototype.getAggregate=function(e){var t=o["b"].filterQueries(e.queries,"onAggregates"),r=[];if(t.length)for(var n=void 0,s=0;s<t.length;s++)n=t[s].e,r.push({type:n.type,field:a["a"].getValue(n.field,e)});return r},t.prototype.batchRequest=function(e,t,r){var n,a=t.deletedRecords.length;for(n=0;n<t.addedRecords.length;n++)this.insert(e,t.addedRecords[n]);for(n=0;n<t.changedRecords.length;n++)this.update(e,r.key,t.changedRecords[n]);for(n=0;n<a;n++)this.remove(e,r.key,t.deletedRecords[n]);return t},t.prototype.onWhere=function(e,t){return e&&e.length?e.filter((function(e){if(t)return t.validate(e)})):e},t.prototype.onAggregates=function(e,t){var r=a["a"].aggregates[t.type];return e&&r&&0!==e.length?r(e,t.field):null},t.prototype.onSearch=function(e,t){return e&&e.length?(0===t.fieldNames.length&&a["a"].getFieldList(e[0],t.fieldNames),e.filter((function(e){for(var r=0;r<t.fieldNames.length;r++)if(t.comparer.call(e,a["a"].getObject(t.fieldNames[r],e),t.searchKey,t.ignoreCase,t.ignoreAccent))return!0;return!1}))):e},t.prototype.onSortBy=function(e,t,r){if(!e||!e.length)return e;var n,o=a["a"].getValue(t.fieldName,r);if(!o)return e.sort(t.comparer);if(o instanceof Array){o=o.slice(0);for(var s=o.length-1;s>=0;s--)o[s]&&(n=t.comparer,a["a"].endsWith(o[s]," desc")&&(n=a["a"].fnSort("descending"),o[s]=o[s].replace(" desc","")),e=a["a"].sort(e,o[s],n));return e}return a["a"].sort(e,o,t.comparer)},t.prototype.onGroup=function(e,t,r){if(!e||!e.length)return e;var n=this.getAggregate(r);return a["a"].group(e,a["a"].getValue(t.fieldName,r),n,null,null,t.comparer)},t.prototype.onPage=function(e,t,r){var n=a["a"].getValue(t.pageSize,r),o=(a["a"].getValue(t.pageIndex,r)-1)*n,s=o+n;return e&&e.length?e.slice(o,s):e},t.prototype.onRange=function(e,t){return e&&e.length?e.slice(a["a"].getValue(t.start),a["a"].getValue(t.end)):e},t.prototype.onTake=function(e,t){return e&&e.length?e.slice(0,a["a"].getValue(t.nos)):e},t.prototype.onSkip=function(e,t){return e&&e.length?e.slice(a["a"].getValue(t.nos)):e},t.prototype.onSelect=function(e,t){return e&&e.length?a["a"].select(e,a["a"].getValue(t.fieldNames)):e},t.prototype.insert=function(e,t,r,a,o){return Object(n["L"])(o)?e.dataSource.json.push(t):e.dataSource.json.splice(o,0,t)},t.prototype.remove=function(e,t,r,n){var o,s=e.dataSource.json;for("object"!==typeof r||r instanceof Date||(r=a["a"].getObject(t,r)),o=0;o<s.length;o++)if(a["a"].getObject(t,s[o])===r)break;return o!==s.length?s.splice(o,1):null},t.prototype.update=function(e,t,r,a){var o,s,i=e.dataSource.json;for(Object(n["L"])(t)||(s=Object(n["J"])(t,r)),o=0;o<i.length;o++)if(!Object(n["L"])(t)&&Object(n["J"])(t,i[o])===s)break;return o<i.length?Object(n["P"])(i[o],r):null},t}(u),p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s(t,e),t.prototype.processQuery=function(e,t,r){var s,i,u=this.getQueryRequest(t),c=o["b"].filterQueryLists(t.queries,["onSelect","onPage","onSkip","onTake","onRange"]),p=t.params,l=e.dataSource.url,d=null,h=this.options,f={sorts:[],groups:[],filters:[],searches:[],aggregates:[]};"onPage"in c?(s=c.onPage,i=a["a"].getValue(s.pageIndex,t),d=a["a"].getValue(s.pageSize,t),i=(i-1)*d):"onRange"in c&&(s=c.onRange,i=s.start,d=s.end-s.start);for(var g=0;g<u.sorts.length;g++)s=a["a"].getValue(u.sorts[g].e.fieldName,t),f.sorts.push(a["a"].callAdaptorFunction(this,"onEachSort",{name:s,direction:u.sorts[g].e.direction},t));r&&(s=this.getFiltersFrom(r,t),s&&f.filters.push(a["a"].callAdaptorFunction(this,"onEachWhere",s.toJson(),t)));for(g=0;g<u.filters.length;g++){var y=a["a"].callAdaptorFunction(this,"onEachWhere",u.filters[g].e.toJson(),t);this.getModuleName&&"ODataV4Adaptor"===this.getModuleName()&&!Object(n["L"])(u.filters[g].e.key)&&u.filters.length>1&&(y="("+y+")"),f.filters.push(y);for(var v="object"===typeof f.filters[g]?Object.keys(f.filters[g]):[],m=0,b=v;m<b.length;m++){var O=b[m];a["a"].isNull(f[O])&&delete f[O]}}for(g=0;g<u.searches.length;g++)s=u.searches[g].e,f.searches.push(a["a"].callAdaptorFunction(this,"onEachSearch",{fields:s.fieldNames,operator:s.operator,key:s.searchKey,ignoreCase:s.ignoreCase},t));for(g=0;g<u.groups.length;g++)f.groups.push(a["a"].getValue(u.groups[g].e.fieldName,t));for(g=0;g<u.aggregates.length;g++)s=u.aggregates[g].e,f.aggregates.push({type:s.type,field:a["a"].getValue(s.field,t)});var S={};if(this.getRequestQuery(h,t,c,f,S),a["a"].callAdaptorFunction(this,"addParams",{dm:e,query:t,params:p,reqParams:S}),t.lazyLoad.length)for(g=0;g<t.lazyLoad.length;g++)S[t.lazyLoad[g].key]=t.lazyLoad[g].value;for(var j=Object.keys(S),A=0,C=j;A<C.length;A++){O=C[A];(a["a"].isNull(S[O])||""===S[O]||0===S[O].length)&&delete S[O]}h.skip in S&&h.take in S||null===d||(S[h.skip]=a["a"].callAdaptorFunction(this,"onSkip",i,t),S[h.take]=a["a"].callAdaptorFunction(this,"onTake",d,t));var R=this.pvt;return this.pvt={},"json"===this.options.requestType?{data:JSON.stringify(S,a["a"].parse.jsonDateReplacer),url:l,pvtData:R,type:"POST",contentType:"application/json; charset=utf-8"}:(s=this.convertToQueryString(S,t,e),s=(-1!==e.dataSource.url.indexOf("?")?"&":"/")+s,{type:"GET",url:s.length?l.replace(/\/*$/,s):l,pvtData:R})},t.prototype.getRequestQuery=function(e,t,r,n,o){var s="param",i=o;i[e.from]=t.fromTable,e.apply&&t.distincts.length&&(i[e.apply]="onDistinct"in this?a["a"].callAdaptorFunction(this,"onDistinct",t.distincts):""),!t.distincts.length&&e.expand&&(i[e.expand]="onExpand"in this&&"onSelect"in r?a["a"].callAdaptorFunction(this,"onExpand",{selects:a["a"].getValue(r.onSelect.fieldNames,t),expands:t.expands},t):t.expands),i[e.select]="onSelect"in r&&!t.distincts.length?a["a"].callAdaptorFunction(this,"onSelect",a["a"].getValue(r.onSelect.fieldNames,t),t):"",i[e.count]=t.isCountRequired?a["a"].callAdaptorFunction(this,"onCount",t.isCountRequired,t):"",i[e.search]=n.searches.length?a["a"].callAdaptorFunction(this,"onSearch",n.searches,t):"",i[e.skip]="onSkip"in r?a["a"].callAdaptorFunction(this,"onSkip",a["a"].getValue(r.onSkip.nos,t),t):"",i[e.take]="onTake"in r?a["a"].callAdaptorFunction(this,"onTake",a["a"].getValue(r.onTake.nos,t),t):"",i[e.where]=n.filters.length||n.searches.length?a["a"].callAdaptorFunction(this,"onWhere",n.filters,t):"",i[e.sortBy]=n.sorts.length?a["a"].callAdaptorFunction(this,"onSortBy",n.sorts,t):"",i[e.group]=n.groups.length?a["a"].callAdaptorFunction(this,"onGroup",n.groups,t):"",i[e.aggregates]=n.aggregates.length?a["a"].callAdaptorFunction(this,"onAggregates",n.aggregates,t):"",i[s]=[]},t.prototype.convertToQueryString=function(e,t,r){return""},t.prototype.processResponse=function(e,t,r,o,s,i){if(o&&o.getResponseHeader("Content-Type")&&-1!==o.getResponseHeader("Content-Type").indexOf("application/json")){var u=a["a"].timeZoneHandling;t&&!t.timeZoneHandling&&(a["a"].timeZoneHandling=!1),e=a["a"].parse.parseJson(e),a["a"].timeZoneHandling=u}var c=s,p=c.pvtData||{},l=e?e.groupDs:[];if(o&&o.getResponseHeader("Content-Type")&&-1!==o.getResponseHeader("Content-Type").indexOf("xml"))return r.isCountRequired?{result:[],count:0}:[];var d=JSON.parse(c.data);if(d&&"batch"===d.action&&e&&e.addedRecords)return i.addedRecords=e.addedRecords,i;e&&e.d&&(e=e.d);var h={};e&&"count"in e&&(h.count=e.count),h.result=e&&e.result?e.result:e;var f=!1;if(Array.isArray(e.result)&&e.result.length){var g="key",y="value",v="level";if(Object(n["L"])(e.result[0][g])||(h.result=this.formRemoteGroupedData(h.result,1,p.groups.length-1)),r&&r.lazyLoad.length&&p.groups.length)for(var m=0;m<r.lazyLoad.length;m++)if("onDemandGroupInfo"===r.lazyLoad[m][g]){var b=r.lazyLoad[m][y][v];p.groups.length===b&&(f=!0)}}return f||this.getAggregateResult(p,e,h,l,r),a["a"].isNull(h.count)?h.result:{result:h.result,count:h.count,aggregates:h.aggregates}},t.prototype.formRemoteGroupedData=function(e,t,r){for(var a=0;a<e.length;a++)e[a].items.length&&Object.keys(e[a].items[0]).indexOf("key")>-1&&this.formRemoteGroupedData(e[a].items,t+1,r-1);var o="GroupGuid",s="childLevels",u="level",c="records";return e[o]=i[o],e[u]=t,e[s]=r,e[c]=e[0].items.length?this.getGroupedRecords(e,!Object(n["L"])(e[0].items[c])):[],e},t.prototype.getGroupedRecords=function(e,t){for(var r=[],n="records",a=0;a<e.length;a++)if(t)r=r.concat(e[a].items[n]);else for(var o=0;o<e[a].items.length;o++)r.push(e[a].items[o]);return r},t.prototype.onGroup=function(e){return this.pvt.groups=e,e},t.prototype.onAggregates=function(e){this.pvt.aggregates=e},t.prototype.batchRequest=function(e,t,r,o,s){var i,u;return{type:"POST",url:e.dataSource.batchUrl||e.dataSource.crudUrl||e.dataSource.removeUrl||e.dataSource.url,contentType:"application/json; charset=utf-8",dataType:"json",data:JSON.stringify(Object(n["C"])({},{changed:t.changedRecords,added:t.addedRecords,deleted:t.deletedRecords,action:"batch",table:r[i],key:r[u]},a["a"].getAddParams(this,e,o)))}},t.prototype.beforeSend=function(e,t){},t.prototype.insert=function(e,t,r,o){return{url:e.dataSource.insertUrl||e.dataSource.crudUrl||e.dataSource.url,data:JSON.stringify(Object(n["C"])({},{value:t,table:r,action:"insert"},a["a"].getAddParams(this,e,o)))}},t.prototype.remove=function(e,t,r,o,s){return{type:"POST",url:e.dataSource.removeUrl||e.dataSource.crudUrl||e.dataSource.url,data:JSON.stringify(Object(n["C"])({},{key:r,keyColumn:t,table:o,action:"remove"},a["a"].getAddParams(this,e,s)))}},t.prototype.update=function(e,t,r,o,s){return{type:"POST",url:e.dataSource.updateUrl||e.dataSource.crudUrl||e.dataSource.url,data:JSON.stringify(Object(n["C"])({},{value:r,action:"update",keyColumn:t,key:a["a"].getObject(t,r),table:o},a["a"].getAddParams(this,e,s)))}},t.prototype.getFiltersFrom=function(e,t){var r,n=t.fKey,s=n,i=t.key,u=[];"object"!==typeof e[0]&&(s=null);for(var c=0;c<e.length;c++)r="object"===typeof e[0]?a["a"].getObject(i||s,e[c]):e[c],u.push(new o["a"](n,"equal",r));return o["a"].or(u)},t.prototype.getAggregateResult=function(e,t,r,s,i){var u=t;if(t&&t.result&&(u=t.result),e&&e.aggregates&&e.aggregates.length){var c=e.aggregates,p=void 0,l=u,d={};t.aggregate&&(l=t.aggregate);for(var h=0;h<c.length;h++)p=a["a"].aggregates[c[h].type],p&&(d[c[h].field+" - "+c[h].type]=p(l,c[h].field));r.aggregates=d}var f="key",g=Array.isArray(t.result)&&t.result.length&&!Object(n["L"])(t.result[0][f]);if(e&&e.groups&&e.groups.length&&!g){var y=e.groups;for(h=0;h<y.length;h++){var v=null;Object(n["L"])(s)||(s=a["a"].group(s,y[h]));var m=o["b"].filterQueries(i.queries,"onGroup")[h].e;u=a["a"].group(u,y[h],e.aggregates,v,s,m.comparer)}r.result=u}return r},t.prototype.getQueryRequest=function(e){var t={sorts:[],groups:[],filters:[],searches:[],aggregates:[]};return t.sorts=o["b"].filterQueries(e.queries,"onSortBy"),t.groups=o["b"].filterQueries(e.queries,"onGroup"),t.filters=o["b"].filterQueries(e.queries,"onWhere"),t.searches=o["b"].filterQueries(e.queries,"onSearch"),t.aggregates=o["b"].filterQueries(e.queries,"onAggregates"),t},t.prototype.addParams=function(e){var t=e.reqParams;e.params.length&&(t.params={});for(var r=0,n=e.params;r<n.length;r++){var a=n[r];if(t[a.key])throw new Error("Query() - addParams: Custom Param is conflicting other request arguments");t[a.key]=a.value,a.fn&&(t[a.key]=a.fn.call(e.query,a.key,e.query,e.dm)),t.params[a.key]=t[a.key]}},t}(u),l=function(e){function t(t){var r=e.call(this)||this;return r.options=Object(n["C"])({},r.options,{requestType:"get",accept:"application/json;odata=light;q=1,application/json;odata=verbose;q=0.5",multipartAccept:"multipart/mixed",sortBy:"$orderby",select:"$select",skip:"$skip",take:"$top",count:"$inlinecount",where:"$filter",expand:"$expand",batch:"$batch",changeSet:"--changeset_",batchPre:"batch_",contentId:"Content-Id: ",batchContent:"Content-Type: multipart/mixed; boundary=",changeSetContent:"Content-Type: application/http\nContent-Transfer-Encoding: binary ",batchChangeSetContentType:"Content-Type: application/json; charset=utf-8 ",updateType:"PUT"}),Object(n["C"])(r.options,t||{}),r}return s(t,e),t.prototype.getModuleName=function(){return"ODataAdaptor"},t.prototype.onPredicate=function(e,r,o){var s,i,u="",c=e.value,p=typeof c,l=e.field?t.getField(e.field):null;if(c instanceof Date&&(c="datetime'"+a["a"].parse.replacer(c)+"'"),"string"===p&&(c=c.replace(/'/g,"''"),e.ignoreCase&&(c=c.toLowerCase()),c=encodeURIComponent(c),c="'"+c+"'",o&&(l="cast("+l+", 'Edm.String')"),a["a"].parse.isGuid(c)&&(i="guid"),e.ignoreCase&&(i||(l="tolower("+l+")"),c=c.toLowerCase())),s=a["a"].odBiOperator[e.operator],s)return u+=l,u+=s,i&&(u+=i),u+c;if(s=Object(n["L"])(this.getModuleName)||"ODataV4Adaptor"!==this.getModuleName()?a["a"].odUniOperator[e.operator]:a["a"].odv4UniOperator[e.operator],"substringof"===s){var d=c;c=l,l=d}return u+=s+"(",u+=l+",",i&&(u+=i),u+=c+")",u},t.prototype.addParams=function(t){e.prototype.addParams.call(this,t),delete t.reqParams.params},t.prototype.onComplexPredicate=function(e,t,r){for(var n=[],a=0;a<e.predicates.length;a++)n.push("("+this.onEachWhere(e.predicates[a],t,r)+")");return n.join(" "+e.condition+" ")},t.prototype.onEachWhere=function(e,t,r){return e.isComplex?this.onComplexPredicate(e,t,r):this.onPredicate(e,t,r)},t.prototype.onWhere=function(e){return this.pvt.search&&e.push(this.onEachWhere(this.pvt.search,null,!0)),e.join(" and ")},t.prototype.onEachSearch=function(e){e.fields&&0===e.fields.length&&a["a"].throwError("Query() - Search : oData search requires list of field names to search");for(var t=this.pvt.search||[],r=0;r<e.fields.length;r++)t.push(new o["a"](e.fields[r],e.operator,e.key,e.ignoreCase));this.pvt.search=t},t.prototype.onSearch=function(e){return this.pvt.search=o["a"].or(this.pvt.search),""},t.prototype.onEachSort=function(e){var r=[];if(e.name instanceof Array)for(var n=0;n<e.name.length;n++)r.push(t.getField(e.name[n])+("descending"===e.direction?" desc":""));else r.push(t.getField(e.name)+("descending"===e.direction?" desc":""));return r.join(",")},t.prototype.onSortBy=function(e){return e.reverse().join(",")},t.prototype.onGroup=function(e){return this.pvt.groups=e,[]},t.prototype.onSelect=function(e){for(var r=0;r<e.length;r++)e[r]=t.getField(e[r]);return e.join(",")},t.prototype.onAggregates=function(e){return this.pvt.aggregates=e,""},t.prototype.onCount=function(e){return!0===e?"allpages":""},t.prototype.beforeSend=function(e,t,r){a["a"].endsWith(r.url,this.options.batch)&&"post"===r.type.toLowerCase()?(t.setRequestHeader("Accept",this.options.multipartAccept),t.setRequestHeader("DataServiceVersion","2.0"),t.overrideMimeType("text/plain; charset=x-user-defined")):t.setRequestHeader("Accept",this.options.accept),t.setRequestHeader("DataServiceVersion","2.0"),t.setRequestHeader("MaxDataServiceVersion","2.0")},t.prototype.processResponse=function(e,t,r,o,s,i){var u="odata.metadata";if(s&&"GET"===s.type&&!this.rootUrl&&e[u]){var c=e[u].split("/$metadata#");this.rootUrl=c[0],this.resourceTableName=c[1]}var p="pvtData";if(!Object(n["L"])(e.d)){var l=r&&r.isCountRequired?e.d.results:e.d,d="__metadata";if(!Object(n["L"])(l))for(var h=0;h<l.length;h++)Object(n["L"])(l[h][d])||delete l[h][d]}var f=s&&s[p],g=this.processBatchResponse(e,r,o,s,i);if(g)return g;var y=o&&s.getResponseHeader("DataServiceVersion"),v=null,m=y&&parseInt(y,10)||2;if(r&&r.isCountRequired){var b="__count";(e[b]||e["odata.count"])&&(v=e[b]||e["odata.count"]),e.d&&(e=e.d),(e[b]||e["odata.count"])&&(v=e[b]||e["odata.count"])}3===m&&e.value&&(e=e.value),e.d&&(e=e.d),m<3&&e.results&&(e=e.results);var O={};return O.count=v,O.result=e,this.getAggregateResult(f,e,O,null,r),a["a"].isNull(v)?O.result:{result:O.result,count:O.count,aggregates:O.aggregates}},t.prototype.convertToQueryString=function(e,t,r){var n=[],a="table",o=e[a]||"",s="$format";delete e[a],r.dataSource.requiresFormat&&(e[s]="json");for(var i=Object.keys(e),u=0,c=i;u<c.length;u++){var p=c[u];n.push(p+"="+e[p])}return n=n.join("&"),r.dataSource.url&&-1!==r.dataSource.url.indexOf("?")&&!o?n:n.length?o+"?"+n:o||""},t.prototype.localTimeReplacer=function(e,t){for(var r=0,o=Object(n["L"])(t)?[]:Object.keys(t);r<o.length;r++){var s=o[r];t[s]instanceof Date&&(t[s]=a["a"].dateParse.toLocalTime(t[s]))}return t},t.prototype.insert=function(e,t,r){return{url:(e.dataSource.insertUrl||e.dataSource.url).replace(/\/*$/,r?"/"+r:""),data:JSON.stringify(t,this.options.localTime?this.localTimeReplacer:null)}},t.prototype.remove=function(e,t,r,n){var o;return o="string"!==typeof r||a["a"].parse.isGuid(r)?"("+r+")":"('"+r+"')",{type:"DELETE",url:(e.dataSource.removeUrl||e.dataSource.url).replace(/\/*$/,n?"/"+n:"")+o}},t.prototype.update=function(e,t,r,o,s,i){var u;return"PATCH"!==this.options.updateType||Object(n["L"])(i)||(r=this.compareAndRemove(r,i,t)),u="string"!==typeof r[t]||a["a"].parse.isGuid(r[t])?"("+r[t]+")":"('"+r[t]+"')",{type:this.options.updateType,url:(e.dataSource.updateUrl||e.dataSource.url).replace(/\/*$/,o?"/"+o:"")+u,data:JSON.stringify(r,this.options.localTime?this.localTimeReplacer:null),accept:this.options.accept}},t.prototype.batchRequest=function(e,t,r,n,o){var s=r.guid=a["a"].getGuid(this.options.batchPre),i=this.rootUrl?this.rootUrl+"/"+this.options.batch:e.dataSource.url.replace(/\/*$/,"/"+this.options.batch);r.url=this.resourceTableName?this.resourceTableName:r.url;var u={url:r.url,key:r.key,cid:1,cSet:a["a"].getGuid(this.options.changeSet)},c="--"+s+"\n";return c+="Content-Type: multipart/mixed; boundary="+u.cSet.replace("--","")+"\n",this.pvt.changeSet=0,c+=this.generateInsertRequest(t.addedRecords,u,e),c+=this.generateUpdateRequest(t.changedRecords,u,e,o?o.changedRecords:[]),c+=this.generateDeleteRequest(t.deletedRecords,u,e),c+=u.cSet+"--\n",c+="--"+s+"--",{type:"POST",url:i,dataType:"json",contentType:"multipart/mixed; charset=UTF-8;boundary="+s,data:c}},t.prototype.generateDeleteRequest=function(e,t,r){if(!e)return"";var n="",o={method:"DELETE ",url:function(e,t,r){var n=a["a"].getObject(r,e[t]);if("number"===typeof n||a["a"].parse.isGuid(n))return"("+n+")";if(n instanceof Date){var o=e[t][r];return"("+o.toJSON()+")"}return"('"+n+"')"},data:function(e,t){return""}};return n=this.generateBodyContent(e,t,o,r),n+"\n"},t.prototype.generateInsertRequest=function(e,t,r){if(!e)return"";var n="",a={method:"POST ",url:function(e,t,r){return""},data:function(e,t){return JSON.stringify(e[t])+"\n\n"}};return n=this.generateBodyContent(e,t,a,r),n},t.prototype.generateUpdateRequest=function(e,t,r,n){var o=this;if(!e)return"";var s="";e.forEach((function(e){return e=o.compareAndRemove(e,n.filter((function(r){return a["a"].getObject(t.key,r)===a["a"].getObject(t.key,e)}))[0],t.key)}));var i={method:this.options.updateType+" ",url:function(e,t,r){if("number"===typeof e[t][r]||a["a"].parse.isGuid(e[t][r]))return"("+e[t][r]+")";if(e[t][r]instanceof Date){var n=e[t][r];return"("+n.toJSON()+")"}return"('"+e[t][r]+"')"},data:function(e,t){return JSON.stringify(e[t])+"\n\n"}};return s=this.generateBodyContent(e,t,i,r),s},t.getField=function(e){return e.replace(/\./g,"/")},t.prototype.generateBodyContent=function(e,t,r,a){for(var o="",s=0;s<e.length;s++)o+="\n"+t.cSet+"\n",o+=this.options.changeSetContent+"\n\n",o+=r.method,"POST "===r.method?o+=(a.dataSource.insertUrl||a.dataSource.crudUrl||t.url)+r.url(e,s,t.key)+" HTTP/1.1\n":"PUT "===r.method||"PATCH "===r.method?o+=(a.dataSource.updateUrl||a.dataSource.crudUrl||t.url)+r.url(e,s,t.key)+" HTTP/1.1\n":"DELETE "===r.method&&(o+=(a.dataSource.removeUrl||a.dataSource.crudUrl||t.url)+r.url(e,s,t.key)+" HTTP/1.1\n"),o+="Accept: "+this.options.accept+"\n",o+="Content-Id: "+this.pvt.changeSet+++"\n",o+=this.options.batchChangeSetContentType+"\n",Object(n["L"])(e[s]["@odata.etag"])?o+="\n":(o+="If-Match: "+e[s]["@odata.etag"]+"\n\n",delete e[s]["@odata.etag"]),o+=r.data(e,s);return o},t.prototype.processBatchResponse=function(e,t,r,o,s){if(r&&r.getResponseHeader("Content-Type")&&-1!==r.getResponseHeader("Content-Type").indexOf("xml"))return t.isCountRequired?{result:[],count:0}:[];if(o&&this.options.batch&&a["a"].endsWith(o.url,this.options.batch)&&"post"===o.type.toLowerCase()){var i=r.getResponseHeader("Content-Type"),u=void 0,c=void 0,p=e+"";if(i=i.substring(i.indexOf("=batchresponse")+1),p=p.split(i),p.length<2)return{};p=p[1];var l=/(?:\bContent-Type.+boundary=)(changesetresponse.+)/i.exec(p);l&&p.replace(l[0],"");var d=l?l[1]:"";p=p.split(d);for(var h=p.length;h>-1;h--)/\bContent-ID:/i.test(p[h])&&/\bHTTP.+201/.test(p[h])&&(u=parseInt(/\bContent-ID: (\d+)/i.exec(p[h])[1],10),s.addedRecords[u]&&(c=a["a"].parse.parseJson(/^\{.+\}/m.exec(p[h])[0]),Object(n["C"])({},s.addedRecords[u],this.processResponse(c))));return s}return null},t.prototype.compareAndRemove=function(e,t,r){var o=this;return Object(n["L"])(t)||Object.keys(e).forEach((function(n){if(n!==r&&"@odata.etag"!==n)if(a["a"].isPlainObject(e[n])){o.compareAndRemove(e[n],t[n]);var s=Object.keys(e[n]).filter((function(e){return"@odata.etag"!==e}));0===s.length&&delete e[n]}else(e[n]===t[n]||e[n]&&t[n]&&e[n].valueOf()===t[n].valueOf())&&delete e[n]})),e},t}(p),d=(function(e){function t(t){var r=e.call(this,t)||this;return r.options=Object(n["C"])({},r.options,{requestType:"get",accept:"application/json, text/javascript, */*; q=0.01",multipartAccept:"multipart/mixed",sortBy:"$orderby",select:"$select",skip:"$skip",take:"$top",count:"$count",search:"$search",where:"$filter",expand:"$expand",batch:"$batch",changeSet:"--changeset_",batchPre:"batch_",contentId:"Content-Id: ",batchContent:"Content-Type: multipart/mixed; boundary=",changeSetContent:"Content-Type: application/http\nContent-Transfer-Encoding: binary ",batchChangeSetContentType:"Content-Type: application/json; charset=utf-8 ",updateType:"PATCH",localTime:!1,apply:"$apply"}),Object(n["C"])(r.options,t||{}),r}s(t,e),t.prototype.getModuleName=function(){return"ODataV4Adaptor"},t.prototype.onCount=function(e){return!0===e?"true":""},t.prototype.onPredicate=function(t,r,n){var s="",i=t.value,u=i instanceof Date;if(r instanceof o["b"])for(var c=this.getQueryRequest(r),p=0;p<c.filters.length;p++)c.filters[p].e.key===t.value&&(n=!0);return s=e.prototype.onPredicate.call(this,t,r,n),u&&(s=s.replace(/datetime'(.*)'$/,"$1")),a["a"].parse.isGuid(i)&&(s=s.replace("guid","").replace(/'/g,"")),s},t.prototype.onEachSearch=function(e){var t=this.pvt.searches||[];t.push(e.key),this.pvt.searches=t},t.prototype.onSearch=function(e){return this.pvt.searches.join(" OR ")},t.prototype.onExpand=function(e){var t=this,r={},n={},a=e.expands.slice(),o=[],s=e.selects.filter((function(e){return e.indexOf(".")>-1}));return s.forEach((function(e){var n=e.split(".");if(n[0]in r||(r[n[0]]=[]),2==n.length)r[n[0]].length&&-1!==Object.keys(r).indexOf(n[0])?-1!==r[n[0]][0].indexOf("$expand")&&-1===r[n[0]][0].indexOf(";$select=")?r[n[0]][0]=r[n[0]][0]+";$select="+n[1]:r[n[0]][0]=r[n[0]][0]+","+n[1]:r[n[0]].push("$select="+n[1]);else{for(var a="$select="+n[n.length-1],o="",s="",i=1;i<n.length-1;i++)o=o+"$expand="+n[i]+"(",s+=")";var u=o+a+s;if(r[n[0]].length&&-1!==Object.keys(r).indexOf(n[0])&&t.expandQueryIndex(r[n[0]],!0)){var c=t.expandQueryIndex(r[n[0]]);r[n[0]][c]=r[n[0]][c]+u.replace("$expand=",",")}else r[n[0]].push(u)}})),Object.keys(r).forEach((function(e){-1===a.indexOf(e)&&a.push(e)})),a.forEach((function(e){n[e]=e in r?e+"("+r[e].join(";")+")":e})),Object.keys(n).forEach((function(e){return o.push(n[e])})),o.join(",")},t.prototype.expandQueryIndex=function(e,t){for(var r=0;r<e.length;r++)if(-1!==e[r].indexOf("$expand"))return!!t||r;return!t&&0},t.prototype.onDistinct=function(e){var t=e.map((function(e){return l.getField(e)})).join(",");return"groupby(("+t+"))"},t.prototype.onSelect=function(t){return e.prototype.onSelect.call(this,t.filter((function(e){return-1===e.indexOf(".")})))},t.prototype.beforeSend=function(e,t,r){"POST"!==r.type&&"PUT"!==r.type&&"PATCH"!==r.type||t.setRequestHeader("Prefer","return=representation"),t.setRequestHeader("Accept",this.options.accept)},t.prototype.processResponse=function(t,r,o,s,i,u){var c="@odata.context";if(i&&"GET"===i.type&&!this.rootUrl&&t[c]){var p=t[c].split("/$metadata#");this.rootUrl=p[0],this.resourceTableName=p[1]}var l="pvtData",d=i&&i[l],h=e.prototype.processBatchResponse.call(this,t,o,s,i,u);if(h)return h;var f=null,g="@odata.count";o&&o.isCountRequired&&g in t&&(f=t[g]),t=Object(n["L"])(t.value)?t:t.value;var y={};return y.count=f,y.result=t,this.getAggregateResult(d,t,y,null,o),a["a"].isNull(f)?y.result:{result:y.result,count:f,aggregates:y.aggregates}}}(l),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}s(t,e),t.prototype.getModuleName=function(){return"WebApiAdaptor"},t.prototype.insert=function(e,t,r){return{type:"POST",url:e.dataSource.url,data:JSON.stringify(t)}},t.prototype.remove=function(e,t,r,n){return{type:"DELETE",url:e.dataSource.url+"/"+r,data:JSON.stringify(r)}},t.prototype.update=function(e,t,r,n){return{type:"PUT",url:e.dataSource.url,data:JSON.stringify(r)}},t.prototype.batchRequest=function(e,t,r){var n=this,o=r.guid=a["a"].getGuid(this.options.batchPre),s=e.dataSource.url.replace(/\/*$/,"/"+this.options.batch);r.url=this.resourceTableName?this.resourceTableName:r.url;for(var i=[],u=function(n,a){t.addedRecords.forEach((function(a,s){var u={method:"POST ",url:function(e,t,r){return""},data:function(e,t){return JSON.stringify(e[t])+"\n\n"}};i.push("--"+o),i.push("Content-Type: application/http; msgtype=request",""),i.push("POST /api/"+(e.dataSource.insertUrl||e.dataSource.crudUrl||r.url)+u.url(t.addedRecords,n,r.key)+" HTTP/1.1"),i.push("Content-Type: application/json; charset=utf-8"),i.push("Host: "+location.host),i.push("",a?JSON.stringify(a):"")}))},c=0,p=t.addedRecords.length;c<p;c++)u(c,p);var l=function(a,s){t.changedRecords.forEach((function(s,u){var c={method:n.options.updateType+" ",url:function(e,t,r){return""},data:function(e,t){return JSON.stringify(e[t])+"\n\n"}};i.push("--"+o),i.push("Content-Type: application/http; msgtype=request",""),i.push("PUT /api/"+(e.dataSource.updateUrl||e.dataSource.crudUrl||r.url)+c.url(t.changedRecords,a,r.key)+" HTTP/1.1"),i.push("Content-Type: application/json; charset=utf-8"),i.push("Host: "+location.host),i.push("",s?JSON.stringify(s):"")}))};for(c=0,p=t.changedRecords.length;c<p;c++)l(c,p);var d=function(n,s){t.deletedRecords.forEach((function(s,u){var c={mtd:"DELETE ",url:function(e,t,r){var n=a["a"].getObject(r,e[t]);if("number"===typeof n||a["a"].parse.isGuid(n))return"/"+n;if(n instanceof Date){var o=e[t][r];return"/"+o.toJSON()}return"/'"+n+"'"},data:function(e,t){return""}};i.push("--"+o),i.push("Content-Type: application/http; msgtype=request",""),i.push("DELETE /api/"+(e.dataSource.removeUrl||e.dataSource.crudUrl||r.url)+c.url(t.deletedRecords,n,r.key)+" HTTP/1.1"),i.push("Content-Type: application/json; charset=utf-8"),i.push("Host: "+location.host),i.push("",s?JSON.stringify(s):"")}))};for(c=0,p=t.deletedRecords.length;c<p;c++)d(c,p);return i.push("--"+o+"--",""),{type:"POST",url:s,contentType:"multipart/mixed; boundary="+o,data:i.join("\r\n")}},t.prototype.beforeSend=function(e,t,r){t.setRequestHeader("Accept","application/json, text/javascript, */*; q=0.01")},t.prototype.processResponse=function(e,t,r,n,o,s){var i="pvtData",u=o&&o[i],c=null,p={};if(o&&"post"!==o.type.toLowerCase()){var l=n&&o.getResponseHeader("DataServiceVersion"),d=l&&parseInt(l,10)||2;r&&r.isCountRequired&&(a["a"].isNull(e.Count)||(c=e.Count)),d<3&&e.Items&&(e=e.Items),p.count=c,p.result=e,this.getAggregateResult(u,e,p,null,r)}return p.result=p.result||e,a["a"].isNull(c)?p.result:{result:p.result,count:p.count,aggregates:p.aggregates}}}(l),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}s(t,e),t.prototype.processQuery=function(e,t,r){var n=(new p).processQuery(e,t,r),o="data",s=a["a"].parse.parseJson(n[o]),i={},u="value";if(s.param)for(var c=0;c<s.param.length;c++){var l=s.param[c],d=Object.keys(l)[0];i[d]=l[d]}i[u]=s;var h="pvtData",f="url";return{data:JSON.stringify(i),url:n[f],pvtData:n[h],type:"POST",contentType:"application/json; charset=utf-8"}}}(p),function(e){function t(){var t=e.call(this)||this;return Object(n["Y"])("beforeSend",p.prototype.beforeSend,t),t}return s(t,e),t.prototype.insert=function(e,t,r,o,s){return this.pvt.position=s,this.updateType="add",{url:e.dataSource.insertUrl||e.dataSource.crudUrl||e.dataSource.url,data:JSON.stringify(Object(n["C"])({},{value:t,table:r,action:"insert"},a["a"].getAddParams(this,e,o)))}},t.prototype.remove=function(t,r,o,s,i){return e.prototype.remove.call(this,t,r,o),{type:"POST",url:t.dataSource.removeUrl||t.dataSource.crudUrl||t.dataSource.url,data:JSON.stringify(Object(n["C"])({},{key:o,keyColumn:r,table:s,action:"remove"},a["a"].getAddParams(this,t,i)))}},t.prototype.update=function(e,t,r,o,s){return this.updateType="update",this.updateKey=t,{type:"POST",url:e.dataSource.updateUrl||e.dataSource.crudUrl||e.dataSource.url,data:JSON.stringify(Object(n["C"])({},{value:r,action:"update",keyColumn:t,key:r[t],table:o},a["a"].getAddParams(this,e,s)))}},t.prototype.processResponse=function(t,r,n,o,s,i,u){var c,p=s?JSON.parse(s.data):t;if(t="batch"===p.action?a["a"].parse.parseJson(t):t,"add"===this.updateType&&e.prototype.insert.call(this,r,t,null,null,this.pvt.position),"update"===this.updateType&&e.prototype.update.call(this,r,this.updateKey,t),this.updateType=void 0,t.added)for(c=0;c<t.added.length;c++)e.prototype.insert.call(this,r,t.added[c]);if(t.changed)for(c=0;c<t.changed.length;c++)e.prototype.update.call(this,r,u.key,t.changed[c]);if(t.deleted)for(c=0;c<t.deleted.length;c++)e.prototype.remove.call(this,r,u.key,t.deleted[c]);return t},t.prototype.batchRequest=function(e,t,r,o,s){return{type:"POST",url:e.dataSource.batchUrl||e.dataSource.crudUrl||e.dataSource.url,contentType:"application/json; charset=utf-8",dataType:"json",data:JSON.stringify(Object(n["C"])({},{changed:t.changedRecords,added:t.addedRecords,deleted:t.deletedRecords,action:"batch",table:r.url,key:r.key},a["a"].getAddParams(this,e,o)))}},t.prototype.addParams=function(e){var t=new p;t.addParams(e)},t}(c)),h=function(e){function t(t){var r=e.call(this)||this;return r.options=Object(n["C"])({},r.options,{getData:new Function,addRecord:new Function,updateRecord:new Function,deleteRecord:new Function,batchUpdate:new Function}),Object(n["C"])(r.options,t||{}),r}return s(t,e),t.prototype.getModuleName=function(){return"CustomDataAdaptor"},t}(p),f=(function(e){function t(t){var r=e.call(this)||this;return r.opt=t,r.schema=r.opt.response,r.query=r.opt.query,r.getVariables=r.opt.getVariables?r.opt.getVariables:function(){},r.getQuery=function(){return r.query},r}s(t,e),t.prototype.getModuleName=function(){return"GraphQLAdaptor"},t.prototype.processQuery=function(t,r){var n=e.prototype.processQuery.apply(this,arguments),a=JSON.parse(n.data),o=["skip","take","sorted","table","select","where","search","requiresCounts","aggregates","params"],s={},i="searchwhereparams";o.filter((function(e){s[e]=i.indexOf(e)>-1?JSON.stringify(a[e]):a[e]}));var u=this.getVariables()||{};u["datamanager"]=s;var c=JSON.stringify({query:this.getQuery(),variables:u});return n.data=c,n},t.prototype.processResponse=function(e,t,r,o,s){var i,u,c=e,p=Object(n["J"])(this.schema.result,c.data);this.schema.count&&(i=Object(n["J"])(this.schema.count,c.data)),this.schema.aggregates&&(u=Object(n["J"])(this.schema.aggregates,c.data),u=Object(n["L"])(u)?u:a["a"].parse.parseJson(u));var l=s.pvtData||{},d={result:p,aggregates:u},h=d;return l&&l.groups&&l.groups.length&&this.getAggregateResult(l,h,d,null,r),Object(n["L"])(i)?d.result:{result:d.result,count:i,aggregates:u}},t.prototype.insert=function(){var t=e.prototype.insert.apply(this,arguments);return this.generateCrudData(t,"insert")},t.prototype.update=function(){var t=e.prototype.update.apply(this,arguments);return this.generateCrudData(t,"update")},t.prototype.remove=function(){var t=e.prototype.remove.apply(this,arguments);return this.generateCrudData(t,"remove")},t.prototype.batchRequest=function(t,r,n,a,o){var s=e.prototype.batchRequest.apply(this,arguments),i=JSON.parse(s.data);return i.key=n.key,s.data=JSON.stringify(i),this.generateCrudData(s,"batch")},t.prototype.generateCrudData=function(e,t){var r=JSON.parse(e.data);return e.data=JSON.stringify({query:this.opt.getMutation(t),variables:r}),e}}(p),function(e){function t(t,r,o){var s=e.call(this)||this;s.isCrudAction=!1,s.isInsertAction=!1,Object(n["L"])(t)||(s.cacheAdaptor=t),s.pageSize=o,s.guidId=a["a"].getGuid("cacheAdaptor");var i={keys:[],results:[]};window.localStorage.setItem(s.guidId,JSON.stringify(i));var u=s.guidId;return Object(n["L"])(r)||setInterval((function(){var e;e=a["a"].parse.parseJson(window.localStorage.getItem(u));for(var t=[],n=0;n<e.results.length;n++){var o=+new Date,s=+new Date(e.results[n].timeStamp);e.results[n].timeStamp=o-s,o-s>r&&t.push(n)}for(n=0;n<t.length;n++)e.results.splice(t[n],1),e.keys.splice(t[n],1);window.localStorage.removeItem(u),window.localStorage.setItem(u,JSON.stringify(e))}),r),s}return s(t,e),t.prototype.generateKey=function(e,t){var r=this.getQueryRequest(t),n=o["b"].filterQueryLists(t.queries,["onSelect","onPage","onSkip","onTake","onRange"]),a=e,s="onPage";s in n&&(a+=n[s].pageIndex),r.sorts.forEach((function(e){a+=e.e.direction+e.e.fieldName})),r.groups.forEach((function(e){a+=e.e.fieldName})),r.searches.forEach((function(e){a+=e.e.searchKey}));for(var i=0;i<r.filters.length;i++){var u=r.filters[i];if(u.e.isComplex){var c=t.clone();c.queries=[];for(var p=0;p<u.e.predicates.length;p++)c.queries.push({fn:"onWhere",e:u.e.predicates[p],filter:t.queries.filter});a+=u.e.condition+this.generateKey(e,c)}else a+=u.e.field+u.e.operator+u.e.value}return a},t.prototype.processQuery=function(e,t,r){var n,o=this.generateKey(e.dataSource.url,t);n=a["a"].parse.parseJson(window.localStorage.getItem(this.guidId));var s=n?n.results[n.keys.indexOf(o)]:null;return null==s||this.isCrudAction||this.isInsertAction?(this.isCrudAction=null,this.isInsertAction=null,this.cacheAdaptor.processQuery.apply(this.cacheAdaptor,[].slice.call(arguments,0))):s},t.prototype.processResponse=function(e,t,r,n,o,s){if(this.isInsertAction||o&&this.cacheAdaptor.options.batch&&a["a"].endsWith(o.url,this.cacheAdaptor.options.batch)&&"post"===o.type.toLowerCase())return this.cacheAdaptor.processResponse(e,t,r,n,o,s);e=this.cacheAdaptor.processResponse.apply(this.cacheAdaptor,[].slice.call(arguments,0));var i=r?this.generateKey(t.dataSource.url,r):t.dataSource.url,u={};u=a["a"].parse.parseJson(window.localStorage.getItem(this.guidId));var c=u.keys.indexOf(i);-1!==c&&(u.results.splice(c,1),u.keys.splice(c,1)),u.results[u.keys.push(i)-1]={keys:i,result:e.result,timeStamp:new Date,count:e.count};while(u.results.length>this.pageSize)u.results.splice(0,1),u.keys.splice(0,1);return window.localStorage.setItem(this.guidId,JSON.stringify(u)),e},t.prototype.beforeSend=function(e,t,r){!Object(n["L"])(this.cacheAdaptor.options.batch)&&a["a"].endsWith(r.url,this.cacheAdaptor.options.batch)&&"post"===r.type.toLowerCase()&&t.setRequestHeader("Accept",this.cacheAdaptor.options.multipartAccept),e.dataSource.crossDomain||t.setRequestHeader("Accept",this.cacheAdaptor.options.accept)},t.prototype.update=function(e,t,r,n){return this.isCrudAction=!0,this.cacheAdaptor.update(e,t,r,n)},t.prototype.insert=function(e,t,r){return this.isInsertAction=!0,this.cacheAdaptor.insert(e,t,r)},t.prototype.remove=function(e,t,r,n){return this.isCrudAction=!0,this.cacheAdaptor.remove(e,t,r,n)},t.prototype.batchRequest=function(e,t,r){return this.cacheAdaptor.batchRequest(e,t,r)},t}(p)),g=function(){function e(e,t,r){var s,i=this;return this.dateParse=!0,this.timeZoneHandling=!0,this.requests=[],e||this.dataSource||(e=[]),r=r||e.adaptor,e&&!1===e.timeZoneHandling&&(this.timeZoneHandling=e.timeZoneHandling),e instanceof Array?s={json:e,offline:!0}:"object"===typeof e?(e.json||(e.json=[]),s={url:e.url,insertUrl:e.insertUrl,removeUrl:e.removeUrl,updateUrl:e.updateUrl,crudUrl:e.crudUrl,batchUrl:e.batchUrl,json:e.json,headers:e.headers,accept:e.accept,data:e.data,timeTillExpiration:e.timeTillExpiration,cachingPageSize:e.cachingPageSize,enableCaching:e.enableCaching,requestType:e.requestType,key:e.key,crossDomain:e.crossDomain,jsonp:e.jsonp,dataType:e.dataType,offline:void 0!==e.offline?e.offline:!(e.adaptor instanceof d||e.adaptor instanceof h)&&!e.url,requiresFormat:e.requiresFormat}):a["a"].throwError("DataManager: Invalid arguments"),void 0!==s.requiresFormat||a["a"].isCors()||(s.requiresFormat=!!Object(n["L"])(s.crossDomain)||s.crossDomain),void 0===s.dataType&&(s.dataType="json"),this.dataSource=s,this.defaultQuery=t,s.url&&s.offline&&!s.json.length?(this.isDataAvailable=!1,this.adaptor=r||new l,this.dataSource.offline=!1,this.ready=this.executeQuery(t||new o["b"]),this.ready.then((function(e){i.dataSource.offline=!0,i.isDataAvailable=!0,s.json=e.result,i.adaptor=new c}))):this.adaptor=s.offline?new c:new l,!s.jsonp&&this.adaptor instanceof l&&(s.jsonp="callback"),this.adaptor=r||this.adaptor,s.enableCaching&&(this.adaptor=new f(this.adaptor,s.timeTillExpiration,s.cachingPageSize)),this}return e.prototype.setDefaultQuery=function(e){return this.defaultQuery=e,this},e.prototype.executeLocal=function(t){this.defaultQuery||t instanceof o["b"]||a["a"].throwError("DataManager - executeLocal() : A query is required to execute"),this.dataSource.json||a["a"].throwError("DataManager - executeLocal() : Json data is required to execute"),t=t||this.defaultQuery;var r=this.adaptor.processQuery(this,t);if(t.subQuery){var s=t.subQuery.fromTable,i=t.subQuery.lookups,u=t.isCountRequired?r.result:r;i&&i instanceof Array&&a["a"].buildHierarchy(t.subQuery.fKey,s,u,i,t.subQuery.key);for(var c=0;c<u.length;c++)u[c][s]instanceof Array&&(u[c]=Object(n["C"])({},{},u[c]),u[c][s]=this.adaptor.processResponse(t.subQuery.using(new e(u[c][s].slice(0))).executeLocal(),this,t))}return this.adaptor.processResponse(r,this,t)},e.prototype.executeQuery=function(t,r,s,i){var u=this,c="makeRequest";"function"===typeof t&&(i=s,s=r,r=t,t=null),t||(t=this.defaultQuery),t instanceof o["b"]||a["a"].throwError("DataManager - executeQuery() : A query is required to execute");var p=new y,l={query:t};if(!this.dataSource.offline&&void 0!==this.dataSource.url&&""!==this.dataSource.url||!Object(n["L"])(this.adaptor[c])||this.isCustomDataAdaptor(this.adaptor)){var d=this.adaptor.processQuery(this,t);Object(n["L"])(this.adaptor[c])?!Object(n["L"])(d.url)||this.isCustomDataAdaptor(this.adaptor)?this.makeRequest(d,p,l,t):(l=e.getDeferedArgs(t,d,l),p.resolve(l)):this.adaptor[c](d,p,l,t)}else e.nextTick((function(){var r=u.executeLocal(t);l=e.getDeferedArgs(t,r,l),p.resolve(l)}));return(r||s)&&p.promise.then(r,s),i&&p.promise.then(i,i),p.promise},e.getDeferedArgs=function(e,t,r){return e.isCountRequired?(r.result=t.result,r.count=t.count,r.aggregates=t.aggregates):r.result=t,r},e.nextTick=function(e){(window.setImmediate||window.setTimeout)(e,0)},e.prototype.extendRequest=function(e,t,r){return Object(n["C"])({},{type:"GET",dataType:this.dataSource.dataType,crossDomain:this.dataSource.crossDomain,jsonp:this.dataSource.jsonp,cache:!0,processData:!1,onSuccess:t,onFailure:r},e)},e.prototype.makeRequest=function(e,t,r,o){var s=this,i=!!o.subQuerySelector,u=function(e){r.error=e,t.reject(r)},c=function(e,n,a,o,s,i,u){r.xhr=a,r.count=n?parseInt(n.toString(),10):0,r.result=e,r.request=o,r.aggregates=i,r.actual=s,r.virtualSelectRecords=u,t.resolve(r)},p=function(e,t){var n=new y,p={parent:r};o.subQuery.isChild=!0;var l=s.adaptor.processQuery(s,o.subQuery,e?s.adaptor.processResponse(e):t),d=s.makeRequest(l,n,p,o.subQuery);return i||n.then((function(t){e&&(a["a"].buildHierarchy(o.subQuery.fKey,o.subQuery.fromTable,e,t,o.subQuery.key),c(e,t.count,t.xhr))}),u),d},l=function(e,t){if(s.isGraphQLAdaptor(s.adaptor)&&!Object(n["L"])(e["errors"]))return u(e["errors"],t);s.isCustomDataAdaptor(s.adaptor)&&(t=Object(n["C"])({},s.ajaxReqOption,t)),-1===t.httpRequest.getResponseHeader("Content-Type").indexOf("xml")&&s.dateParse&&(e=a["a"].parse.parseJson(e));var r=s.adaptor.processResponse(e,s,o,t.httpRequest,t),l=0,d=null,h="virtualSelectRecords",f=e[h];o.isCountRequired&&(l=r.count,d=r.aggregates,r=r.result),o.subQuery?i||p(r,t):c(r,l,t.httpRequest,t.type,e,d,f)},d=this.extendRequest(e,l,u);if(this.isCustomDataAdaptor(this.adaptor)){this.ajaxReqOption=d;var h=d;this.adaptor.options.getData({data:h.data,onSuccess:h.onSuccess,onFailure:h.onFailure})}else{var f=new n["a"](d);f.beforeSend=function(){s.beforeSend(f.httpRequest,f)},d=f.send(),d.catch((function(e){return!0})),this.requests.push(f)}if(i){var g=void 0,v=o.subQuerySelector.call(this,{query:o.subQuery,parent:o});v&&v.length?(g=Promise.all([d,p(null,v)]),g.then((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=e[0],n=s.adaptor.processResponse(r[0],s,o,s.requests[0].httpRequest,s.requests[0]),u=0;o.isCountRequired&&(u=n.count,n=n.result);var p=s.adaptor.processResponse(r[1],s,o.subQuery,s.requests[1].httpRequest,s.requests[1]);u=0,o.subQuery.isCountRequired&&(u=p.count,p=p.result),a["a"].buildHierarchy(o.subQuery.fKey,o.subQuery.fromTable,n,p,o.subQuery.key),i=!1,c(n,u,s.requests[0].httpRequest)}))):i=!1}return d},e.prototype.beforeSend=function(e,t){this.adaptor.beforeSend(this,e,t);for(var r,n=this.dataSource.headers,a=0;n&&a<n.length;a++){r=[];for(var o=Object.keys(n[a]),s=0,i=o;s<i.length;s++){var u=i[s];r.push(u),e.setRequestHeader(u,n[a][u])}}},e.prototype.saveChanges=function(e,t,r,a,s){var i=this;r instanceof o["b"]&&(a=r,r=null);var u={url:r,key:t||this.dataSource.key},c=this.adaptor.batchRequest(this,e,u,a||new o["b"],s),p="doAjaxRequest";if(this.dataSource.offline)return c;if(Object(n["L"])(this.adaptor[p])){if(this.isCustomDataAdaptor(this.adaptor))return this.doAjaxRequest(c,this.adaptor.options.batchUpdate);var l=new y,d=new n["a"](c);return d.beforeSend=function(){i.beforeSend(d.httpRequest,d)},d.onSuccess=function(t,r){i.isGraphQLAdaptor(i.adaptor)&&(Object(n["L"])(t["errors"])||d.onFailure(JSON.stringify(t["errors"]))),l.resolve(i.adaptor.processResponse(t,i,null,r.httpRequest,r,e,u))},d.onFailure=function(e){l.reject([{error:e}])},d.send().catch((function(e){return!0})),l.promise}return this.adaptor[p](c)},e.prototype.insert=function(e,t,r,a){t instanceof o["b"]&&(r=t,t=null);var s=this.adaptor.insert(this,e,t,r,a),i="doAjaxRequest";return this.dataSource.offline?s:Object(n["L"])(this.adaptor[i])?this.doAjaxRequest(s,this.adaptor.options.addRecord):this.adaptor[i](s)},e.prototype.remove=function(e,t,r,s){"object"===typeof t&&(t=a["a"].getObject(e,t)),r instanceof o["b"]&&(s=r,r=null);var i=this.adaptor.remove(this,e,t,r,s),u="doAjaxRequest";if(this.dataSource.offline)return i;if(Object(n["L"])(this.adaptor[u])){var c=this.adaptor.options.deleteRecord;return this.doAjaxRequest(i,c)}return this.adaptor[u](i)},e.prototype.update=function(e,t,r,a,s){r instanceof o["b"]&&(a=r,r=null);var i=this.adaptor.update(this,e,t,r,a,s),u="doAjaxRequest";if(this.dataSource.offline)return i;if(Object(n["L"])(this.adaptor[u])){var c=this.adaptor.options.updateRecord;return this.doAjaxRequest(i,c)}return this.adaptor[u](i)},e.prototype.isCustomDataAdaptor=function(e){return this.adaptor.getModuleName&&"CustomDataAdaptor"===this.adaptor.getModuleName()},e.prototype.isGraphQLAdaptor=function(e){return this.adaptor.getModuleName&&"GraphQLAdaptor"===this.adaptor.getModuleName()},e.prototype.successFunc=function(e,t){if(this.isGraphQLAdaptor(this.adaptor)){var r=JSON.parse(e);Object(n["L"])(r["errors"])||this.failureFunc(JSON.stringify(r["errors"]))}this.isCustomDataAdaptor(this.adaptor)&&(t=Object(n["C"])({},this.ajaxReqOption,t));try{a["a"].parse.parseJson(e)}catch(o){e=[]}e=this.adaptor.processResponse(a["a"].parse.parseJson(e),this,null,t.httpRequest,t),this.ajaxDeffered.resolve(e)},e.prototype.failureFunc=function(e){this.ajaxDeffered.reject([{error:e}])},e.prototype.doAjaxRequest=function(e,t){var r=this;if(e=Object(n["C"])({},{type:"POST",contentType:"application/json; charset=utf-8",processData:!1},e),this.ajaxDeffered=new y,this.isCustomDataAdaptor(this.adaptor))this.ajaxReqOption=e,t.call(this,{data:e.data,onSuccess:this.successFunc.bind(this),onFailure:this.failureFunc.bind(this)});else{var a=new n["a"](e);a.beforeSend=function(){r.beforeSend(a.httpRequest,a)},a.onSuccess=this.successFunc.bind(this),a.onFailure=this.failureFunc.bind(this),a.send().catch((function(e){return!0}))}return this.ajaxDeffered.promise},e}(),y=function(){function e(){var e=this;this.promise=new Promise((function(t,r){e.resolve=t,e.reject=r})),this.then=this.promise.then.bind(this.promise),this.catch=this.promise.catch.bind(this.promise)}return e}()},d77f:function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r("7de8"),a=r("4f3e"),o=r("2d85"),s={GroupGuid:"{271bbba0-1ee7}"},i=function(){function e(){}return e.getValue=function(e,t){return"function"===typeof e?e.call(t||{}):e},e.endsWith=function(e,t){return e.slice&&e.slice(-t.length)===t},e.startsWith=function(e,t){return e.slice(0,t.length)===t},e.fnSort=function(t){return t=t?e.toLowerCase(t):"ascending","ascending"===t?this.fnAscending:this.fnDescending},e.fnAscending=function(e,t){return Object(n["L"])(e)&&Object(n["L"])(t)||null===t||void 0===t?-1:"string"===typeof e?e.localeCompare(t):null===e||void 0===e?1:e-t},e.fnDescending=function(e,t){return Object(n["L"])(e)&&Object(n["L"])(t)?-1:null===t||void 0===t?1:"string"===typeof e?-1*e.localeCompare(t):null===e||void 0===e?-1:t-e},e.extractFields=function(e,t){for(var r={},n=0;n<t.length;n++)r=this.setValue(t[n],this.getObject(t[n],e),r);return r},e.select=function(e,t){for(var r=[],n=0;n<e.length;n++)r.push(this.extractFields(e[n],t));return r},e.group=function(t,r,a,o,i,u,c){o=o||1;var p=t,l="GroupGuid";if(p.GroupGuid===s[l]){for(var d=function(e){if(Object(n["L"])(i))p[e].items=h.group(p[e].items,r,a,p.level+1,null,u,c),p[e].count=p[e].items.length;else{var t=-1,o=i.filter((function(t){return t.key===p[e].key}));t=i.indexOf(o[0]),p[e].items=h.group(p[e].items,r,a,p.level+1,i[t].items,u,c),p[e].count=i[t].count}},h=this,f=0;f<p.length;f++)d(f);return p.childLevels+=1,p}var g={},y=[];y.GroupGuid=s[l],y.level=o,y.childLevels=0,y.records=p;for(var v=function(e){var t=m.getVal(p,e,r);if(Object(n["L"])(u)||(t=u(t,r)),!g[t]&&(g[t]={key:t,count:0,items:[],aggregates:{},field:r},y.push(g[t]),!Object(n["L"])(i))){var o=i.filter((function(e){return e.key===g[t].key}));g[t].count=o[0].count}g[t].count=Object(n["L"])(i)?g[t].count+=1:g[t].count,(!c||c&&a.length)&&g[t].items.push(p[e])},m=this,b=0;b<p.length;b++)v(b);if(a&&a.length){var O=function(t){for(var r={},o=void 0,s=a,u=0;u<a.length;u++)if(o=e.aggregates[a[u].type],Object(n["L"])(i))o&&(r[s[u].field+" - "+s[u].type]=o(y[t].items,s[u].field));else{var c=i.filter((function(e){return e.key===y[t].key}));o&&(r[s[u].field+" - "+s[u].type]=o(c[0].items,s[u].field))}y[t].aggregates=r};for(b=0;b<y.length;b++)O(b)}if(c&&y.length&&a.length)for(b=0;b<y.length;b++)y[b].items=[];return p.length&&y||p},e.buildHierarchy=function(e,t,r,n,a){var o,s,i={};for(n.result&&(n=n.result),n.GroupGuid&&this.throwError("DataManager: Do not have support Grouping in hierarchy"),o=0;o<n.length;o++){var u=this.getObject(e,n[o]);s=i[u]||(i[u]=[]),s.push(n[o])}for(o=0;o<r.length;o++){u=this.getObject(a||e,r[o]);r[o][t]=i[u]}},e.getFieldList=function(e,t,r){if(void 0===r&&(r=""),void 0===t||null===t)return this.getFieldList(e,[],r);for(var n=e,a=Object.keys(e),o=0,s=a;o<s.length;o++){var i=s[o];"object"!==typeof n[i]||n[i]instanceof Array?t.push(r+i):this.getFieldList(n[i],t,r+i+".")}return t},e.getObject=function(e,t){if(!e)return t;if(t){if(-1===e.indexOf("."))return t[e];for(var r=t,n=e.split("."),a=0;a<n.length;a++){if(null==r)break;r=r[n[a]]}return r}},e.setValue=function(e,t,r){var a,o,s=e.toString().split("."),i=r||{},u=i,c=s.length;for(a=0;a<c;a++)o=s[a],a+1===c?u[o]=void 0===t?void 0:t:Object(n["L"])(u[o])&&(u[o]={}),u=u[o];return i},e.sort=function(e,t,r){if(e.length<=1)return e;var n=parseInt((e.length/2).toString(),10),a=e.slice(0,n),o=e.slice(n);return a=this.sort(a,t,r),o=this.sort(o,t,r),this.merge(a,o,t,r)},e.ignoreDiacritics=function(t){if("string"!==typeof t)return t;var r=t.split(""),n=r.map((function(t){return t in e.diacritics?e.diacritics[t]:t}));return n.join("")},e.merge=function(e,t,r,n){var a,o=[];while(e.length>0||t.length>0)a=e.length>0&&t.length>0?n?n(this.getVal(e,0,r),this.getVal(t,0,r),e[0],t[0])<=0?e:t:e[0][r]<e[0][r]?e:t:e.length>0?e:t,o.push(a.shift());return o},e.getVal=function(e,t,r){return r?this.getObject(r,e[t]):e[t]},e.toLowerCase=function(e){return e?"string"===typeof e?e.toLowerCase():e.toString():0===e||!1===e?e.toString():""},e.callAdaptorFunction=function(e,t,r,a){if(t in e){var o=e[t](r,a);Object(n["L"])(o)||(r=o)}return r},e.getAddParams=function(t,r,n){var a={};return e.callAdaptorFunction(t,"addParams",{dm:r,query:n,params:n.params,reqParams:a}),a},e.isPlainObject=function(e){return!!e&&e.constructor===Object},e.isCors=function(){var e=null,t="XMLHttpRequest";try{e=new window[t]}catch(r){}return!!e&&"withCredentials"in e},e.getGuid=function(e){var t,r="0123456789abcdef";return(e||"")+"00000000-0000-4000-0000-000000000000".replace(/0/g,(function(e,n){if("crypto"in window&&"getRandomValues"in crypto){var a=new Uint8Array(1);window.crypto.getRandomValues(a),t=a[0]%16|0}else t=16*Math.random()|0;return r[19===n?3&t|8:t]}))},e.isNull=function(e){return void 0===e||null===e},e.getItemFromComparer=function(t,r,a){var o,s,i,u=0,c="string"===typeof e.getVal(t,0,r);if(t.length)while(Object(n["L"])(o)&&u<t.length)o=e.getVal(t,u,r),i=t[u++];for(;u<t.length;u++)s=e.getVal(t,u,r),Object(n["L"])(s)||(c&&(o=+o,s=+s),a(o,s)>0&&(o=s,i=t[u]));return i},e.distinct=function(t,r,a){a=!Object(n["L"])(a)&&a;var o,s=[],i={};return t.forEach((function(n,u){o="object"===typeof t[u]?e.getVal(t,u,r):t[u],o in i||(s.push(a?t[u]:o),i[o]=1)})),s},e.processData=function(e,t){var r=this.prepareQuery(e),n=new a["a"](t);e.requiresCounts&&r.requiresCount();var o=n.executeLocal(r),s={result:e.requiresCounts?o.result:o,count:o.count,aggregates:JSON.stringify(o.aggregates)};return e.requiresCounts?s:o},e.prepareQuery=function(t){var r=this,a=new o["b"];if(t.select&&a.select(t.select),t.where){var s=e.parse.parseJson(t.where);s.filter((function(e){if(Object(n["L"])(e.condition))a.where(e.field,e.operator,e.value,e.ignoreCase,e.ignoreAccent);else{var t=[];e.field?t.push(new o["a"](e.field,e.operator,e.value,e.ignoreCase,e.ignoreAccent)):t=t.concat(r.getPredicate(e.predicates)),"or"==e.condition?a.where(o["a"].or(t)):"and"==e.condition&&a.where(o["a"].and(t))}}))}if(t.search){var i=e.parse.parseJson(t.search);i.filter((function(e){return a.search(e.key,e.fields,e["operator"],e["ignoreCase"],e["ignoreAccent"])}))}return t.aggregates&&t.aggregates.filter((function(e){return a.aggregate(e.type,e.field)})),t.sorted&&t.sorted.filter((function(e){return a.sortBy(e.name,e.direction)})),t.skip&&a.skip(t.skip),t.take&&a.take(t.take),t.group&&t.group.filter((function(e){return a.group(e)})),a},e.getPredicate=function(e){for(var t=[],r=0;r<e.length;r++){var n=e[r];if(n.field)t.push(new o["a"](n.field,n.operator,n.value,n.ignoreCase,n.ignoreAccent));else{for(var a=[],s=this.getPredicate(n.predicates),i=0,u=Object.keys(s);i<u.length;i++){var c=u[i];a.push(s[c])}t.push("or"==n.condition?o["a"].or(a):o["a"].and(a))}}return t},e.serverTimezoneOffset=null,e.timeZoneHandling=!0,e.throwError=function(e){try{throw new Error(e)}catch(t){throw t.message+"\n"+t.stack}},e.aggregates={sum:function(t,r){for(var n,a=0,o="number"!==typeof e.getVal(t,0,r),s=0;s<t.length;s++)n=e.getVal(t,s,r),isNaN(n)||null===n||(o&&(n=+n),a+=n);return a},average:function(t,r){return e.aggregates.sum(t,r)/t.length},min:function(t,r){var n;return"function"===typeof r&&(n=r,r=null),e.getObject(r,e.getItemFromComparer(t,r,n||e.fnAscending))},max:function(t,r){var n;return"function"===typeof r&&(n=r,r=null),e.getObject(r,e.getItemFromComparer(t,r,n||e.fnDescending))},truecount:function(e,t){return new a["a"](e).executeLocal((new o["b"]).where(t,"equal",!0,!0)).length},falsecount:function(e,t){return new a["a"](e).executeLocal((new o["b"]).where(t,"equal",!1,!0)).length},count:function(e,t){return e.length}},e.operatorSymbols={"<":"lessthan",">":"greaterthan","<=":"lessthanorequal",">=":"greaterthanorequal","==":"equal","!=":"notequal","*=":"contains","$=":"endswith","^=":"startswith"},e.odBiOperator={"<":" lt ",">":" gt ","<=":" le ",">=":" ge ","==":" eq ","!=":" ne ",lessthan:" lt ",lessthanorequal:" le ",greaterthan:" gt ",greaterthanorequal:" ge ",equal:" eq ",notequal:" ne "},e.odUniOperator={"$=":"endswith","^=":"startswith","*=":"substringof",endswith:"endswith",startswith:"startswith",contains:"substringof"},e.odv4UniOperator={"$=":"endswith","^=":"startswith","*=":"contains",endswith:"endswith",startswith:"startswith",contains:"contains"},e.diacritics={"":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"AA","":"AE","":"AE","":"AE","":"AO","":"AU","":"AV","":"AV","":"AY","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"DZ","":"DZ","":"Dz","":"Dz","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"F","":"F","":"F","":"F","":"F","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"J","":"J","":"J","":"J","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"LJ","":"Lj","":"M","":"M","":"M","":"M","":"M","":"M","":"M","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"NJ","":"Nj","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"OI","":"OO","":"OU","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"Q","":"Q","":"Q","":"Q","":"Q","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"TZ","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"V","":"V","":"V","":"V","":"V","":"V","":"V","":"VY","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"X","":"X","":"X","":"X","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"aa","":"ae","":"ae","":"ae","":"ao","":"au","":"av","":"av","":"ay","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"dz","":"dz","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"f","":"f","":"f","":"f","":"f","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"hv","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"j","":"j","":"j","":"j","":"j","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"lj","":"m","":"m","":"m","":"m","":"m","":"m","":"m","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"nj","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"oi","":"ou","":"oo","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"q","":"q","":"q","":"q","":"q","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"tz","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"v","":"v","":"v","":"v","":"v","":"v","":"v","":"vy","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"x","":"x","":"x","":"x","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},e.fnOperators={equal:function(t,r,n,a){return a&&(t=e.ignoreDiacritics(t),r=e.ignoreDiacritics(r)),n?e.toLowerCase(t)===e.toLowerCase(r):t===r},notequal:function(t,r,n,a){return a&&(t=e.ignoreDiacritics(t),r=e.ignoreDiacritics(r)),!e.fnOperators.equal(t,r,n)},lessthan:function(t,r,a){return a?e.toLowerCase(t)<e.toLowerCase(r):(Object(n["L"])(t)&&(t=void 0),t<r)},greaterthan:function(t,r,n){return n?e.toLowerCase(t)>e.toLowerCase(r):t>r},lessthanorequal:function(t,r,a){return a?e.toLowerCase(t)<=e.toLowerCase(r):(Object(n["L"])(t)&&(t=void 0),t<=r)},greaterthanorequal:function(t,r,n){return n?e.toLowerCase(t)>=e.toLowerCase(r):t>=r},contains:function(t,r,a,o){return o&&(t=e.ignoreDiacritics(t),r=e.ignoreDiacritics(r)),a?!Object(n["L"])(t)&&!Object(n["L"])(r)&&-1!==e.toLowerCase(t).indexOf(e.toLowerCase(r)):!Object(n["L"])(t)&&!Object(n["L"])(r)&&-1!==t.toString().indexOf(r)},notnull:function(e){return null!==e},isnull:function(e){return null===e},startswith:function(t,r,n,a){return a&&(t=e.ignoreDiacritics(t),r=e.ignoreDiacritics(r)),n?t&&r&&e.startsWith(e.toLowerCase(t),e.toLowerCase(r)):t&&r&&e.startsWith(t,r)},endswith:function(t,r,n,a){return a&&(t=e.ignoreDiacritics(t),r=e.ignoreDiacritics(r)),n?t&&r&&e.endsWith(e.toLowerCase(t),e.toLowerCase(r)):t&&r&&e.endsWith(t,r)},processSymbols:function(t){var r=e.operatorSymbols[t];if(r){var n=e.fnOperators[r];return n}return e.throwError("Query - Process Operator : Invalid operator")},processOperator:function(t){var r=e.fnOperators[t];return r||e.fnOperators.processSymbols(t)}},e.parse={parseJson:function(t){return"string"===typeof t?t=JSON.parse(t,e.parse.jsonReviver):t instanceof Array?e.parse.iterateAndReviveArray(t):"object"===typeof t&&null!==t&&e.parse.iterateAndReviveJson(t),t},iterateAndReviveArray:function(t){for(var r=0;r<t.length;r++)"object"===typeof t[r]&&null!==t[r]?e.parse.iterateAndReviveJson(t[r]):"string"!==typeof t[r]||/^[\s]*\[|^[\s]*\{(.)+:|\"/g.test(t[r])?t[r]=e.parse.parseJson(t[r]):t[r]=e.parse.jsonReviver("",t[r])},iterateAndReviveJson:function(t){for(var r,n=Object.keys(t),a=0,o=n;a<o.length;a++){var s=o[a];e.startsWith(s,"__")||(r=t[s],"object"===typeof r?r instanceof Array?e.parse.iterateAndReviveArray(r):r&&e.parse.iterateAndReviveJson(r):t[s]=e.parse.jsonReviver(t[s],r))}},jsonReviver:function(t,r){if("string"===typeof r){var n=/^\/Date\(([+-]?[0-9]+)([+-][0-9]{4})?\)\/$/.exec(r),a=e.timeZoneHandling?e.serverTimezoneOffset:null;if(n)return e.dateParse.toTimeZone(new Date(parseInt(n[1],10)),a,!0);if(/^(\d{4}\-\d\d\-\d\d([tT][\d:\.]*){1})([zZ]|([+\-])(\d\d):?(\d\d))?$/.test(r)){var o=r.indexOf("Z")>-1||r.indexOf("z")>-1,s=r.split(/[^0-9.]/);if(o)r=e.dateParse.toTimeZone(new Date(parseInt(s[0],10),parseInt(s[1],10)-1,parseInt(s[2],10),parseInt(s[3],10),parseInt(s[4],10),parseInt(s[5],10)),e.serverTimezoneOffset,!1);else{var i=new Date(parseInt(s[0],10),parseInt(s[1],10)-1,parseInt(s[2],10),parseInt(s[3],10),parseInt(s[4],10),parseInt(s[5],10)),u=parseInt(s[6],10),c=parseInt(s[7],10);if(isNaN(u)&&isNaN(c))return i;r.indexOf("+")>-1?i.setHours(i.getHours()-u,i.getMinutes()-c):i.setHours(i.getHours()+u,i.getMinutes()+c),r=e.dateParse.toTimeZone(i,e.serverTimezoneOffset,!1)}null==e.serverTimezoneOffset&&(r=e.dateParse.addSelfOffset(r))}}return r},isJson:function(t){return"string"===typeof t[0]?t:e.parse.parseJson(t)},isGuid:function(e){var t=/[A-Fa-f0-9]{8}(?:-[A-Fa-f0-9]{4}){3}-[A-Fa-f0-9]{12}/i,r=t.exec(e);return null!=r},replacer:function(t,r){return e.isPlainObject(t)?e.parse.jsonReplacer(t,r):t instanceof Array?e.parse.arrayReplacer(t):t instanceof Date?e.parse.jsonReplacer({val:t},r).val:t},jsonReplacer:function(t,r){for(var n,a=Object.keys(t),o=0,s=a;o<s.length;o++){var i=s[o];if(n=t[i],n instanceof Date){var u=n;null==e.serverTimezoneOffset?t[i]=e.dateParse.toTimeZone(u,null).toJSON():(u=new Date(+u+36e5*e.serverTimezoneOffset),t[i]=e.dateParse.toTimeZone(e.dateParse.addSelfOffset(u),null).toJSON())}}return t},arrayReplacer:function(t){for(var r=0;r<t.length;r++)e.isPlainObject(t[r])?t[r]=e.parse.jsonReplacer(t[r]):t[r]instanceof Date&&(t[r]=e.parse.jsonReplacer({date:t[r]}).date);return t},jsonDateReplacer:function(t,r){if("value"===t&&r){if("string"===typeof r){var n=/^\/Date\(([+-]?[0-9]+)([+-][0-9]{4})?\)\/$/.exec(r);if(n)r=e.dateParse.toTimeZone(new Date(parseInt(n[1],10)),null,!0);else if(/^(\d{4}\-\d\d\-\d\d([tT][\d:\.]*){1})([zZ]|([+\-])(\d\d):?(\d\d))?$/.test(r)){var a=r.split(/[^0-9]/);r=e.dateParse.toTimeZone(new Date(parseInt(a[0],10),parseInt(a[1],10)-1,parseInt(a[2],10),parseInt(a[3],10),parseInt(a[4],10),parseInt(a[5],10)),null,!0)}}if(r instanceof Date)return r=e.dateParse.addSelfOffset(r),null===e.serverTimezoneOffset?e.dateParse.toTimeZone(e.dateParse.addSelfOffset(r),null).toJSON():(r=e.dateParse.toTimeZone(r,r.getTimezoneOffset()/60*2-e.serverTimezoneOffset,!1),r.toJSON())}return r}},e.dateParse={addSelfOffset:function(e){return new Date(+e-6e4*e.getTimezoneOffset())},toUTC:function(e){return new Date(+e+6e4*e.getTimezoneOffset())},toTimeZone:function(t,r,n){if(null===r)return t;var a=n?e.dateParse.toUTC(t):t;return new Date(+a-36e5*r)},toLocalTime:function(e){var t=e,r=-t.getTimezoneOffset(),n=r>=0?"+":"-",a=function(e){var t=Math.floor(Math.abs(e));return(t<10?"0":"")+t},o=t.getFullYear()+"-"+a(t.getMonth()+1)+"-"+a(t.getDate())+"T"+a(t.getHours())+":"+a(t.getMinutes())+":"+a(t.getSeconds())+n+a(r/60)+":"+a(r%60);return o}},e}()}}]);
//# sourceMappingURL=chunk-vendors~b61af9c0.3251fb96.js.map
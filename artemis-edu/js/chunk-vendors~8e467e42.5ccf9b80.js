(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-vendors~8e467e42"],{"1e45":function(e,t,i){"use strict";i.d(t,"b",(function(){return h})),i.d(t,"a",(function(){return y}));var n=i("8faa"),o=i("d9bf"),r=i("d420"),a=i("c9c3"),s=i("7cf2"),d=i("73c0"),l=i("a5aa"),c=i("7de8");function h(e,t,i,n){if(i&&t.activeElements.activePageID>-1){var o=p(t,i,e),r=g(o,e,t,i);return n?o:r}}function p(e,t,i){var n=e.currentPosition||{x:i.offsetX,y:i.offsetY};n={x:n.x/e.getZoomFactor(),y:n.y/e.getZoomFactor()};var o=t.getPageTable(e.activeElements.activePageID),r=w(n,o.objects);return r}function g(e,t,i,n){var r,a,s,c=null;if(t&&t.type&&-1!==t.type.indexOf("touch")){if(r=t,n.annotation){var h=i.getElement("_pageDiv_"+n.annotation.getEventPageNumber(t));if(h){var p=h.getBoundingClientRect();a=r.changedTouches[0].clientX-p.left,s=r.changedTouches[0].clientY-p.top}}}else if(t&&t.target&&t.path&&t.target.parentElement&&t.target.parentElement.classList.contains("foreign-object")){var g=t.path[4].getBoundingClientRect();a=t.clientX-g.left,s=t.clientY-g.top}else if(t.target&&t.target.parentElement&&t.target.parentElement.classList.contains("foreign-object")){g=t.target.offsetParent.offsetParent.offsetParent.getBoundingClientRect();a=t.clientX-g.left,s=t.clientY-g.top}else if(t.target&&t.target.parentElement&&t.target.parentElement.parentElement&&t.target.parentElement.parentElement.classList.contains("foreign-object")){g=t.target.offsetParent.offsetParent.offsetParent.offsetParent.getBoundingClientRect();a=t.clientX-g.left,s=t.clientY-g.top}else a=isNaN(t.offsetX)?t.position?t.position.x:0:t.offsetX,s=isNaN(t.offsetY)?t.position?t.position.y:0:t.offsetY;for(var u=5,m=0,w=0;w<e.length;w++)if("Distance"===e[w].shapeAnnotationType||"Line"===e[w].shapeAnnotationType||"LineWidthArrowHead"===e[w].shapeAnnotationType||i.tool instanceof l["c"]){var y={x:a/i.getZoomFactor(),y:s/i.getZoomFactor()},b=S(e[w],y,u),v=Object(d["j"])(e[w],y);if(b&&!v){var x=f(e[w],b);if(x){var z=o["a"].toBounds([x,x]);z.Inflate(10),z.containsPoint(y)&&(v=!0)}}b&&v&&(c=e[w])}else{var O=e[w].wrapper.bounds,j=0;if("Stamp"!==e[w].shapeAnnotationType&&"Image"!==e[w].shapeAnnotationType||(j=25),(O.x-u)*i.getZoomFactor()<a&&(O.x+O.width+u)*i.getZoomFactor()>a&&(O.y-u-j)*i.getZoomFactor()<s&&(O.y+O.height+u)*i.getZoomFactor()>s)if(i.tool instanceof l["e"]||i.tool instanceof l["j"])c=e[w];else if(m){var V=a-(O.x-u)*i.getZoomFactor()+((O.x+O.width+u)*i.getZoomFactor()-a)+(s-(O.y-u-j)*i.getZoomFactor())+((O.y+O.height+u)*i.getZoomFactor()-s);m>V||m===V?(c=e[w],m=V):"Image"!==e[w].shapeAnnotationType&&"Stamp"!==e[w].shapeAnnotationType||(c=e[w])}else c=e[w],m=a-(O.x-u)*i.getZoomFactor()+((O.x+O.width+u)*i.getZoomFactor()-a)+(s-(O.y-u-j)*i.getZoomFactor())+((O.y+O.height+u)*i.getZoomFactor()-s)}return c}function f(e,t){var i=0,n=e.sourcePoint,o=e.targetPoint;if("Distance"===e.shapeAnnotationType){var s=t,d=void 0,l=r["a"].findAngle(e.sourcePoint,e.targetPoint);if(s.id.indexOf("leader")>-1){var c=e.wrapper.children[0].bounds.center;0===i&&s.id.indexOf("leader1")>-1?(d={x:e.sourcePoint.x,y:e.sourcePoint.y-e.leaderHeight},c=n):(d={x:e.targetPoint.x,y:e.targetPoint.y-e.leaderHeight},c=o);var h=Object(a["a"])();Object(a["b"])(h,l,c.x,c.y);var p=Object(a["d"])(h,{x:d.x,y:d.y});return p}}}function S(e,t,i){return m(e.wrapper,t,i)}function u(e,t,i){if(0===i.length)i.push(e);else if(1===i.length)i[0][t]>e[t]?i.splice(0,0,e):i.push(e);else if(i.length>1){var n=0,o=i.length-1,r=Math.floor((n+o)/2);while(r!==n)i[r][t]<e[t]?(n=r,r=Math.floor((n+o)/2)):i[r][t]>e[t]&&(o=r,r=Math.floor((n+o)/2));i[o][t]<e[t]?i.push(e):i[n][t]>e[t]?i.splice(n,0,e):i[n][t]<e[t]&&i[o][t]>e[t]&&i.splice(o,0,e)}}function m(e,t,i){if(e&&e.children)for(var o=e.children.length-1;o>=0;o--){var r=e.children[o];if(!Object(c["L"])(r.children)&&r.children.length>0)for(var d=r.children.length-1;d>=0;d--){var l=r.children[d];if(l&&l.bounds.containsPoint(t,10)){if(l instanceof s["a"]){var h=this.findTargetElement(l,t);if(h)return h}if(l.bounds.containsPoint(t,10))return l}}else if(r&&r.bounds.containsPoint(t,10)){if(r instanceof s["a"]){h=this.findTargetElement(r,t);if(h)return h}if(r.bounds.containsPoint(t,10))return r}}if(e&&e.bounds.containsPoint(t,i)&&"none"!==e.style.fill){var p=e,g=10,f=30,S=Object(a["a"])();Object(a["b"])(S,p.parentTransform,p.offsetX,p.offsetY);var u=p.offsetX-p.pivot.x*p.actualSize.width,m=p.offsetY-p.pivot.y*p.actualSize.height,w={x:u+(.5===p.pivot.x?2*p.pivot.x:p.pivot.x)*p.actualSize.width/2,y:m-f};if(w=Object(a["d"])(S,w),Object(n["a"])(t,w,g))return e}return null}function w(e,t){for(var i=[],n=0,o=t;n<o.length;n++){var r=o[n];(S(r,e,10)||"Stamp"===r.shapeAnnotationType&&S(r,e,40))&&u(r,"zIndex",i)}return i}var y=function(){function e(){this.activePage=void 0,this.activePageID=void 0}return Object.defineProperty(e.prototype,"activePageID",{get:function(){return this.activePage},set:function(e){this.activePage=e,this.activePage},enumerable:!0,configurable:!0}),e}()},"725f":function(e,t,i){"use strict";i.d(t,"a",(function(){return c})),i.d(t,"b",(function(){return h})),i.d(t,"c",(function(){return p}));var n=i("7de8"),o=i("d420"),r=i("4fcd"),a=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),s=function(e,t,i,n){var o,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,i,a):o(t,i))||a);return r>3&&a&&Object.defineProperty(t,i,a),a},d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),s([Object(n["q"])(0)],t.prototype,"x",void 0),s([Object(n["q"])(0)],t.prototype,"y",void 0),s([Object(n["q"])(0)],t.prototype,"width",void 0),s([Object(n["q"])(0)],t.prototype,"height",void 0),s([Object(n["q"])(0)],t.prototype,"left",void 0),s([Object(n["q"])(0)],t.prototype,"top",void 0),s([Object(n["q"])(0)],t.prototype,"right",void 0),s([Object(n["q"])(0)],t.prototype,"bottom",void 0),s([Object(n["f"])({x:0,y:0},o["a"])],t.prototype,"location",void 0),s([Object(n["f"])(new r["a"](0,0),r["a"])],t.prototype,"size",void 0),t}(n["d"]),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),s([Object(n["q"])(!1)],t.prototype,"isBold",void 0),s([Object(n["q"])(!1)],t.prototype,"isItalic",void 0),s([Object(n["q"])(!1)],t.prototype,"isUnderline",void 0),s([Object(n["q"])(!1)],t.prototype,"isStrikeout",void 0),t}(n["d"]),c=function(e){function t(t,i,n,o){return e.call(this,t,i,n,o)||this}return a(t,e),s([Object(n["q"])("")],t.prototype,"id",void 0),s([Object(n["q"])("Rectangle")],t.prototype,"shapeAnnotationType",void 0),s([Object(n["q"])(null)],t.prototype,"formFieldAnnotationType",void 0),s([Object(n["q"])("")],t.prototype,"measureType",void 0),s([Object(n["q"])("")],t.prototype,"author",void 0),s([Object(n["q"])("")],t.prototype,"modifiedDate",void 0),s([Object(n["q"])("")],t.prototype,"subject",void 0),s([Object(n["q"])("")],t.prototype,"notes",void 0),s([Object(n["q"])(!1)],t.prototype,"isCommentLock",void 0),s([Object(n["q"])("black")],t.prototype,"strokeColor",void 0),s([Object(n["q"])("#ffffff00")],t.prototype,"fillColor",void 0),s([Object(n["q"])("#ffffff00")],t.prototype,"stampFillColor",void 0),s([Object(n["q"])("black")],t.prototype,"stampStrokeColor",void 0),s([Object(n["q"])("")],t.prototype,"data",void 0),s([Object(n["q"])(1)],t.prototype,"opacity",void 0),s([Object(n["q"])(1)],t.prototype,"thickness",void 0),s([Object(n["q"])("")],t.prototype,"borderStyle",void 0),s([Object(n["q"])("")],t.prototype,"borderDashArray",void 0),s([Object(n["q"])(0)],t.prototype,"rotateAngle",void 0),s([Object(n["q"])(!1)],t.prototype,"isCloudShape",void 0),s([Object(n["q"])(0)],t.prototype,"cloudIntensity",void 0),s([Object(n["q"])(40)],t.prototype,"leaderHeight",void 0),s([Object(n["q"])(null)],t.prototype,"lineHeadStart",void 0),s([Object(n["q"])(null)],t.prototype,"lineHeadEnd",void 0),s([Object(n["q"])([])],t.prototype,"vertexPoints",void 0),s([Object(n["q"])(null)],t.prototype,"sourcePoint",void 0),s([Object(n["q"])("None")],t.prototype,"sourceDecoraterShapes",void 0),s([Object(n["q"])("None")],t.prototype,"taregetDecoraterShapes",void 0),s([Object(n["q"])(null)],t.prototype,"targetPoint",void 0),s([Object(n["q"])([])],t.prototype,"segments",void 0),s([Object(n["f"])({x:0,y:0},d)],t.prototype,"bounds",void 0),s([Object(n["q"])(0)],t.prototype,"pageIndex",void 0),s([Object(n["q"])(-1)],t.prototype,"zIndex",void 0),s([Object(n["q"])(null)],t.prototype,"wrapper",void 0),s([Object(n["q"])(!1)],t.prototype,"isDynamicStamp",void 0),s([Object(n["q"])("")],t.prototype,"dynamicText",void 0),s([Object(n["q"])("")],t.prototype,"annotName",void 0),s([Object(n["q"])({})],t.prototype,"review",void 0),s([Object(n["q"])([])],t.prototype,"comments",void 0),s([Object(n["q"])("#000")],t.prototype,"fontColor",void 0),s([Object(n["q"])(16)],t.prototype,"fontSize",void 0),s([Object(n["q"])("Helvetica")],t.prototype,"fontFamily",void 0),s([Object(n["q"])("None")],t.prototype,"fontStyle",void 0),s([Object(n["q"])(!1)],t.prototype,"enableShapeLabel",void 0),s([Object(n["q"])("label")],t.prototype,"labelContent",void 0),s([Object(n["q"])("#ffffff00")],t.prototype,"labelFillColor",void 0),s([Object(n["q"])(15)],t.prototype,"labelMaxLength",void 0),s([Object(n["q"])(1)],t.prototype,"labelOpacity",void 0),s([Object(n["q"])("")],t.prototype,"annotationSelectorSettings",void 0),s([Object(n["q"])("#ffffff00")],t.prototype,"labelBorderColor",void 0),s([Object(n["q"])("left")],t.prototype,"textAlign",void 0),s([Object(n["q"])("")],t.prototype,"signatureName",void 0),s([Object(n["q"])(0)],t.prototype,"minHeight",void 0),s([Object(n["q"])(0)],t.prototype,"minWidth",void 0),s([Object(n["q"])(0)],t.prototype,"maxHeight",void 0),s([Object(n["q"])(0)],t.prototype,"maxWidth",void 0),s([Object(n["q"])(!1)],t.prototype,"isLock",void 0),s([Object(n["q"])("UI Drawn Annotation")],t.prototype,"annotationAddMode",void 0),s([Object(n["q"])("")],t.prototype,"annotationSettings",void 0),s([Object(n["q"])(16)],t.prototype,"previousFontSize",void 0),s([Object(n["f"])({isBold:!1,isItalic:!1,isStrikeout:!1,isUnderline:!1},l)],t.prototype,"font",void 0),s([Object(n["f"])({x:0,y:0},d)],t.prototype,"labelBounds",void 0),s([Object(n["q"])(null)],t.prototype,"customData",void 0),s([Object(n["q"])(["None"])],t.prototype,"allowedInteractions",void 0),s([Object(n["q"])(!0)],t.prototype,"isPrint",void 0),s([Object(n["q"])(!1)],t.prototype,"isReadonly",void 0),t}(n["d"]),h=function(e){function t(t,i,n,o){return e.call(this,t,i,n,o)||this}return a(t,e),s([Object(n["q"])("")],t.prototype,"id",void 0),s([Object(n["q"])("")],t.prototype,"signatureType",void 0),s([Object(n["q"])("")],t.prototype,"name",void 0),s([Object(n["q"])("")],t.prototype,"value",void 0),s([Object(n["q"])(null)],t.prototype,"formFieldAnnotationType",void 0),s([Object(n["q"])("#daeaf7ff")],t.prototype,"backgroundColor",void 0),s([Object(n["q"])("black")],t.prototype,"color",void 0),s([Object(n["q"])("#303030")],t.prototype,"borderColor",void 0),s([Object(n["q"])("")],t.prototype,"tooltip",void 0),s([Object(n["q"])(1)],t.prototype,"opacity",void 0),s([Object(n["q"])(1)],t.prototype,"thickness",void 0),s([Object(n["q"])(0)],t.prototype,"rotateAngle",void 0),s([Object(n["f"])({x:0,y:0},d)],t.prototype,"bounds",void 0),s([Object(n["q"])(0)],t.prototype,"pageIndex",void 0),s([Object(n["q"])(1)],t.prototype,"pageNumber",void 0),s([Object(n["q"])(-1)],t.prototype,"zIndex",void 0),s([Object(n["q"])(null)],t.prototype,"wrapper",void 0),s([Object(n["q"])(16)],t.prototype,"fontSize",void 0),s([Object(n["q"])("Helvetica")],t.prototype,"fontFamily",void 0),s([Object(n["q"])("None")],t.prototype,"fontStyle",void 0),s([Object(n["q"])("left")],t.prototype,"alignment",void 0),s([Object(n["q"])(0)],t.prototype,"minHeight",void 0),s([Object(n["q"])(0)],t.prototype,"minWidth",void 0),s([Object(n["q"])(0)],t.prototype,"maxHeight",void 0),s([Object(n["q"])(0)],t.prototype,"maxWidth",void 0),s([Object(n["q"])(0)],t.prototype,"maxLength",void 0),s([Object(n["q"])("visible")],t.prototype,"visibility",void 0),s([Object(n["q"])(!0)],t.prototype,"isPrint",void 0),s([Object(n["q"])(!1)],t.prototype,"isReadonly",void 0),s([Object(n["q"])(!1)],t.prototype,"isChecked",void 0),s([Object(n["q"])(!1)],t.prototype,"isSelected",void 0),s([Object(n["q"])(!1)],t.prototype,"isRequired",void 0),s([Object(n["q"])(!1)],t.prototype,"isMultiline",void 0),s([Object(n["q"])("")],t.prototype,"options",void 0),s([Object(n["q"])()],t.prototype,"signatureIndicatorSettings",void 0),s([Object(n["f"])({isBold:!1,isItalic:!1,isStrikeout:!1,isUnderline:!1},l)],t.prototype,"font",void 0),s([Object(n["q"])()],t.prototype,"selectedIndex",void 0),t}(n["d"]),p=function(){function e(){this.pageIdTemp=0,this.zIndexTemp=-1,this.childNodesTemp=[],this.objects=[],this.zIndexTemp=-1,this.pageIdTemp=0}return Object.defineProperty(e.prototype,"pageId",{get:function(){return this.pageIdTemp},set:function(e){this.pageIdTemp=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"zIndex",{get:function(){return this.zIndexTemp},set:function(e){this.zIndexTemp=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"objects",{get:function(){return this.childNodesTemp},set:function(e){this.childNodesTemp=e},enumerable:!0,configurable:!0}),e}()},"73c0":function(e,t,i){"use strict";i.d(t,"b",(function(){return f})),i.d(t,"m",(function(){return u})),i.d(t,"e",(function(){return m})),i.d(t,"k",(function(){return w})),i.d(t,"c",(function(){return y})),i.d(t,"a",(function(){return b})),i.d(t,"f",(function(){return x})),i.d(t,"i",(function(){return z})),i.d(t,"l",(function(){return O})),i.d(t,"d",(function(){return j})),i.d(t,"h",(function(){return A})),i.d(t,"g",(function(){return P})),i.d(t,"j",(function(){return T}));var n=i("d9bf"),o=i("d420"),r=i("4fcd"),a=i("446e"),s=i("2ab5"),d=i("ea6f"),l=i("2bf7"),c=i("c9c3"),h=i("8faa"),p=i("ecd8"),g=i("7de8");function f(e,t){t=e.vertexPoints;var i=t.slice(0);return i&&i.length>0&&(e.sourcePoint=i[0],e.targetPoint=i[i.length-1]),i}function S(e,t){var i,n="",o=[],r=0;while(r<t.length)o.push({x:t[r].x,y:t[r].y}),r++;o=b(e,o);for(var a=0;a<o.length;a++)i=o[a],0===a&&(n="M"+i.x+" "+i.y),a>0&&(n+=" L"+i.x+" "+i.y);return n}function u(e,t,i){var o=new n["a"],r=S(e,t);return o=n["a"].toBounds(t),i.width=o.width,i.height=o.height,i.offsetX=o.x+i.width/2,i.offsetY=o.y+i.height/2,i.data=r,e.wrapper&&(e.wrapper.offsetX=i.offsetX,e.wrapper.offsetY=i.offsetY,e.wrapper.width=o.width,e.wrapper.height=o.height),i}function m(e,t){var i=[];return i=f(e),t.staticSize=!0,t=u(e,i,t),Object(p["f"])(e,t),t}function w(e,t,i,n,s){t.offsetX=i.x,t.offsetY=i.y;var d=o["a"].findAngle(i,n),l=e.thickness<=5?5:e.thickness,c=F(s?e.sourceDecoraterShapes:e.taregetDecoraterShapes),h=new r["a"](2*l,2*l);t.transform=a["b"].Self,Object(p["f"])(e,t),t.style.fill="tranparent"!==e.fillColor?e.fillColor:"white",t.rotateAngle=d,t.data=c,t.canMeasurePath=!0,t.width=h.width,t.height=h.height,"Butt"===e.sourceDecoraterShapes&&(t.width=h.width-10,t.height=h.height+10)}function y(e,t,i,n){var o=new s["a"];return w(e,o,t,i,n),o}function b(e,t){return t[0]=v(e,t,!0),t[t.length-1]=v(e,t,!1),t}function v(e,t,i){var n={x:0,y:0},r={x:0,y:0},a={x:0,y:0},s=t.length;r=i?t[0]:t[s-1],a=i?t[1]:t[s-2];var d=o["a"].distancePoints(r,a);d=0===d?1:d;var l=e.thickness;n.x=Math.round(r.x+l*(a.x-r.x)/d),n.y=Math.round(r.y+l*(a.y-r.y)/d);var c=1;return n=o["a"].adjustPoint(n,a,!0,c/2),n}function x(e,t,i,n){var r=[],a=o["a"].findAngle(t[0],t[1]),s=V(e,a);return!n.enableImportAnnotationMeasurement&&e.notes&&""!==e.notes?s.content=e.notes:s.content=i.setConversion(Object(p["b"])([t[0],t[1]])*i.pixelToPointFactor,e),s.rotateValue={y:-10,angle:a},!0===e.enableShapeLabel&&(s.style.strokeColor=e.labelBorderColor,s.style.fill=e.labelFillColor,s.style.fontSize=e.fontSize,s.style.color=e.fontColor,s.style.fontFamily=e.fontFamily),r.push(s),r}function z(e,t,i,n){var r=[],a=o["a"].findAngle(t[0],t[1]),s=V(e,a);return!n.enableImportAnnotationMeasurement&&e.notes&&""!==e.notes?s.content=e.notes:s.content=i.calculatePerimeter(e),!0===e.enableShapeLabel&&(s.style.strokeColor=e.labelBorderColor,s.style.fill=e.labelFillColor,s.style.fontSize=e.fontSize,s.style.color=e.fontColor,s.style.fontFamily=e.fontFamily),s.rotateValue={y:-10,angle:a},r.push(s),r}function O(e,t,i){for(var n,o=0;o<e.wrapper.children.length;o++){var r=e.wrapper.children[o];r&&!Object(g["L"])(r.content)&&(n=i.calculatePerimeter(e),r.content=n,r.childNodes[0].text=r.content,r.refreshTextElement())}return n}function j(e){var t,i,n="";for(n="M"+e[0].x+" "+e[0].y,i=1;i<e.length;i++)t=e[i],n+="L"+t.x+" "+t.y;return n+="Z",n}function V(e,t){var i=new d["a"];return Object(p["f"])(e,i),i.style.fill="transparent",i.id=Object(l["e"])(),i.horizontalAlignment="Center",i.rotateValue={y:10,angle:t},i.verticalAlignment="Top",i.relativeMode="Object",i.setOffsetWithRespectToBounds(.5,.5,"Absolute"),i.offsetX,i.style.textWrapping="NoWrap",i}function A(e,t){var i=[],n=P(e,t[0],t[1]);return i.push(n),n=P(e,t[1],t[0],!0),i.push(n),i}function P(e,t,i,n){var d=new s["a"];d.offsetX=t.x,d.offsetY=t.y;var h=o["a"].findAngle(t,i),g={x:(t.x+i.x)/2,y:(t.y+i.y)/2},f=Object(c["a"])();Object(c["b"])(f,0-h,g.x,g.y);var S=Object(c["d"])(f,t),u={x:S.x,y:S.y-e.leaderHeight};f=Object(c["a"])(),Object(c["b"])(f,h,d.offsetX,d.offsetY),S=Object(c["d"])(f,u);var m={x:t.x,y:t.y};d.offsetX=m.x,d.offsetY=m.y,d.transform=a["b"].Self;var w="M"+t.x+","+t.y+",L"+S.x+","+S.y+"Z",y=new r["a"](0,e.leaderHeight);return d.pivot.x=.5,n?(d.id="leader2_"+Object(l["e"])(),d.pivot.y=0):(d.id="leader1_"+Object(l["e"])(),d.pivot.y=1),Object(p["f"])(e,d),d.rotateAngle=h,d.data=w,d.canMeasurePath=!0,d.width=y.width,d.height=y.height,d}function T(e,t){for(var i=e.vertexPoints,r=0;r<i.length-1;r++){var a=i[r],s=i[r+1],d=n["a"].toBounds([a,s]);if(d.Inflate(10),d.containsPoint(t)){var l=C(t,a,s),c={x1:a.x,x2:s.x,y1:a.y,y2:s.y},p={x1:t.x,x2:l.x,y1:t.y,y2:l.y},g=Object(h["b"])(c,p);if(g.enabled){var f=o["a"].findLength(t,g.intersectPt);if(Math.abs(f)<10)return!0}else{var S=n["a"].toBounds([t,t]);if(S.Inflate(3),S.containsPoint(a)||S.containsPoint(s))return!0}if(o["a"].equals(t,l))return!0}}return!1}function C(e,t,i){var n,r=o["a"].findLength(t,e),a=o["a"].findLength(i,e);n=r>a?i:t;var s=o["a"].findAngle(t,i),d=o["a"].findAngle(n,e),l=o["a"].findLength(n,e),c=d+2*(s-d);return{x:n.x+l*Math.cos(c*Math.PI/180),y:n.y+l*Math.sin(c*Math.PI/180)}}function F(e){return H[e]}var H={OpenArrow:"M15.9,23 L5,16 L15.9,9 L17,10.7 L8.7,16 L17,21.3Z",Square:"M0,0 L10,0 L10,10 L0,10 z",Fletch:"M14.8,10c0,0-3.5,6,0.2,12c0,0-2.5-6-10.9-6C4.1,16,11.3,16,14.8,10z",OpenFetch:"M6,17c-0.6,0-1-0.4-1-1s0.4-1,1-1c10.9,0,11-5,11-5c0-0.6,0.4-1,1-1s1,0.4,1,1C19,10.3,18.9,17,6,17C6,17,6,17,6,17z M18,23c-0.5,0-1-0.4-1-1c0-0.2-0.3-5-11-5c-0.6,0-1-0.5-1-1s0.4-1,1-1c0,0,0,0,0,0c12.9,0,13,6.7,13,7    C19,22.6,18.6,23,18,23z",IndentedArrow:"M17,10c0,0-4.5,5.5,0,12L5,16L17,10z",OutdentedArrow:"M14.6,10c0,0,5.4,6,0,12L5,16L14.6,10z",DoubleArrow:"M19,10 L19,22 L13,16Z M12,10 L12,22 L6,16Z",Arrow:"M15,10 L15,22 L5,16Z",Diamond:"M12,23l-7-7l7-7l6.9,7L12,23z",Circle:"M0,50 A50,50,0 1 1 100,50 A50,50,0 1 1 0,50 Z",Butt:"M0,0 L0,90"}},a5aa:function(e,t,i){"use strict";i.d(t,"i",(function(){return S})),i.d(t,"d",(function(){return u})),i.d(t,"j",(function(){return m})),i.d(t,"b",(function(){return w})),i.d(t,"a",(function(){return y})),i.d(t,"g",(function(){return b})),i.d(t,"e",(function(){return v})),i.d(t,"f",(function(){return x})),i.d(t,"c",(function(){return z})),i.d(t,"h",(function(){return O}));var n=i("2bf7"),o=i("d420"),r=i("d9bf"),a=i("c9c3"),s=i("ea6f"),d=i("da93"),l=i("1e45"),c=i("ecd8"),h=i("7de8"),p=i("73c0"),g=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),f=function(){function e(e,t,i){void 0===i&&(i=!1),this.commandHandler=null,this.inAction=!1,this.pdfViewerBase=null,this.currentElement=null,this.blocked=!1,this.isTooltipVisible=!1,this.childTable={},this.helper=void 0,this.undoElement={annotations:[]},this.undoParentElement={annotations:[]},this.commandHandler=e,this.pdfViewerBase=t}return e.prototype.startAction=function(e){this.currentElement=e,this.inAction=!0},e.prototype.mouseDown=function(e){this.currentElement=e.source,this.startPosition=this.currentPosition=this.prevPosition=e.position,this.isTooltipVisible=!0,this.startAction(e.source)},e.prototype.mouseMove=function(e){return this.currentPosition=e.position,this.prevPageId=this.pdfViewerBase.activeElements.activePageID,!this.blocked},e.prototype.mouseUp=function(e){this.currentPosition=e.position,this.isTooltipVisible=!1,this.endAction(),this.helper=null},e.prototype.endAction=function(){this.commandHandler&&(this.commandHandler.tool="",this.helper&&this.commandHandler.remove(this.helper)),this.commandHandler=null,this.currentElement=null,this.currentPosition=null,this.inAction=!1,this.blocked=!1},e.prototype.mouseWheel=function(e){this.currentPosition=e.position},e.prototype.mouseLeave=function(e){this.mouseUp(e)},e.prototype.updateSize=function(e,t,i,n,o,r,d){var l=this.commandHandler.viewerBase.getZoomFactor(),c=this.currentPosition.x/l-this.startPosition.x/l,h=this.currentPosition.y/l-this.startPosition.y/l,p=e instanceof s["a"]?r:e.rotateAngle,g=Object(a["a"])();Object(a["b"])(g,-p,0,0);var f,S=0,u=0,m=e instanceof s["a"]?e.actualSize.width:e.wrapper.bounds.width,w=e instanceof s["a"]?e.actualSize.height:e.wrapper.bounds.height,y=e;e.formFieldAnnotationType||e.annotName||e.shapeAnnotationType||e&&(y=e.annotations[0]);var b=this.commandHandler.annotationModule?this.commandHandler.annotationModule.findAnnotationSettings(y):{},v=0,x=0,z=0,O=0;(b.minWidth||b.maxWidth||b.minHeight||b.maxHeight)&&(v=b.maxHeight?b.maxHeight:2e3,x=b.maxWidth?b.maxWidth:2e3,z=b.minHeight?b.minHeight:0,O=b.minWidth?b.minWidth:0);var j=!1;if((z||O||v||x)&&(j=!0),j&&d){var V=this.getPositions(n,c,h),A=m+V.x,P=w+V.y;P>z&&P<v&&A>O&&A<x?(c=c,h=h):((P<z||P>v)&&(h=P<z?z-w:v-w),(A<O||A>x)&&(c=A<O?O-m:x-m))}switch(n){case"ResizeWest":f=Object(a["d"])(g,{x:c,y:h}),c=f.x,h=f.y,u=1,c=c,h=0,j&&o.width-c>x&&(c=x-o.width),S=(o.width-c)/m;break;case"ResizeEast":f=Object(a["d"])(g,{x:c,y:h}),c=f.x,h=f.y,h=0,j&&o.width+c>x&&(c=x-o.width),S=(o.width+c)/m,u=1;break;case"ResizeNorth":S=1,f=Object(a["d"])(g,{x:c,y:h}),c=f.x,h=f.y,j&&o.height-h>v&&(h=v-o.height),u=(o.height-h)/w;break;case"ResizeSouth":S=1,f=Object(a["d"])(g,{x:c,y:h}),c=f.x,h=f.y,j&&o.height+h>v&&(h=v-o.height),u=(o.height+h)/w;break;case"ResizeNorthEast":f=Object(a["d"])(g,{x:c,y:h}),c=f.x,h=f.y,j&&(o.width+c>x&&(c=x-o.width),o.height-h>v&&(h=v-o.height)),S=(o.width+c)/m,u=(o.height-h)/w;break;case"ResizeNorthWest":f=Object(a["d"])(g,{x:c,y:h}),c=f.x,h=f.y,j&&(o.width-c>x&&(c=x-o.width),o.height-h>v&&(h=v-o.height)),S=(o.width-c)/m,u=(o.height-h)/w;break;case"ResizeSouthEast":f=Object(a["d"])(g,{x:c,y:h}),c=f.x,h=f.y,j&&(o.width+c>x&&(c=x-o.width),o.height+h>v&&(h=v-o.height)),u=(o.height+h)/w,S=(o.width+c)/m;break;case"ResizeSouthWest":f=Object(a["d"])(g,{x:c,y:h}),c=f.x,h=f.y,j&&(o.width-c>x&&(c=x-o.width),o.height+h>v&&(h=v-o.height)),S=(o.width-c)/m,u=(o.height+h)/w;break}return{width:S,height:u}},e.prototype.getPivot=function(e){switch(e){case"ResizeWest":return{x:1,y:.5};case"ResizeEast":return{x:0,y:.5};case"ResizeNorth":return{x:.5,y:1};case"ResizeSouth":return{x:.5,y:0};case"ResizeNorthEast":return{x:0,y:1};case"ResizeNorthWest":return{x:1,y:1};case"ResizeSouthEast":return{x:0,y:0};case"ResizeSouthWest":return{x:1,y:0}}return{x:.5,y:.5}},e.prototype.getPositions=function(e,t,i){switch(e){case"ResizeEast":return{x:t,y:0};case"ResizeSouthEast":return{x:t,y:i};case"ResizeSouth":return{x:0,y:i};case"ResizeNorth":return{x:0,y:-i};case"ResizeNorthEast":return{x:t,y:-i};case"ResizeNorthWest":return{x:-t,y:-i};case"ResizeWest":return{x:-t,y:0};case"ResizeSouthWest":return{x:-t,y:i}}return{x:t,y:i}},e}(),S=function(e){function t(t,i){return e.call(this,t,i,!0)||this}return g(t,e),t.prototype.mouseDown=function(t){this.inAction=!0,this.mouseEventHelper(t),e.prototype.mouseDown.call(this,t)},t.prototype.mouseEventHelper=function(e){this.commandHandler&&this.commandHandler.annotationModule&&(this.commandHandler.annotationModule.overlappedCollections=Object(l["b"])(e,this.pdfViewerBase,this.commandHandler,!0));var t=Object(l["b"])(e,this.pdfViewerBase,this.commandHandler),i=!1;if(t&&"StickyNotes"===t.shapeAnnotationType&&t.annotationSettings&&t.annotationSettings.isLock&&(i=!this.commandHandler.annotationModule.checkAllowedInteractions("Select",t)),!i){var n=void 0;if(n=e.source&&null!==e.annotationSelectorSettings?e.source.annotationSelectorSettings:"",this.commandHandler){var o=this.commandHandler.selectedItems;if(o){var r=o.annotations[0],a=o.formFields[0],s=this.commandHandler.selectedItems.annotations[0],d=e.source;if((o.annotations.length&&e.info&&!e.info.ctrlKey&&this.commandHandler.annotationModule&&!1===this.commandHandler.annotationModule.freeTextAnnotationModule.isInuptBoxInFocus||e.info&&e.info.ctrlKey&&(d&&"FreeText"===d.shapeAnnotationType||s&&"FreeText"===s.shapeAnnotationType)||Object(h["L"])(t)&&this.commandHandler.formDesignerModule&&!(d&&"FreeText"===d.shapeAnnotationType||s&&("FreeText"===s.shapeAnnotationType||"Image"===s.shapeAnnotationType||"StickyNotes"===s.shapeAnnotationType)))&&this.commandHandler.clearSelection(this.pdfViewerBase.activeElements.activePageID),t&&(Object(h["L"])(this.pdfViewerBase.isFreeTextSelected)||this.pdfViewerBase.isFreeTextSelected||(this.commandHandler.select([t.id],n),this.commandHandler.viewerBase.isAnnotationMouseDown=!0),this.pdfViewerBase.isFreeTextSelected=!1,this.commandHandler.viewerBase.isFormFieldMouseDown=!0),0===o.annotations.length&&r&&"HandWrittenSignature"!==r.shapeAnnotationType&&"SignatureText"!==r.shapeAnnotationType&&"SignatureImage"!==r.shapeAnnotationType&&"Path"!==r.shapeAnnotationType&&!r.formFieldAnnotationType&&(this.commandHandler.enableToolbar&&h["c"].isDevice&&!this.commandHandler.enableDesktopMode&&this.commandHandler.toolbarModule.showToolbar(!0),this.commandHandler.fireAnnotationUnSelect(r.annotName,r.pageIndex,r)),0===o.formFields.length&&this.commandHandler.formDesignerModule&&a&&a.formFieldAnnotationType){var c={name:a.name,id:a.id,value:a.value,fontFamily:a.fontFamily,fontSize:a.fontSize,fontStyle:a.fontStyle,color:a.color,backgroundColor:a.backgroundColor,alignment:a.alignment,isReadonly:a.isReadOnly,visibility:a.visibility,maxLength:a.maxLength,isRequired:a.isRequired,isPrint:a.isPrint,rotation:a.rotation,tooltip:a.tooltip,options:a.options,isChecked:a.isChecked,isSelected:a.isSelected};this.commandHandler.fireFormFieldUnselectEvent("formFieldUnselect",c,a.pageIndex)}else if(this.pdfViewerBase.currentTarget&&this.pdfViewerBase.currentTarget.id&&this.commandHandler.formFields&&"mousedown"===event.type)for(var p=0;p<this.commandHandler.formFields.length;p++){var g=this.commandHandler.formFields[p];if(this.pdfViewerBase.currentTarget&&this.pdfViewerBase.currentTarget.id===g.id){c={value:g.value,fontFamily:g.fontFamily,fontSize:g.fontSize,fontStyle:g.fontStyle,color:g.color,backgroundColor:g.backgroundColor,alignment:g.alignment,isReadonly:g.isReadonly,visibility:g.visibility,maxLength:g.maxLength,isRequired:g.isRequired,isPrint:g.isPrint,rotation:g.rotateAngle,tooltip:g.tooltip,options:g.options,isChecked:g.isChecked,isSelected:g.isSelected};t?this.pdfViewerBase.currentTarget.id!=event.target.id&&"e-pv-text-layer"!=event.target.className&&(this.commandHandler.fireFocusOutFormField(c,g.pageIndex),this.pdfViewerBase.currentTarget=null):(this.commandHandler.fireFocusOutFormField(c,g.pageIndex),this.pdfViewerBase.currentTarget=null)}}}}}},t.prototype.mouseMove=function(t){return e.prototype.mouseMove.call(this,t),!this.blocked},t.prototype.mouseUp=function(t){this.mouseEventHelper(t),this.inAction=!1,e.prototype.mouseUp.call(this,t)},t.prototype.mouseLeave=function(e){this.inAction&&this.mouseUp(e)},t}(f),u=function(e){function t(t,i){var n=e.call(this,t,i)||this;return n.currentTarget=null,n.prevNode=null,n}return g(t,e),t.prototype.mouseDown=function(t){e.prototype.mouseDown.call(this,t),this.offset={x:t.source.wrapper.offsetX,y:t.source.wrapper.offsetY},this.startPosition=t.position;var i=Object(c["a"])(t.source);this.redoElement={bounds:{x:i.wrapper.offsetX,y:i.wrapper.offsetY,width:i.wrapper.actualSize.width,height:i.wrapper.actualSize.height}},Object(c["e"])(i)&&(this.redoElement.vertexPoints=i.vertexPoints,this.redoElement.leaderHeight=i.leaderHeight),this.inAction=!0},t.prototype.mouseUp=function(t){if(this.commandHandler&&t.source){this.checkisAnnotationMove(t);var i=t.source.annotationSelectorSettings;this.commandHandler.clearSelection(this.pdfViewerBase.activeElements.activePageID),this.commandHandler.select([t.source.id],i),this.commandHandler.dragSelectedObjects(this.calculateMouseActionXDiff(t),this.calculateMouseActionYDiff(t),this.pdfViewerBase.activeElements.activePageID,i,null),!t.source||"Textbox"!==t.source.formFieldAnnotationType&&"Checkbox"!==t.source.formFieldAnnotationType&&"RadioButton"!==t.source.formFieldAnnotationType&&"ListBox"!==t.source.formFieldAnnotationType&&"SignatureField"!==t.source.formFieldAnnotationType&&"InitialField"!==t.source.formFieldAnnotationType&&"DropdownList"!==t.source.formFieldAnnotationType&&"PasswordField"!==t.source.formFieldAnnotationType||this.commandHandler.formDesignerModule.updateHTMLElement(t.source),this.commandHandler.renderSelector(this.pdfViewerBase.activeElements.activePageID,i),this.commandHandler.viewerBase.isAnnotationMouseMove=!1,this.commandHandler.viewerBase.isFormFieldMouseMove=!1;var n={bounds:{x:t.source.wrapper.offsetX,y:t.source.wrapper.offsetY,width:t.source.wrapper.actualSize.width,height:t.source.wrapper.actualSize.height},modifiedDate:t.source.modifiedDate};if(Object(c["e"])(t.source)&&(n.vertexPoints=t.source.vertexPoints,n.leaderHeight=t.source.leaderHeight),t.target&&t.target.formFieldAnnotationType){var o=t.target,r={value:o.value,fontFamily:o.fontFamily,fontSize:o.fontSize,fontStyle:o.fontStyle,color:o.color,backgroundColor:o.backgroundColor,borderColor:o.borderColor,thickness:o.thickness,alignment:o.alignment,isReadonly:o.isReadonly,visibility:o.visibility,maxLength:o.maxLength,isRequired:o.isRequired,isPrint:o.isPrint,rotation:o.rotateAngle,tooltip:o.tooltip,options:o.options,isChecked:o.isChecked,isSelected:o.isSelected},a={X:t.source.wrapper.offsetX,Y:t.source.wrapper.offsetY,Width:t.source.wrapper.actualSize.width,Height:t.source.wrapper.actualSize.height},s={X:this.offset.x,Y:this.offset.y,Width:t.source.wrapper.actualSize.width,Height:t.source.wrapper.actualSize.height};this.commandHandler.fireFormFieldMoveEvent("formFieldMove",r,o.pageIndex,s,a)}this.commandHandler.annotation&&(this.commandHandler.annotation.addAction(this.pageIndex,null,t.source,"Drag","",this.redoElement,n),this.commandHandler.annotation.stampAnnotationModule.updateSessionStorage(t.source,null,"Drag"),this.commandHandler.annotation.stickyNotesAnnotationModule.updateStickyNotes(t.source,null))}var d=this.commandHandler&&this.commandHandler.selectedItems&&this.commandHandler.selectedItems.annotations&&this.commandHandler.selectedItems.annotations.length>0?this.commandHandler.selectedItems.annotations[0].shapeAnnotationType:null;(d&&"Image"!==d&&"SignatureImage"!==d||this.commandHandler&&this.commandHandler.selectedItems&&this.commandHandler.selectedItems.formFields&&this.commandHandler.selectedItems.formFields.length>0)&&e.prototype.mouseUp.call(this,t)},t.prototype.calculateMouseXDiff=function(){return this.currentPosition&&this.startPosition?this.currentPosition.x-this.startPosition.x:0},t.prototype.calculateMouseYDiff=function(){return this.currentPosition&&this.startPosition?this.currentPosition.y-this.startPosition.y:0},t.prototype.calculateMouseActionXDiff=function(e){var t=this.calculateMouseXDiff()/this.commandHandler.viewerBase.getZoomFactor();if(this.offset){var i=this.offset.x+t;return i-e.source.wrapper.offsetX}return 0},t.prototype.calculateMouseActionYDiff=function(e){var t=this.calculateMouseYDiff()/this.commandHandler.viewerBase.getZoomFactor();if(this.offset){var i=this.offset.y+t;return i-e.source.wrapper.offsetY}return 0},t.prototype.mouseMove=function(t,i,n){if(e.prototype.mouseMove.call(this,t),this.inAction){this.currentPosition=t.position,this.currentTarget=t.target;var o=t.source.annotationSelectorSettings,r=this.calculateMouseXDiff()/this.commandHandler.viewerBase.getZoomFactor(),a=this.calculateMouseYDiff()/this.commandHandler.viewerBase.getZoomFactor(),s=this.offset.x+r,d=this.offset.y+a,l=this.calculateMouseActionXDiff(t),h=this.calculateMouseActionYDiff(t),p=this.commandHandler.selectedItems.annotations[0],g=void 0;if(this.helper)l=s-this.helper.wrapper.offsetX,h=d-this.helper.wrapper.offsetY;else{g=this.commandHandler.selectedItems.annotations.length>0?Object(c["a"])(this.commandHandler.selectedItems.annotations[0]):Object(c["a"])(this.commandHandler.selectedItems.formFields[0]),g.wrapper&&(l=s-g.wrapper.offsetX,h=d-g.wrapper.offsetY,g.bounds=this.commandHandler.selectedItems.annotations.length>0?this.commandHandler.selectedItems.annotations[0].wrapper.bounds:this.commandHandler.selectedItems.formFields[0].wrapper.bounds),g.wrapper=void 0,g.id="diagram_helper","Stamp"===g.shapeAnnotationType?(g.strokeColor="",g.borderDashArray="",g.fillColor="transparent",g.stampFillColor="transparent",g.data=""):"FreeText"===g.shapeAnnotationType?(g.strokeColor="blue",g.fillColor="transparent",g.thickness=1,g.opacity=1,g.dynamicText=""):"SignatureText"===g.shapeAnnotationType?(g.strokeColor="red",g.borderDashArray="5,5",g.fillColor="transparent",g.thickness=2,g.opacity=1,g.data=""):(g.strokeColor="red",g.borderDashArray="5,5",g.fillColor="transparent",g.thickness=2,g.opacity=1),!0===g.enableShapeLabel&&(g.labelContent="");var f=g.shapeAnnotationType;i||"Image"===f||"SignatureImage"===f?g=this.helper=t.source:this.helper=g=this.commandHandler.add(g),this.commandHandler.selectedItems.annotations.length>0?this.commandHandler.selectedItems.annotations=[g]:this.commandHandler.selectedItems.formFields=[g]}if(this.helper&&"Stamp"===this.helper.shapeAnnotationType&&(i=!0),this.commandHandler.checkBoundaryConstraints(l,h,this.pdfViewerBase.activeElements.activePageID,this.helper.wrapper.bounds,i,n)){f=this.helper.shapeAnnotationType;if(!this.helper||"Image"!==f&&"SignatureImage"!==f)this.commandHandler.dragSelectedObjects(l,h,this.pdfViewerBase.activeElements.activePageID,o,this.helper);else{this.checkisAnnotationMove(t);var S=t.source.annotationSelectorSettings;this.commandHandler.clearSelection(this.pdfViewerBase.activeElements.activePageID),this.commandHandler.select([t.source.id],S),this.commandHandler.dragSelectedObjects(l,h,this.pdfViewerBase.activeElements.activePageID,S,this.helper),this.commandHandler.renderSelector(this.pdfViewerBase.activeElements.activePageID,S)}this.prevNode=this.helper,this.prevPosition=this.currentPosition}else this.currentPosition=this.prevPosition;p&&p.annotName&&this.commandHandler.annotation.triggerAnnotationMove(p,!0)}return!0},t.prototype.mouseLeave=function(t){var i=t.source.annotationSelectorSettings,n=this.offset.x+this.calculateMouseXDiff(),o=this.offset.y+this.calculateMouseYDiff(),r=n-t.source.wrapper.offsetX,a=o-t.source.wrapper.offsetY;this.commandHandler.dragSelectedObjects(r,a,this.prevPageId,i,null),this.commandHandler.renderSelector(this.prevPageId,i),e.prototype.mouseLeave.call(this,t)},t.prototype.endAction=function(){e.prototype.endAction.call(this),this.currentTarget=null,this.prevPosition=null},t.prototype.checkisAnnotationMove=function(e){this.commandHandler.selectedItems&&this.commandHandler.selectedItems.annotations&&this.commandHandler.selectedItems.annotations.length>0?this.commandHandler.selectedItems.annotations[0].annotName===e.source.annotName&&(this.commandHandler.viewerBase.isAnnotationMouseMove=!0):this.commandHandler.viewerBase.isAnnotationMouseMove=!1,this.commandHandler.selectedItems&&this.commandHandler.selectedItems.formFields&&this.commandHandler.selectedItems.formFields.length>0?this.commandHandler.selectedItems.formFields[0].name===e.source.name&&(this.commandHandler.viewerBase.isFormFieldMouseMove=!0):this.commandHandler.viewerBase.isFormFieldMouseMove=!1},t}(f),m=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return g(t,e),t.prototype.mouseDown=function(t){e.prototype.mouseUp.call(this,t)},t.prototype.mouseMove=function(t){var i;if(!this.inAction){var n=this.pdfViewerBase.activeElements.activePageID;this.commandHandler.clearSelection(this.pdfViewerBase.activeElements.activePageID);var o=this.commandHandler.annotation.stampAnnotationModule.moveStampElement(t.position.x,t.position.y,n);if("SignatureText"===o.shapeAnnotationType){var r=this.getTextWidth(o.data,o.fontSize,o.fontFamily),a=1;r>o.bounds.width&&(a=o.bounds.width/r),o.fontSize=this.getFontSize(Math.floor(o.fontSize*a));var s=32;o.bounds.height=o.fontSize<s?2*o.fontSize:o.bounds.height,o.thickness=0}i=this.commandHandler.add(o),t.source=this.commandHandler.annotations[this.commandHandler.annotations.length-1],t.sourceWrapper=t.source.wrapper,this.inAction=!0;var d=t.source;!d||"HandWrittenSignature"!==d.shapeAnnotationType&&"SignatureText"!==d.shapeAnnotationType&&"SignatureImage"!==d.shapeAnnotationType?this["offset"]={x:t.source.wrapper.offsetX,y:t.source.wrapper.offsetY}:this["offset"]={x:t.source.wrapper.offsetX-t.source.wrapper.bounds.width/2,y:t.source.wrapper.offsetY-t.source.wrapper.bounds.height/2},this.startPosition=t.position,this.commandHandler.select([i.id])}var l=t.source.annotationSelectorSettings;return e.prototype.mouseMove.call(this,t,!0,!0),this.commandHandler.renderSelector(t.source.pageIndex,l),this.inAction},t.prototype.getTextWidth=function(e,t,i){var n,o=document.createElement("canvas"),r=o.getContext("2d");return t&&(n=t+"px "+i),r.font=n||getComputedStyle(document.body).font,r.measureText(e).width},t.prototype.getFontSize=function(e){return e%2===0?e:--e},t}(u),w=function(e){function t(t,i,n){var o=e.call(this,t,i)||this;return o.sourceObject=n,o}return g(t,e),t.prototype.mouseDown=function(t){this.pdfViewerBase.disableTextSelectionMode(),e.prototype.mouseDown.call(this,t),this.inAction=!0;var i={currentPosition:this.currentPosition,prevPosition:this.prevPosition};this.commandHandler.annotation.inkAnnotationModule.drawInkInCanvas(i,this.pdfViewerBase.activeElements.activePageID)},t.prototype.mouseMove=function(t){if(e.prototype.mouseMove.call(this,t),this.inAction){var i={currentPosition:this.currentPosition,prevPosition:this.pdfViewerBase.prevPosition};this.commandHandler.annotation.inkAnnotationModule.drawInkInCanvas(i,this.pdfViewerBase.activeElements.activePageID)}return this.inAction},t.prototype.mouseUp=function(e){return this.commandHandler.annotation.inkAnnotationModule.storePathData(),!0},t.prototype.mouseLeave=function(e){},t.prototype.endAction=function(){e.prototype.endAction.call(this)},t}(f),y=function(e){function t(t,i,n){var o=e.call(this,t,i,!0)||this;return o.endPoint=n,o}return g(t,e),t.prototype.mouseDown=function(t){this.inAction=!0,this.undoElement=void 0,e.prototype.mouseDown.call(this,t),t.source&&t.source.annotations&&({x:this.prevPosition.x,y:this.prevPosition.y},t.source.annotations[0]),this.initialPosition=t.position,this.prevSource=this.commandHandler.selectedItems.annotations[0];var i=Object(c["a"])(t.source);this.redoElement={bounds:{x:i.wrapper.offsetX,y:i.wrapper.offsetY,width:i.wrapper.actualSize.width,height:i.wrapper.actualSize.height}},Object(c["e"])(i)&&(this.redoElement.vertexPoints=i.vertexPoints,this.redoElement.leaderHeight=i.leaderHeight,"Distance"!==i.measureType&&"Perimeter"!==i.measureType&&"Area"!==i.measureType&&"Volume"!==i.measureType||(this.redoElement.notes=i.notes)),this.currentPosition=t.position},t.prototype.mouseUp=function(t){if(this.commandHandler){var i=this.commandHandler.selectedItems.annotations[0];if(i){var n=this.commandHandler.annotationModule.findAnnotationSettings(i),o=0,r=0,a=0,s=0;if((n.minWidth||n.maxWidth||n.minHeight||n.maxHeight)&&(o=n.maxHeight?n.maxHeight:2e3,r=n.maxWidth?n.maxWidth:2e3,a=n.minHeight?n.minHeight:0,s=n.minWidth?n.minWidth:0),i.vertexPoints.length>3){var d=this.commandHandler.viewerBase.checkAnnotationWidth(i.vertexPoints),l=d.width,h=d.height;a||s||o||r?(h>a&&h<o||l>s&&l<r)&&this.commandHandler.nodePropertyChange(this.prevSource,{vertexPoints:i.vertexPoints,leaderHeight:i.leaderHeight}):this.commandHandler.nodePropertyChange(this.prevSource,{vertexPoints:i.vertexPoints,leaderHeight:i.leaderHeight})}else if(a||s||o||r)if("Line"===i.shapeAnnotationType||"Distance"===i.shapeAnnotationType||"LineWidthArrowHead"===i.shapeAnnotationType){var p=0,g=0;p=i.vertexPoints[0].x>i.vertexPoints[1].x?i.vertexPoints[0].x-i.vertexPoints[1].x:i.vertexPoints[1].x-i.vertexPoints[0].x,g=i.vertexPoints[0].y>i.vertexPoints[1].y?i.vertexPoints[0].y-i.vertexPoints[1].y:i.vertexPoints[1].y-i.vertexPoints[0].y;var f=p>g?p:g;f<(o||r)&&f>(a||s)&&this.commandHandler.nodePropertyChange(this.prevSource,{vertexPoints:i.vertexPoints,leaderHeight:i.leaderHeight})}else this.commandHandler.nodePropertyChange(this.prevSource,{vertexPoints:i.vertexPoints,leaderHeight:i.leaderHeight});else this.commandHandler.nodePropertyChange(this.prevSource,{vertexPoints:i.vertexPoints,leaderHeight:i.leaderHeight});var S=t.source.annotationSelectorSettings;this.commandHandler.clearSelection(this.pdfViewerBase.activeElements.activePageID),this.commandHandler.select([this.prevSource.id],S),this.commandHandler.renderSelector(this.pdfViewerBase.activeElements.activePageID,S);var u={bounds:{x:t.source.wrapper.offsetX,y:t.source.wrapper.offsetY,width:t.source.wrapper.actualSize.width,height:t.source.wrapper.actualSize.height}};"Distance"!==i.measureType&&"Perimeter"!==i.measureType&&"Area"!==i.measureType&&"Volume"!==i.measureType||(this.commandHandler.annotation.updateCalibrateValues(this.commandHandler.selectedItems.annotations[0]),u.notes=t.source.notes),Object(c["e"])(t.source)&&(u.vertexPoints=t.source.vertexPoints,u.leaderHeight=t.source.leaderHeight),this.commandHandler.annotation.addAction(this.pageIndex,null,this.prevSource,"Resize","",this.redoElement,u)}}e.prototype.mouseUp.call(this,t)},t.prototype.mouseMove=function(t){if(e.prototype.mouseMove.call(this,t),this.currentPosition=t.position,this.currentPosition&&this.prevPosition){var i=this.currentPosition.x-this.prevPosition.x,n=this.currentPosition.y-this.prevPosition.y;if(t.source&&t.source.annotations&&({x:this.currentPosition.x,y:this.currentPosition.y},{x:this.prevPosition.x,y:this.prevPosition.y},t.source.annotations[0]),this.inAction&&void 0!==this.endPoint&&0!==i||0!==n){if(!this.helper){var o=Object(c["a"])(this.commandHandler.selectedItems.annotations[0]);o.id="diagram_helper",o.strokeColor="red",o.borderDashArray="5,5",o.fillColor="transparent",o.thickness=2,o.opacity=1,!0===o.enableShapeLabel&&(o.labelContent=""),this.helper=o=this.commandHandler.add(o),this.commandHandler.selectedItems.annotations=[o]}var r=t.source.annotationSelectorSettings;this.blocked=!this.commandHandler.dragConnectorEnds(this.endPoint,this.helper,this.currentPosition,this.selectedSegment,t.target,null,r),this.commandHandler.renderSelector(this.pdfViewerBase.activeElements.activePageID,r)}}return this.prevPosition=this.currentPosition,!this.blocked},t.prototype.mouseLeave=function(e){this.mouseUp(e)},t.prototype.endAction=function(){e.prototype.endAction.call(this),this.prevPosition=null,this.endPoint=null},t}(f),b=function(e){function t(t,i,n){var o=e.call(this,t,i,!0)||this;return o.initialBounds=new r["a"],o.corner=n,o}return g(t,e),t.prototype.mouseDown=function(t){e.prototype.mouseDown.call(this,t),this.initialBounds.x=t.source.wrapper.offsetX,this.initialBounds.y=t.source.wrapper.offsetY,this.initialBounds.height=t.source.wrapper.actualSize.height,this.initialBounds.width=t.source.wrapper.actualSize.width,this.initialPosition=t.position;var i=Object(c["a"])(t.source);this.redoElement={bounds:{x:i.wrapper.offsetX,y:i.wrapper.offsetY,width:i.wrapper.actualSize.width,height:i.wrapper.actualSize.height}},Object(c["e"])(i)&&(this.redoElement.vertexPoints=i.vertexPoints,this.redoElement.leaderHeight=i.leaderHeight),"Radius"===i.measureType&&(this.redoElement.notes=i.notes),this.prevSource=this.commandHandler.selectedItems.annotations.length>0?this.commandHandler.selectedItems.annotations[0]:this.commandHandler.selectedItems.formFields[0]},t.prototype.mouseUp=function(t,i){t.source;var n=Object(c["a"])(t.source);if(this.commandHandler&&this.prevSource){this.commandHandler.clearSelection(this.pdfViewerBase.activeElements.activePageID),this.commandHandler.viewerBase.isAnnotationSelect=!0,this.commandHandler.viewerBase.isFormFieldSelect=!0,this.commandHandler.select([this.prevSource.id],this.prevSource.annotationSelectorSettings);var o=this.updateSize(this.prevSource,this.currentPosition,this.initialPosition,this.corner,this.initialBounds,null,!0);if(this.blocked=this.scaleObjects(o.width,o.height,this.corner,this.currentPosition,this.initialPosition,this.prevSource,t.info.ctrlKey),this.commandHandler.selectedItems&&this.commandHandler.selectedItems.annotations&&this.commandHandler.selectedItems.annotations[0]&&"Stamp"===this.commandHandler.selectedItems.annotations[0].shapeAnnotationType&&(this.commandHandler.stampSettings.minHeight||this.commandHandler.stampSettings.minWidth)&&this.commandHandler.select([this.prevSource.id],this.prevSource.annotationSelectorSettings),this.commandHandler.selectedItems.formFields.length>0&&("Textbox"===this.commandHandler.selectedItems.formFields[0].formFieldAnnotationType||"Checkbox"===this.commandHandler.selectedItems.formFields[0].formFieldAnnotationType||"RadioButton"===this.commandHandler.selectedItems.formFields[0].formFieldAnnotationType||"InitialField"===this.commandHandler.selectedItems.formFields[0].formFieldAnnotationType||"SignatureField"===this.commandHandler.selectedItems.formFields[0].formFieldAnnotationType||"DropdownList"===this.commandHandler.selectedItems.formFields[0].formFieldAnnotationType||"ListBox"===this.commandHandler.selectedItems.formFields[0].formFieldAnnotationType||"PasswordField"===this.commandHandler.selectedItems.formFields[0].formFieldAnnotationType)&&this.commandHandler.formDesignerModule.updateHTMLElement(this.commandHandler.selectedItems.formFields[0]),this.commandHandler.renderSelector(this.prevPageId,this.prevSource.annotationSelectorSettings),this.commandHandler.annotation&&t.source.wrapper){var r={bounds:{x:t.source.wrapper.offsetX,y:t.source.wrapper.offsetY,width:t.source.wrapper.actualSize.width,height:t.source.wrapper.actualSize.height}};if(Object(c["e"])(t.source)&&(r.vertexPoints=t.source.vertexPoints,r.leaderHeight=t.source.leaderHeight),"Radius"===this.prevSource.measureType&&(r.notes=t.source.notes,this.commandHandler.annotation.updateCalibrateValues(this.prevSource)),"SignatureText"===this.prevSource.shapeAnnotationType){var a=r.bounds.width/n.width;r.fontSize=this.prevSource.wrapper.children[1].style.fontSize*a,null!=t.target&&(t.target.fontSize=r.fontSize,t.target.wrapper.children[1].style.fontSize=r.fontSize,t.target.wrapper.children[1].horizontalAlignment="Center",t.target.wrapper.children[1].verticalAlignment="Center",t.target.wrapper.children[1].setOffsetWithRespectToBounds(0,0,"Absolute"),this.commandHandler.selectedItems.annotations[0].wrapper.children[1].style.fontSize=r.fontSize,this.commandHandler.selectedItems.annotations[0].wrapper.children[1].horizontalAlignment="Center",this.commandHandler.selectedItems.annotations[0].wrapper.children[1].verticalAlignment="Center",this.commandHandler.selectedItems.annotations[0].wrapper.children[1].setOffsetWithRespectToBounds(0,0,"Absolute"),this.commandHandler.selectedItems.annotations[0].fontSize=r.fontSize)}"SignatureText"===this.prevSource.shapeAnnotationType&&this.commandHandler.selectedItems.annotations&&this.commandHandler.selectedItems.annotations.length>0&&this.commandHandler.nodePropertyChange(this.commandHandler.selectedItems.annotations[0],{fontSize:r.fontSize}),this.commandHandler.annotation.addAction(this.pageIndex,null,this.prevSource,"Resize","",this.redoElement,r)}if(t.target&&t.target.formFieldAnnotationType){var s=t.target,d={value:s.value,fontFamily:s.fontFamily,fontSize:s.fontSize,fontStyle:s.fontStyle,color:s.color,backgroundColor:s.backgroundColor,alignment:s.alignment,isReadonly:s.isReadonly,visibility:s.visibility,maxLength:s.maxLength,isRequired:s.isRequired,isPrint:s.isPrint,rotation:s.rotateAngle,tooltip:s.tooltip,options:s.options,isChecked:s.isChecked,isSelected:s.isSelected},l={X:t.source.wrapper.offsetX,Y:t.source.wrapper.offsetY,Width:t.source.wrapper.actualSize.width,Height:t.source.wrapper.actualSize.height},h={X:this.initialBounds.x,Y:this.initialBounds.y,Width:this.initialBounds.width,Height:this.initialBounds.height};this.commandHandler.fireFormFieldResizeEvent("formFieldResize",d,s.pageIndex,h,l)}this.commandHandler.annotation&&this.commandHandler.annotation.stampAnnotationModule&&this.commandHandler.annotation.stampAnnotationModule.updateSessionStorage(t.source,this.prevSource.id,"Resize")}return e.prototype.mouseUp.call(this,t),!this.blocked},t.prototype.mouseMove=function(t){e.prototype.mouseMove.call(this,t);var i=t.source;this.currentPosition=t.position;var o=this.currentPosition.x-this.startPosition.x,r=this.currentPosition.y-this.startPosition.y;o/=this.commandHandler.viewerBase.getZoomFactor(),r/=this.commandHandler.viewerBase.getZoomFactor();var a=t.source,s=this.getPoints(o,r),d=a.width+s.x,l=a.height+s.y,h=i;i&&i.annotations&&(h=i.annotations[0]);var p=this.commandHandler.annotationModule?this.commandHandler.annotationModule.findAnnotationSettings(h):{},g=0,f=0,S=0,u=0;(p.minWidth||p.maxWidth||p.minHeight||p.maxHeight)&&(g=p.maxHeight?p.maxHeight:2e3,f=p.maxWidth?p.maxWidth:2e3,S=p.minHeight?p.minHeight:0,u=p.minWidth?p.minWidth:0),(S||u||g||f)&&(l>=S&&l<=g&&d>=u&&d<=f?(o=o,r=r):((l<S||l>g)&&(r=l<S?S-a.height:g-a.height),(d<u||d>f)&&(o=d<u?u-a.width:f-a.width)));var m={x:o,y:r};if(this.currentElement.wrapper&&(m=Object(n["f"])(-this.currentElement.wrapper.rotateAngle,void 0,void 0,m)),m=this.getChanges(m),this.commandHandler.renderSelector(this.prevPageId,this.prevSource.annotationSelectorSettings),!this.helper){var w=this.commandHandler.selectedItems.annotations.length>0?Object(c["a"])(this.commandHandler.selectedItems.annotations[0]):Object(c["a"])(this.commandHandler.selectedItems.formFields[0]);w.id="diagram_helper","Stamp"===w.shapeAnnotationType?(w.strokeColor="",w.borderDashArray="",w.fillColor="transparent",w.stampFillColor="transparent",w.data=""):"FreeText"===w.shapeAnnotationType?(w.strokeColor="blue",w.fillColor="transparent",w.thickness=1,w.opacity=1,w.dynamicText=""):(w.bounds=this.commandHandler.selectedItems.annotations.length>0?this.commandHandler.selectedItems.annotations[0].wrapper.bounds:this.commandHandler.selectedItems.formFields[0].wrapper.bounds,w.strokeColor="red",w.borderDashArray="5,5",w.fillColor="transparent",w.thickness=2,w.opacity=1),!0===w.enableShapeLabel&&(w.labelContent=""),"SignatureText"===w.shapeAnnotationType&&(w.fillColor="transparent",w.thickness=1,w.opacity=1,w.data=""),this.helper=w=this.commandHandler.add(w),this.commandHandler.selectedItems.annotations.length>0?this.commandHandler.selectedItems.annotations=[w]:this.commandHandler.selectedItems.formFields=[w]}var y=this.updateSize(this.helper,this.startPosition,this.currentPosition,this.corner,this.initialBounds);return this.blocked=!this.scaleObjects(y.width,y.height,this.corner,this.startPosition,this.currentPosition,this.helper,t.info.ctrlKey),this.prevPosition=this.currentPosition,!this.blocked},t.prototype.mouseLeave=function(e){this.mouseUp(e)},t.prototype.getTooltipContent=function(e){return"W:"+Math.round(e.wrapper.bounds.width)+" H:"+Math.round(e.wrapper.bounds.height)},t.prototype.getChanges=function(e){switch(this.corner){case"ResizeEast":return{x:e.x,y:0};case"ResizeSouthEast":return e;case"ResizeSouth":return{x:0,y:e.y};case"ResizeNorth":return{x:0,y:-e.y};case"ResizeNorthEast":return{x:e.x,y:-e.y};case"ResizeNorthWest":return{x:-e.x,y:-e.y};case"ResizeWest":return{x:-e.x,y:0};case"ResizeSouthWest":return{x:-e.x,y:e.y}}return e},t.prototype.getPoints=function(e,t){switch(this.corner){case"ResizeEast":return{x:e,y:0};case"ResizeSouthEast":return{x:e,y:t};case"ResizeSouth":return{x:0,y:t};case"ResizeNorth":return{x:0,y:-t};case"ResizeNorthEast":return{x:e,y:-t};case"ResizeNorthWest":return{x:-e,y:-t};case"ResizeWest":return{x:-e,y:0};case"ResizeSouthWest":return{x:-e,y:t}}return{x:e,y:t}},t.prototype.scaleObjects=function(e,t,i,n,o,r,a){var s=this.commandHandler.annotationModule?this.commandHandler.annotationModule.findAnnotationSettings(r):{},l=0,c=0,h=this.currentPosition.x-this.startPosition.x,p=this.currentPosition.y-this.startPosition.y;h/=this.commandHandler.viewerBase.getZoomFactor(),p/=this.commandHandler.viewerBase.getZoomFactor();var g=r,f=this.getPoints(h,p),S=g.bounds.width+f.x,u=g.bounds.height+f.y;return(s.minWidth||s.maxWidth||s.minHeight||s.maxHeight)&&(l=s.maxHeight?s.maxHeight:2e3,c=s.maxWidth?s.maxWidth:2e3,s.minHeight?s.minHeight:0,s.minWidth?s.minWidth:0),r instanceof d["a"]&&1===r.annotations.length&&("Perimeter"===r.annotations[0].shapeAnnotationType||"Radius"===r.annotations[0].shapeAnnotationType||"Stamp"===r.shapeAnnotationType)?t=e=1!==t||1!==e?Math.max(1===t?0:t,1===e?0:e):n!==o?Math.max(t,e):0:"Image"===r.shapeAnnotationType||"HandWrittenSignature"===r.shapeAnnotationType||"SignatureText"===r.shapeAnnotationType||"SignatureImage"===r.shapeAnnotationType?(1===t&&1===e||a&&(S>=c&&u<l&&(t=Math.max(t,e)),u>=l&&S<c&&(e=Math.max(t,e)),S<c&&u<l&&(t=e=Math.max(t,e))),a||(t=e=Math.max(t,e))):"Perimeter"!==r.shapeAnnotationType&&"Radius"!==r.shapeAnnotationType&&"Stamp"!==r.shapeAnnotationType||("Stamp"===r.shapeAnnotationType?(l||t||(t=Math.max(1===t?0:t)),c||e||(e=Math.max(1===e?0:e))):l&&c||1===t&&1===e||(t=e=Math.max(1===t?0:t,1===e?0:e))),this.blocked=this.commandHandler.scaleSelectedItems(e,t,this.getPivot(this.corner)),this.blocked},t}(f),v=function(e){function t(t,i,n){var o=e.call(this,t,i)||this;return o.sourceObject=n,o}return g(t,e),t.prototype.mouseDown=function(t){if(!isNaN(this.pdfViewerBase.activeElements.activePageID)&&"e-pv-page-container"!=event.target.className){e.prototype.mouseDown.call(this,t),this.inAction=!0;var i={bounds:{x:100,y:300,width:100,height:100},pageIndex:0,strokeColor:"red",thickness:3};i.id=Object(n["e"])(),this.sourceObject.pageIndex=i.pageIndex=this.pdfViewerBase.activeElements.activePageID||0,this.sourceObject.enableShapeLabel=this.commandHandler.enableShapeLabel,this.pdfViewerBase.updateFreeTextProperties(this.sourceObject),this.isFormDesign=!1;var o=document.getElementById("FormField_helper_html_element");if(o&&o.remove(),this.commandHandler.drawingObject=this.drawingObject=this.commandHandler.add(this.sourceObject||i),"Textbox"===this.drawingObject.formFieldAnnotationType||"SignatureField"===this.drawingObject.formFieldAnnotationType||"InitialField"===this.drawingObject.formFieldAnnotationType||"Checkbox"===this.drawingObject.formFieldAnnotationType||"ListBox"===this.drawingObject.formFieldAnnotationType||"RadioButton"===this.drawingObject.formFieldAnnotationType||"DropdownList"===this.drawingObject.formFieldAnnotationType||"PasswordField"===this.drawingObject.formFieldAnnotationType){this.inAction=!1,this.drawingObject.pageNumber=this.pdfViewerBase.getActivePage(!0);var r=this.commandHandler.formDesignerModule.updateFormFieldInitialSize(this.drawingObject.wrapper.children[0],this.drawingObject.formFieldAnnotationType),a=this.pdfViewerBase.pageContainer.firstElementChild.clientWidth-r.width,s=this.pdfViewerBase.pageContainer.firstElementChild.clientHeight-r.height,d=this.pdfViewerBase.pageContainer.firstElementChild.offsetLeft,l=void 0;if(this.currentPosition.y>=s&&event.target&&event.target.parentElement&&event.target.parentElement.classList.contains("foreign-object")){var c=event.path[3].getBoundingClientRect();l=event.clientX-c.left}else l=this.currentPosition.x-d;var h=void 0;h=this.currentPosition.x>=a&&this.currentPosition.y>=s?{x:a,y:s,width:this.drawingObject.wrapper.children[0].width,height:this.drawingObject.wrapper.children[0].height}:this.currentPosition.x>=a?{x:a,y:this.currentPosition.y,width:this.drawingObject.wrapper.children[0].width,height:this.drawingObject.wrapper.children[0].height}:this.currentPosition.y>=s?{x:l,y:s,width:this.drawingObject.wrapper.children[0].width,height:this.drawingObject.wrapper.children[0].height}:{x:this.currentPosition.x,y:this.currentPosition.y,width:this.drawingObject.wrapper.children[0].width,height:this.drawingObject.wrapper.children[0].height},this.updateNodeDimension(this.drawingObject,h),this.commandHandler.formFieldCollection.push(this.drawingObject);var p={id:this.drawingObject.id,name:this.drawingObject.name,value:this.drawingObject.value,type:this.drawingObject.formFieldAnnotationType,isReadOnly:this.drawingObject.isReadonly,fontFamily:this.drawingObject.fontFamily,fontSize:this.drawingObject.fontSize,fontStyle:this.drawingObject.fontStyle,color:this.drawingObject.color,backgroundColor:this.drawingObject.backgroundColor,alignment:this.drawingObject.alignment,visibility:this.drawingObject.visibility,maxLength:this.drawingObject.maxLength,isRequired:this.drawingObject.isRequired,isPrint:this.drawingObject.isPrint,isSelected:this.drawingObject.isSelected,isChecked:this.drawingObject.isChecked,tooltip:this.drawingObject.tooltip,bounds:this.drawingObject.bounds,thickness:this.drawingObject.thickness,borderColor:this.drawingObject.borderColor,signatureIndicatorSettings:this.drawingObject.signatureIndicatorSettings};this.commandHandler.formFieldCollections.push(p),this.commandHandler.formDesignerModule.drawHTMLContent(this.drawingObject.formFieldAnnotationType,this.drawingObject.wrapper.children[0],this.drawingObject,this.drawingObject.pageIndex,this.commandHandler),this.commandHandler.select([this.commandHandler.drawingObject.id],this.commandHandler.annotationSelectorSettings),this.commandHandler.annotation&&this.commandHandler.annotation.addAction(this.pdfViewerBase.getActivePage(!0),null,this.drawingObject,"Addition","",this.drawingObject,this.drawingObject),this.endAction(),this.pdfViewerBase.tool=null,this.pdfViewerBase.action="Select",this.drawingObject=null,this.pdfViewerBase.isMouseDown=!1,this.pdfViewerBase.pdfViewer.drawingObject=null,this.isFormDesign=!0}}},t.prototype.mouseMove=function(t){if(e.prototype.mouseMove.call(this,t),this.inAction&&!1===o["a"].equals(this.currentPosition,this.prevPosition)){this.dragging=!0;var i=r["a"].toBounds([this.prevPosition,this.currentPosition]);this.updateNodeDimension(this.drawingObject,i),"Radius"===this.drawingObject.shapeAnnotationType&&this.updateRadiusLinePosition(this.drawingObject.wrapper.children[1],this.drawingObject)}return!0},t.prototype.mouseUp=function(t){this.drawingObject&&this.dragging?(this.commandHandler.clearSelection(this.pdfViewerBase.activeElements.activePageID),this.commandHandler.select([this.drawingObject.id],this.commandHandler.annotationSelectorSettings),this.commandHandler.annotation.updateCalibrateValues(this.drawingObject,!0),this.commandHandler&&!this.isFormDesign&&this.commandHandler.annotation.addAction(this.pageIndex,null,this.drawingObject,"Addition","",this.drawingObject,this.drawingObject),this.drawingObject=null,this.dragging=!1,e.prototype.mouseUp.call(this,t),this.inAction=!1):e.prototype.mouseUp.call(this,t)},t.prototype.endAction=function(){e.prototype.endAction.call(this)},t.prototype.updateNodeDimension=function(e,t){var i=this.commandHandler.viewerBase.getZoomFactor();e.bounds.x=t.x/i+t.width/i,e.bounds.y=t.y/i+t.height/i,e.bounds.width=t.width/i,e.bounds.height=t.height/i;var n=this.commandHandler.annotationModule?this.commandHandler.annotationModule.findAnnotationSettings(e):{},o=0,r=0;n.maxWidth||n.maxHeight?(o=n.maxHeight?n.maxHeight:2e3,r=n.maxWidth?n.maxWidth:2e3,e.bounds.width>r&&(e.bounds.width=r),e.bounds.height>o&&(e.bounds.height=o),e.bounds.height<=o&&e.bounds.width<=r&&this.commandHandler.nodePropertyChange(e,{bounds:e.bounds})):this.commandHandler.nodePropertyChange(e,{bounds:e.bounds})},t.prototype.updateRadiusLinePosition=function(e,t){var i={x:t.bounds.x+t.bounds.width/4,y:t.bounds.y},n={x:t.bounds.x+t.bounds.width/2,y:t.bounds.y+t.bounds.height/2},o=Object(a["a"])();Object(a["b"])(o,t.rotateAngle,n.x,n.y);var r=Object(a["d"])(o,i),s={x:r.x,y:r.y};e.offsetX=s.x,e.offsetY=s.y,e.width=t.bounds.width/2;var d=this.commandHandler.annotationModule.findAnnotationSettings(t),l=0;d.maxWidth&&(l=d.maxWidth?d.maxWidth:2e3,t.bounds.width>l&&(t.bounds.width=l,e.width=t.bounds.width/2)),this.commandHandler.renderDrawing(void 0,t.pageIndex)},t}(f),x=function(e){function t(t,i,n){var o=e.call(this,t,i)||this;return o.action=n,o}return g(t,e),t.prototype.mouseDown=function(t){if(e.prototype.mouseDown.call(this,t),this.inAction=!0,this.drawingObject){var i=void 0,n=this.drawingObject;i=n.vertexPoints[n.vertexPoints.length-1],i={x:i.x,y:i.y};var o=this.drawingObject.vertexPoints[this.drawingObject.vertexPoints.length-1];o.x===i.x&&o.x===i.y||this.drawingObject.vertexPoints.push(i),this.commandHandler.nodePropertyChange(n,{vertexPoints:n.vertexPoints})}else{this.startPoint={x:this.startPosition.x,y:this.startPosition.y};var r={bounds:{x:this.currentPosition.x,y:this.currentPosition.y,width:5,height:5},vertexPoints:[{x:this.startPoint.x/this.pdfViewerBase.getZoomFactor(),y:this.startPoint.y/this.pdfViewerBase.getZoomFactor()},{x:this.currentPosition.x/this.pdfViewerBase.getZoomFactor(),y:this.currentPosition.y/this.pdfViewerBase.getZoomFactor()}],shapeAnnotationType:"Line",fillColor:this.commandHandler.drawingObject.fillColor,strokeColor:this.commandHandler.drawingObject.strokeColor,pageIndex:this.pdfViewerBase.activeElements.activePageID,notes:this.commandHandler.drawingObject.notes,thickness:this.commandHandler.drawingObject.thickness,author:this.commandHandler.drawingObject.author,subject:this.commandHandler.drawingObject.subject,borderDashArray:this.commandHandler.drawingObject.borderDashArray,modifiedDate:this.commandHandler.drawingObject.modifiedDate,borderStyle:this.commandHandler.drawingObject.borderStyle,measureType:this.commandHandler.drawingObject.measureType,enableShapeLabel:this.commandHandler.enableShapeLabel,opacity:this.commandHandler.drawingObject.opacity};this.pdfViewerBase.updateFreeTextProperties(r),this.drawingObject=this.commandHandler.add(r)}},t.prototype.mouseMove=function(t){if(e.prototype.mouseMove.call(this,t),this.inAction&&!1===o["a"].equals(this.currentPosition,this.prevPosition)){this.dragging=!0;var i=this.drawingObject;this.drawingObject&&this.currentPosition&&(i.vertexPoints[i.vertexPoints.length-1].x=this.currentPosition.x/this.pdfViewerBase.getZoomFactor(),i.vertexPoints[i.vertexPoints.length-1].y=this.currentPosition.y/this.pdfViewerBase.getZoomFactor(),this.commandHandler.nodePropertyChange(i,{vertexPoints:i.vertexPoints})),"Perimeter"===i.measureType&&Object(p["l"])(i,i.vertexPoints,this.commandHandler.annotation.measureAnnotationModule)}return!0},t.prototype.mouseUp=function(t,i,n){var o;if(e.prototype.mouseMove.call(this,t),t.source&&null!==t.annotationSelectorSettings&&(o=t.source.annotationSelectorSettings),this.drawingObject){var a=new r["a"](this.drawingObject.vertexPoints[this.drawingObject.vertexPoints.length-1].x-20,this.drawingObject.vertexPoints[this.drawingObject.vertexPoints.length-1].y-20,40,40),s={x:this.drawingObject.vertexPoints[0].x,y:this.drawingObject.vertexPoints[0].y};if((a.containsPoint(s)||i)&&this.dragging){if(this.inAction&&(this.inAction=!1,this.drawingObject)){if(n||this.drawingObject.vertexPoints.length>2&&this.drawingObject.vertexPoints.splice(this.drawingObject.vertexPoints.length-1,1),"Polygon"===this.action){n?this.drawingObject.vertexPoints[this.drawingObject.vertexPoints.length]=this.drawingObject.vertexPoints[0]:this.drawingObject.vertexPoints[this.drawingObject.vertexPoints.length-1]=this.drawingObject.vertexPoints[0],this.commandHandler.nodePropertyChange(this.drawingObject,{vertexPoints:this.drawingObject.vertexPoints});var d=Object(c["a"])(this.drawingObject);d.shapeAnnotationType="Polygon",d.bounds.width=d.wrapper.actualSize.width,d.bounds.height=d.wrapper.actualSize.height,d.bounds.x=this.drawingObject.wrapper.bounds.x,d.bounds.y=this.drawingObject.wrapper.bounds.y,this.commandHandler.add(d),this.commandHandler.remove(this.drawingObject),this.commandHandler.select([d.id],o);var l=this.commandHandler.selectedItems.annotations[0];l&&(this.commandHandler.enableShapeAnnotation&&(Object(h["L"])(l.measureType)||""===l.measureType)&&this.commandHandler.annotation.shapeAnnotationModule.renderShapeAnnotations(l,l.pageIndex),!this.commandHandler.enableMeasureAnnotation||"Area"!==l.measureType&&"Volume"!==l.measureType||("Area"===l.measureType?(l.notes=this.commandHandler.annotation.measureAnnotationModule.calculateArea(l.vertexPoints),this.commandHandler.annotation.stickyNotesAnnotationModule.addTextToComments(l.annotName,l.notes)):"Volume"===l.measureType&&(l.notes=this.commandHandler.annotation.measureAnnotationModule.calculateVolume(l.vertexPoints),this.commandHandler.annotation.stickyNotesAnnotationModule.addTextToComments(l.annotName,l.notes)),l.enableShapeLabel&&(l.labelContent=l.notes,this.commandHandler.nodePropertyChange(l,{vertexPoints:l.vertexPoints,notes:l.notes})),this.commandHandler.annotation.measureAnnotationModule.renderMeasureShapeAnnotations(l,l.pageIndex)))}else n||i&&this.drawingObject.vertexPoints.splice(this.drawingObject.vertexPoints.length-1,1),this.commandHandler.nodePropertyChange(this.drawingObject,{vertexPoints:this.drawingObject.vertexPoints,sourceDecoraterShapes:this.commandHandler.drawingObject.sourceDecoraterShapes,taregetDecoraterShapes:this.commandHandler.drawingObject.taregetDecoraterShapes}),this.commandHandler.select([this.drawingObject.id],o),this.commandHandler.enableMeasureAnnotation&&"Perimeter"===this.drawingObject.measureType&&(this.commandHandler.renderDrawing(null,this.drawingObject.pageIndex),this.drawingObject.notes=this.commandHandler.annotation.measureAnnotationModule.calculatePerimeter(this.drawingObject),this.drawingObject.enableShapeLabel&&(this.drawingObject.labelContent=this.drawingObject.notes,this.commandHandler.nodePropertyChange(this.drawingObject,{vertexPoints:this.drawingObject.vertexPoints,notes:this.drawingObject.notes})),this.commandHandler.annotation.stickyNotesAnnotationModule.addTextToComments(this.drawingObject.annotName,this.drawingObject.notes),this.commandHandler.annotation.measureAnnotationModule.renderMeasureShapeAnnotations(this.drawingObject,this.drawingObject.pageIndex));var p=this.commandHandler.selectedItems.annotations[0];this.commandHandler.annotation.addAction(this.pageIndex,null,p,"Addition","",p,p),this.drawingObject=null}this.endAction()}else this.inAction&&!this.dragging&&this.commandHandler.remove(this.drawingObject)}},t.prototype.mouseLeave=function(e){this.mouseUp(e,!0,!0)},t.prototype.mouseWheel=function(t){e.prototype.mouseWheel.call(this,t),this.mouseMove(t)},t.prototype.endAction=function(){this.inAction=!1,this.drawingObject=null,this.commandHandler.tool=""},t}(f),z=function(e){function t(t,i,n,o){var r=e.call(this,t,i,!0)||this;return r.endPoint=n,r.drawingObject=o,r}return g(t,e),t.prototype.mouseDown=function(t){if(this.inAction=!0,this.undoElement=void 0,e.prototype.mouseDown.call(this,t),t.source&&t.source.annotations&&({x:this.prevPosition.x,y:this.prevPosition.y},this.drawingObject),this.initialPosition=t.position,this.prevSource=this.drawingObject,this.currentPosition=t.position,this.drawingObject){if(!this.dragging){var i={bounds:{x:this.currentPosition.x,y:this.currentPosition.y,width:5,height:5},vertexPoints:[{x:this.startPosition.x/this.pdfViewerBase.getZoomFactor(),y:this.startPosition.y/this.pdfViewerBase.getZoomFactor()},{x:this.currentPosition.x/this.pdfViewerBase.getZoomFactor(),y:this.currentPosition.y/this.pdfViewerBase.getZoomFactor()}],shapeAnnotationType:this.drawingObject.shapeAnnotationType,sourceDecoraterShapes:this.drawingObject.sourceDecoraterShapes,taregetDecoraterShapes:this.drawingObject.taregetDecoraterShapes,fillColor:this.drawingObject.fillColor,strokeColor:this.drawingObject.strokeColor,pageIndex:this.pdfViewerBase.activeElements.activePageID,opacity:this.drawingObject.opacity||1,borderDashArray:this.drawingObject.borderDashArray,thickness:this.drawingObject.thickness,modifiedDate:this.drawingObject.modifiedDate,author:this.drawingObject.author,subject:this.drawingObject.subject,lineHeadEnd:this.drawingObject.lineHeadEnd,lineHeadStart:this.drawingObject.lineHeadStart,measureType:this.commandHandler.drawingObject.measureType,enableShapeLabel:this.commandHandler.enableShapeLabel};this.pdfViewerBase.updateFreeTextProperties(i),this.drawingObject=this.commandHandler.add(i)}}else{var n=this.commandHandler.annotation.measureAnnotationModule,o={vertexPoints:[{x:this.startPosition.x/this.pdfViewerBase.getZoomFactor(),y:this.startPosition.y/this.pdfViewerBase.getZoomFactor()},{x:this.currentPosition.x/this.pdfViewerBase.getZoomFactor(),y:this.currentPosition.y/this.pdfViewerBase.getZoomFactor()}],bounds:{x:this.currentPosition.x,y:this.currentPosition.y,width:5,height:5},sourceDecoraterShapes:this.commandHandler.drawingObject.sourceDecoraterShapes,taregetDecoraterShapes:this.commandHandler.drawingObject.taregetDecoraterShapes,measureType:"Distance",fillColor:this.commandHandler.drawingObject.fillColor,notes:this.commandHandler.drawingObject.notes,strokeColor:this.commandHandler.drawingObject.strokeColor,opacity:this.commandHandler.drawingObject.opacity,thickness:this.commandHandler.drawingObject.thickness,borderDashArray:this.commandHandler.drawingObject.borderDashArray,shapeAnnotationType:"Distance",pageIndex:this.pdfViewerBase.activeElements.activePageID,author:this.commandHandler.drawingObject.author,subject:this.commandHandler.drawingObject.subject,enableShapeLabel:this.commandHandler.enableShapeLabel,leaderHeight:n.leaderLength};this.pdfViewerBase.updateFreeTextProperties(o),this.drawingObject=this.commandHandler.add(o)}},t.prototype.mouseUp=function(t){if(this.dragging){if(e.prototype.mouseMove.call(this,t),this.commandHandler){var i=void 0;i=t.source&&null!==t.annotationSelectorSettings?t.source.annotationSelectorSettings:"";var n=this.drawingObject;this.commandHandler.nodePropertyChange(n,{vertexPoints:n.vertexPoints,leaderHeight:n.leaderHeight}),this.commandHandler.clearSelection(this.pdfViewerBase.activeElements.activePageID),this.commandHandler.select([n.id],i),this.commandHandler.renderSelector(this.pdfViewerBase.activeElements.activePageID,i)}this.endPoint&&this.endPoint.indexOf("ConnectorSegmentPoint")>-1&&this.dragging&&(this.commandHandler.annotation.updateCalibrateValues(this.drawingObject),this.commandHandler.annotation.addAction(this.pageIndex,null,this.drawingObject,"Addition","",this.drawingObject,this.drawingObject),this.drawingObject=null,this.dragging=!1,e.prototype.mouseUp.call(this,t)),this.drawingObject&&(this.endPoint="ConnectorSegmentPoint_1")}else this.drawingObject&&this.commandHandler.remove(this.drawingObject)},t.prototype.mouseMove=function(t){if(e.prototype.mouseMove.call(this,t),this.inAction&&!1===o["a"].equals(this.currentPosition,this.prevPosition)){if(this.currentPosition=t.position,this.dragging=!0,this.currentPosition&&this.prevPosition){var i=this.currentPosition.x-this.prevPosition.x,n=this.currentPosition.y-this.prevPosition.y,r=void 0;r=t.source&&null!==t.annotationSelectorSettings?t.source.annotationSelectorSettings:"",(this.inAction&&this.commandHandler&&this.drawingObject&&void 0!==this.endPoint&&0!==i||0!==n)&&(this.blocked=!this.commandHandler.dragConnectorEnds(this.endPoint,this.drawingObject,this.currentPosition,this.selectedSegment,t.target,null,r),this.commandHandler.renderSelector(this.pdfViewerBase.activeElements.activePageID,r))}this.prevPosition=this.currentPosition}return!this.blocked},t.prototype.mouseLeave=function(e){this.mouseUp(e)},t.prototype.endAction=function(){e.prototype.endAction.call(this),this.prevPosition=null,this.endPoint=null},t}(f),O=function(e){function t(t,i){return e.call(this,t,i,!0)||this}return g(t,e),t.prototype.mouseDown=function(t){var i=Object(c["a"])(t.source);this.undoElement={bounds:{x:i.wrapper.offsetX,y:i.wrapper.offsetY,width:i.wrapper.actualSize.width,height:i.wrapper.actualSize.height},rotateAngle:i.rotateAngle},e.prototype.mouseDown.call(this,t)},t.prototype.mouseUp=function(t){var i,n=t.source;if(this.undoElement.rotateAngle!==n.wrapper.rotateAngle){var o=t.source.annotations[0].annotationSelectorSettings;this.commandHandler.renderSelector(this.pdfViewerBase.activeElements.activePageID,o),i={bounds:{x:t.source.wrapper.offsetX,y:t.source.wrapper.offsetY,width:t.source.wrapper.actualSize.width,height:t.source.wrapper.actualSize.height},rotateAngle:t.source.wrapper.rotateAngle}}this.commandHandler.annotation.addAction(this.pageIndex,null,t.source,"Rotate","",this.undoElement,i),this.commandHandler.annotation.stampAnnotationModule.updateSessionStorage(t.source,null,"Rotate"),this.commandHandler.annotation.stickyNotesAnnotationModule.updateStickyNotes(t.source,null),e.prototype.mouseUp.call(this,t)},t.prototype.mouseMove=function(t){e.prototype.mouseMove.call(this,t);var i=t.source,n=t.source.annotations[0].annotationSelectorSettings;if(this.currentPosition=t.position,i.wrapper){var r={x:i.wrapper.offsetX,y:i.wrapper.offsetY},a=o["a"].findAngle(r,this.currentPosition)+90;a=(a+360)%360,this.blocked=!this.commandHandler.rotate(a-i.wrapper.rotateAngle,n)}return!this.blocked},t.prototype.getTooltipContent=function(e){return Math.round(e.rotateAngle%360).toString()+""},t.prototype.mouseLeave=function(e){this.mouseUp(e)},t.prototype.endAction=function(){e.prototype.endAction.call(this)},t}(f)},bb69:function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));var n=i("1850"),o=i("a4e6");function r(e,t,i,r,s){var d=Object(n["a"])("div",{id:s.element.id+r+"_diagramAdornerLayer",style:"width:"+e.width+"px;height:"+e.height+"px;"+t});if(!Object(n["d"])(d.id)){var l=s.viewerBase.getElement("_pageDiv_"+r),c=l.getBoundingClientRect(),h=a(s.element.id+r+"_diagramAdorner_svg",c.width,c.height);h.setAttribute("class","e-adorner-layer"+r),h.setAttribute("style","pointer-events:none;"),s.adornerSvgLayer=Object(o["b"])("g",{id:s.element.id+"_diagramAdorner"}),s.adornerSvgLayer.setAttribute("style"," pointer-events: all; "),h.appendChild(s.adornerSvgLayer),d.appendChild(h),d.style.width=c.width+"px",d.style.height=c.height+"px",l?l.insertBefore(d,l.childNodes[0]):i.parentElement.appendChild(d);var p=Object(o["b"])("g",{id:s.element.id+"_SelectorElement"});s.adornerSvgLayer.appendChild(p),Object(o["c"])(h,{style:"pointer-events:none;"})}s.viewerBase.applyElementStyles(d,r)}function a(e,t,i){var n=document.createElementNS("http://www.w3.org/2000/svg","svg");return Object(o["c"])(n,{id:e,width:t,height:i}),n}},ce49:function(e,t,i){"use strict";i.d(t,"a",(function(){return V}));var n=i("a5aa"),o=i("725f"),r=i("c08e"),a=i("c9c3"),s=i("d420"),d=i("d9bf"),l=i("1850"),c=i("446e"),h=i("2bf7"),p=i("3389"),g=i("2ab5"),f=i("4fcd"),S=i("ea6f"),u=i("3cfe"),m=i("58dc"),w=i("7a57"),y=i("da93"),b=i("a4e6"),v=i("ecd8"),x=i("73c0"),z=i("7de8"),O=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),j=function(e){function t(t){var i=e.call(this)||this;return i.templateFn=i.templateCompiler(t),i}return O(t,e),t.prototype.templateCompiler=function(e){if(e){try{if(document.querySelectorAll(e).length)return Object(z["y"])(document.querySelector(e).innerHTML.trim())}catch(t){return Object(z["y"])(e)}}},t.prototype.getNodeTemplate=function(){return this.templateFn},t}(p["a"]),V=function(){function e(e){this.isDynamicStamps=!1,this.pdfViewer=e,this.renderer=new u["a"]("this.pdfViewer.element.id",!1),this.svgRenderer=new b["a"]}return e.prototype.renderLabels=function(e){var t=e.annotations;if(t)for(var i=0;i<t.length;i++){var n=t[i];this.initObject(n)}},e.prototype.createNewZindexTable=function(e){var t=new o["c"];return this.pdfViewer.zIndex++,t.pageId=this.pdfViewer.zIndex,this.pdfViewer.zIndexTable.push(t),t},e.prototype.getPageTable=function(e){var t;if(void 0!==this.pdfViewer.zIndexTable.length){for(var i=!0,n=0;n<this.pdfViewer.zIndexTable.length;n++)if(this.pdfViewer.zIndexTable[n].pageId===e){i=!1,t=this.pdfViewer.zIndexTable[n];break}i&&(t=this.createNewZindexTable(e),t.pageId=e)}else t=this.createNewZindexTable(e);return t},e.prototype.setZIndex=function(e,t){if(void 0!==t.pageIndex){var i=this.getPageTable(t.pageIndex);if(-1===t.zIndex)i.zIndex++,t.zIndex=i.zIndex,i.objects.push(t);else{t.zIndex;var n=i.objects.length;t.zIndex=n++,i.objects.push(t)}}},e.prototype.initObject=function(e){return this.setZIndex(this.pdfViewer.zIndex,e),Object(l["b"])(),Object(v["e"])(e)?(this.initLine(e),e.wrapper.measure(new f["a"](void 0,void 0)),e.wrapper.arrange(e.wrapper.desiredSize)):this.initNode(e),e.wrapper,this.pdfViewer.nameTable[e.id]=e,e.formFieldAnnotationType&&this.nodePropertyChange(e,{bounds:{width:e.bounds.width,height:e.bounds.height}}),e},e.prototype.initNode=function(e){var t,i=this.initContainer(e);i.children||(i.children=[]),t||(t=this.init(e,i)),i.rotateAngle=e.rotateAngle,i.measure(new f["a"](e.wrapper.width,e.wrapper.height)),i.arrange(i.desiredSize),this.isDynamicStamps&&(this.pdfViewer.annotation.stampAnnotationModule.updateSessionStorage(e,null,"dynamicStamp"),this.isDynamicStamps=!1)},e.prototype.init=function(e,t){var i,n,o;i=new p["a"];var r=!1,a=this.pdfViewer.annotationModule?this.pdfViewer.annotationModule.findAnnotationSettings(e):{},s=0,d=0,l=0,c=0;(a.minWidth||a.maxWidth||a.minHeight||a.maxHeight)&&(s=a.maxHeight?a.maxHeight:2e3,d=a.maxWidth?a.maxWidth:2e3,l=a.minHeight?a.minHeight:0,c=a.minWidth?a.minWidth:0);var h=!1;return(l||c||s||d)&&(h=!0),i=e.formFieldAnnotationType?this.initFormFields(e,i,t):this.initAnnotationObject(e,n,i,t,r,o,h,s,d,c,l),i.id=e.id+"_content",i.relativeMode="Object","Stamp"!==e.shapeAnnotationType&&(void 0!==e.bounds.width&&(i.width=e.bounds.width,h&&(i.width<c||i.width>d)&&(i.width<c&&(i.width=c),i.width>d&&(i.width=d))),i.horizontalAlignment="Stretch",void 0!==e.bounds.height&&(i.height=e.bounds.height,h&&(i.height<l||i.width>s)&&(i.height<l&&(i.height=l),i.height>s&&(i.height=s))),Object(v["f"])(e,i),this.pdfViewer.viewerBase.drawSignatureWithTool&&"SignatureText"===e.shapeAnnotationType&&(i.style.strokeWidth=0)),i.isRectElement=!0,i.verticalAlignment="Stretch",i},e.prototype.initFormFields=function(e,t,i){switch(e.formFieldAnnotationType){case"Textbox":case"PasswordField":case"Checkbox":case"RadioButton":case"DropdownList":case"ListBox":case"SignatureField":case"InitialField":var n=new j;t=n,t.id=e.id+"_content",i.children.push(t);break}return t},e.prototype.initAnnotationObject=function(e,t,i,n,o,a,s,d,l,f,u){switch(e.shapeAnnotationType){case"Ellipse":if(t=new g["a"],t.data="M80.5,12.5 C80.5,19.127417 62.59139,24.5 40.5,24.5 C18.40861,24.5 0.5,19.127417 0.5,12.5C0.5,5.872583 18.40861,0.5 40.5,0.5 C62.59139,0.5 80.5,5.872583 80.5,12.5 z",i=t,n.children.push(i),e.enableShapeLabel){var m=this.textElement(e);m.content=e.labelContent,m.style.color=e.fontColor,m.style.strokeColor=e.labelBorderColor,m.style.fill=e.labelFillColor,m.style.fontSize=e.fontSize,m.style.fontFamily=e.fontFamily,m.style.opacity=e.labelOpacity,n.children.push(m)}break;case"Path":t=new g["a"],t.data=e.data,i=t,n.children.push(i);break;case"HandWrittenSignature":case"Ink":t=new g["a"],t.data=e.data,t.style.strokeColor=e.strokeColor,t.style.strokeWidth=e.thickness,t.style.opacity=e.opacity,i=t,n.children.push(i);break;case"Polygon":t=new g["a"],t.data=Object(x["d"])(e.vertexPoints),i=t,n.children.push(i);break;case"Stamp":if(o=!0,this.isDynamicStamps=!0,e&&e.annotationAddMode&&("Existing Annotation"===e.annotationAddMode||"Imported Annotation"===e.annotationAddMode)&&(e.bounds.width=e.bounds.width-20,e.bounds.height=e.bounds.height-20),e.isDynamicStamp){n.horizontalAlignment="Left",a=new p["a"],i=a,i.cornerRadius=10,i.style.fill=e.stampFillColor,i.style.strokeColor=e.stampStrokeColor,n.children.push(i);var w=this.textElement(e);w=new S["a"],w.style.fontFamily="Helvetica",w.style.fontSize=14,w.style.italic=!0,w.style.bold=!0,w.style.color=e.fillColor,w.rotateValue=void 0,w.content=e.dynamicText,w.relativeMode="Point",w.margin.left=10,w.margin.bottom=-7,w.setOffsetWithRespectToBounds(0,.57,null),w.relativeMode="Point",n.children.push(w);var y=new g["a"];y.id=Object(h["e"])()+"_stamp",y.data=e.data,y.width=e.bounds.width,s&&e.bounds.width>l&&(y.width=l,e.bounds.width=l),y.height=e.bounds.height/2,s&&e.bounds.height>d&&(y.height=d/2,e.bounds.height=d/2),y.rotateValue=void 0,y.margin.left=10,y.margin.bottom=-5,y.relativeMode="Point",y.setOffsetWithRespectToBounds(0,.1,null);var b=y;y.style.fill=e.fillColor,y.style.strokeColor=e.strokeColor,y.style.opacity=e.opacity,i.width=e.bounds.width+20,i.height=e.bounds.height+20,i.style.opacity=e.opacity,n.children.push(b)}else{n.horizontalAlignment="Left",a=new p["a"],i=a,i.cornerRadius=10,i.style.fill=e.stampFillColor,i.style.strokeColor=e.stampStrokeColor,n.children.push(i);y=new g["a"];y.id=Object(h["e"])()+"_stamp",y.data=e.data,y.width=e.bounds.width,s&&e.bounds.width>l&&(y.width=l,e.bounds.width=l),y.height=e.bounds.height,s&&e.bounds.height>d&&(y.height=d,e.bounds.height=d),y.minWidth=y.width/2,y.minHeight=y.height/2;b=y;y.style.fill=e.fillColor,y.style.strokeColor=e.strokeColor,y.style.opacity=e.opacity,i.width=e.bounds.width+20,i.height=e.bounds.height+20,i.minWidth=y.width/2,i.minHeight=y.height/2,i.style.opacity=e.opacity,n.children.push(b),n.minHeight=i.minHeight+20,n.minWidth=i.minWidth+20}break;case"Image":case"SignatureImage":var z=new r["a"];z.source=e.data,i=z,i.style.strokeWidth=0,n.children.push(i);break;case"Rectangle":if(a=new p["a"],i=a,n.children.push(i),e.enableShapeLabel){m=this.textElement(e);m.content=e.labelContent,m.style.color=e.fontColor,m.style.strokeColor=e.labelBorderColor,m.style.fill=e.labelFillColor,m.style.fontSize=e.fontSize,m.style.fontFamily=e.fontFamily,m.style.opacity=e.labelOpacity,n.children.push(m)}break;case"Perimeter":t=new g["a"],t.data="M80.5,12.5 C80.5,19.127417 62.59139,24.5 40.5,24.5 C18.40861,24.5 0.5,19.127417 0.5,12.5C0.5,5.872583 18.40861,0.5 40.5,0.5 C62.59139,0.5 80.5,5.872583 80.5,12.5 z",i=t,Object(v["f"])(e,t),n.children.push(i),a=new p["a"],a.id="perimeter_"+Object(h["e"])(),a.height=.2,a.width=.2,a.transform=c["b"].Self,a.horizontalAlignment="Stretch",this.setNodePosition(a,e),a.rotateAngle=e.rotateAngle,Object(v["f"])(e,a),n.children.push(a);var O=this.textElement(e);O=new S["a"],O.content=O.content=Object(v["b"])([{x:e.bounds.x,y:e.bounds.y},{x:e.bounds.x+e.bounds.width,y:e.bounds.y+e.bounds.height}]).toString(),O.rotateValue={y:-10,angle:e.rotateAngle},n.children.push(O);break;case"Radius":t=new g["a"],t.data="M80.5,12.5 C80.5,19.127417 62.59139,24.5 40.5,24.5 C18.40861,24.5 0.5,19.127417 0.5,12.5C0.5,5.872583 18.40861,0.5 40.5,0.5 C62.59139,0.5 80.5,5.872583 80.5,12.5 z",i=t,Object(v["f"])(e,t),n.children.push(i),a=new p["a"],a.id="radius_"+Object(h["e"])(),a.height=.2,a.width=e.bounds.width/2,a.transform=c["b"].Self,this.setNodePosition(a,e),a.rotateAngle=e.rotateAngle,Object(v["f"])(e,a),n.children.push(a);var j=this.textElement(e);e.enableShapeLabel&&(j.style.color=e.fontColor,j.style.strokeColor=e.labelBorderColor,j.style.fill=e.labelFillColor,j.style.fontSize=e.fontSize,j.style.fontFamily=e.fontFamily,j.style.opacity=e.labelOpacity);Object(v["b"])([{x:e.bounds.x,y:e.bounds.y},{x:e.bounds.x+e.bounds.width,y:e.bounds.y+e.bounds.height}]);!this.pdfViewer.enableImportAnnotationMeasurement&&e.notes&&""!==e.notes?j.content=e.notes:j.content=this.pdfViewer.annotation.measureAnnotationModule.setConversion(e.bounds.width/2*this.pdfViewer.annotation.measureAnnotationModule.pixelToPointFactor,e),j.rotateValue={y:-10,x:e.bounds.width/4,angle:e.rotateAngle},n.children.push(j);break;case"StickyNotes":var V=new r["a"];V.source=e.data,V.width=e.bounds.width,V.height=e.bounds.height,V.style.strokeColor=e.strokeColor,V.style.strokeWidth=0,i=V,n.children.push(i);break;case"SignatureText":var A=new p["a"];A.style.strokeWidth=0,i=A,i.style.strokeWidth=0,n.style.strokeWidth=0,n.children.push(i);var P=this.textElement(e);P.style.fontFamily=e.fontFamily,P.style.fontSize=e.fontSize,P.style.textAlign="Left",P.rotateValue=void 0,P.content=e.data,P.style.strokeWidth=0,n.children.push(P);break;case"FreeText":var T=new p["a"];i=T,n.children.push(i);var C=this.textElement(e);C=new S["a"],C.style.fontFamily=e.fontFamily,C.style.fontSize=e.fontSize,C.style.textAlign="Left","center"===e.textAlign.toLowerCase()?C.style.textAlign="Center":"right"===e.textAlign.toLowerCase()?C.style.textAlign="Right":"justify"===e.textAlign.toLowerCase()&&(C.style.textAlign="Justify"),C.style.color=e.fontColor,C.style.bold=e.font.isBold,C.style.italic=e.font.isItalic,!0===e.font.isUnderline?C.style.textDecoration="Underline":!0===e.font.isStrikeout&&(C.style.textDecoration="LineThrough"),C.rotateValue=void 0,C.content=e.dynamicText,C.style.opacity=e.opacity,C.margin.left=4,C.margin.top=e.fontSize/16*5,this.pdfViewer.freeTextSettings.enableAutoFit?C.style.textWrapping="Wrap":C.style.textWrapping="WrapWithOverflow",C.relativeMode="Point",C.setOffsetWithRespectToBounds(0,0,null),C.relativeMode="Point",n.children.push(C);break}return i.id=e.id+"_content",i.relativeMode="Object",o||(void 0!==e.bounds.width&&(i.width=e.bounds.width,s&&(i.width<f||i.width>l)&&(i.width<f&&(i.width=f),i.width>l&&(i.width=l))),i.horizontalAlignment="Stretch",void 0!==e.bounds.height&&(i.height=e.bounds.height,s&&(i.height<u||i.width>d)&&(i.height<u&&(i.height=u),i.height>d&&(i.height=d))),Object(v["f"])(e,i)),i.isRectElement=!0,i.verticalAlignment="Stretch",i},e.prototype.textElement=function(e){var t=new S["a"];return Object(v["f"])(e,t),t.horizontalAlignment="Center","SignatureText"===e.shapeAnnotationType?t.verticalAlignment="Center":t.verticalAlignment="Top",t.relativeMode="Object",t.setOffsetWithRespectToBounds(.5,.5,"Absolute"),t},e.prototype.setNodePosition=function(e,t){if("Perimeter"===t.shapeAnnotationType)e.offsetX=t.bounds.x+t.bounds.width/2,e.offsetY=t.bounds.y+t.bounds.height/2;else if("Radius"===t.shapeAnnotationType){var i={x:t.bounds.x+t.bounds.width/2+t.bounds.width/4,y:t.bounds.y+t.bounds.height/2},n={x:t.bounds.x+t.bounds.width/2,y:t.bounds.y+t.bounds.height/2},o=Object(a["a"])();Object(a["b"])(o,t.rotateAngle,n.x,n.y);var r=Object(a["d"])(o,i),s={x:r.x,y:r.y};e.offsetX=s.x,e.offsetY=s.y,e.width=t.bounds.width/2}},e.prototype.initContainer=function(e){e.id||(e.id=Object(h["e"])());var t=new m["a"];return t.id=e.id,t.offsetX=e.bounds.x+.5*e.bounds.width,t.offsetY=e.bounds.y+.5*e.bounds.height,t.style.fill="transparent",t.style.strokeColor="transparent",t.rotateAngle=e.rotateAngle,e.wrapper=t,t},e.prototype.initLine=function(e){e.id||(e.id=Object(h["e"])());var t=new m["a"],i=new g["a"];i.id=e.id+"_path";var n=new g["a"],o=new g["a"];if(e.vertexPoints.length){e.sourcePoint=e.vertexPoints[0],e.targetPoint=e.vertexPoints[e.vertexPoints.length-1];for(var r=0;r<e.vertexPoints.length;r++)0!==r&&r!==e.vertexPoints.length-1&&e.segments.push(e.vertexPoints[r])}i=Object(x["e"])(e,i);var a=[];a=Object(x["b"])(e);var l=[],c=[];if("Distance"===e.shapeAnnotationType&&(l=Object(x["h"])(e,a),c=Object(x["f"])(e,a,this.pdfViewer.annotation.measureAnnotationModule,this.pdfViewer)),"Line"!==e.shapeAnnotationType&&"LineWidthArrowHead"!==e.shapeAnnotationType||"Perimeter"!==e.measureType||(c=Object(x["i"])(e,a,this.pdfViewer.annotation.measureAnnotationModule,this.pdfViewer)),!0===e.enableShapeLabel&&"Distance"!==e.shapeAnnotationType&&"Perimeter"!==e.measureType){var p=s["a"].findAngle(a[0],a[1]),f=this.textElement(e);f.id=Object(h["e"])(),!this.pdfViewer.enableImportAnnotationMeasurement&&e.notes&&""!==e.notes?f.content=e.notes:f.content=e.labelContent,f.style.strokeColor=e.labelBorderColor,f.style.fill=e.labelFillColor,f.style.fontSize=e.fontSize,f.style.color=e.fontColor,f.style.fontFamily=e.fontFamily,f.style.opacity=e.labelOpacity,f.rotateValue={y:-10,angle:p},c.push(f)}a=Object(x["a"])(e,a);var S=d["a"].toBounds(a);t.width=S.width,t.height=S.height,t.offsetX=S.x+t.pivot.x*S.width,t.offsetY=S.y+t.pivot.y*S.height;var u=e.vertexPoints;if("Line"!==e.shapeAnnotationType&&"LineWidthArrowHead"!==e.shapeAnnotationType&&"Distance"!==e.shapeAnnotationType||(n=Object(x["c"])(e,a[0],u[1],!0),o=Object(x["c"])(e,a[a.length-1],u[u.length-2],!1)),n.id=e.id+"_srcDec",o.id=e.id+"_tarDec",i.style["fill"]="transparent",t.style.strokeColor="transparent",t.style.fill="transparent",t.style.strokeWidth=0,t.children=[],Object(v["f"])(e,i),t.children.push(i),l.length>0)for(r=0;r<l.length;r++)t.children.push(l[r]);if(c.length>0)for(r=0;r<c.length;r++)t.children.push(c[r]);return t.children.push(n),t.children.push(o),t.id=e.id,t.offsetX=i.offsetX,t.offsetY=i.offsetY,t.width=i.width,t.height=i.height,a=Object(x["b"])(e),e.wrapper=t,t},e.prototype.add=function(e){var t=this.pdfViewer.allowServerDataBinding;return this.pdfViewer.enableServerDataBinding(!1),e.formFieldAnnotationType&&this.pdfViewer.formDesignerModule?(e=new o["b"](this.pdfViewer,"formFields",e,!0),e=this.initObject(e),this.pdfViewer.formFields.push(e)):(e=new o["a"](this.pdfViewer,"annotations",e,!0),e=this.initObject(e),this.pdfViewer.annotations.push(e)),this.pdfViewer.enableServerDataBinding(t,!0),e},e.prototype.remove=function(e){var t=this.pdfViewer.allowServerDataBinding;this.pdfViewer.enableServerDataBinding(!1);for(var i=e.pageIndex,n=0;n<this.pdfViewer.annotations.length;n++){var o=this.pdfViewer.annotations[n];if(o.id&&(o.id===e.id||o.id.split("_")[0]===e.id)||o.wrapper&&o.wrapper.id===e.id){this.pdfViewer.annotations.splice(n,1);for(var r=this.getPageObjects(e.pageIndex),a=0;a<r.length;a++)r[a].id===e.id&&(r.splice(a,1),"Path"===e.shapeAnnotationType||"SignatureImage"===e.shapeAnnotationType||"SignatureText"===e.shapeAnnotationType?this.refreshCanvasDiagramLayer(void 0,i,e.id):this.pdfViewer.renderDrawing(void 0,i))}}for(n=0;n<this.pdfViewer.formFields.length;n++){var s=this.pdfViewer.formFields[n];if(s.id===e.id||s.wrapper.id===e.id){this.pdfViewer.formFields.splice(n,1),this.pdfViewer.formDesignerModule&&e.formFieldAnnotationType&&this.pdfViewer.formFieldCollection.splice(n,1);for(r=this.getPageObjects(e.pageIndex),a=0;a<r.length;a++)r[a].id===e.id&&r.splice(a,1),r[a]&&r[a].id&&-1!==r[a].id.indexOf(e.id)&&r.splice(a,1)}}if("Textbox"===e.formFieldAnnotationType||"Checkbox"===e.formFieldAnnotationType||"RadioButton"===e.formFieldAnnotationType||"PasswordField"===e.formFieldAnnotationType||"DropdownList"===e.formFieldAnnotationType||"ListBox"===e.formFieldAnnotationType||"SignatureField"===e.formFieldAnnotationType||"InitialField"===e.formFieldAnnotationType)for(n=0;n<this.pdfViewer.formFieldCollections.length;n++){s=this.pdfViewer.formFieldCollections[n];s.id===e.id&&this.pdfViewer.formFieldCollections.splice(n,1)}if("Textbox"===e.formFieldAnnotationType||"Checkbox"===e.formFieldAnnotationType||"RadioButton"===e.formFieldAnnotationType||"PasswordField"===e.formFieldAnnotationType||"DropdownList"===e.formFieldAnnotationType||"ListBox"===e.formFieldAnnotationType||"SignatureField"===e.formFieldAnnotationType||"InitialField"===e.formFieldAnnotationType){var d=document.getElementById("form_field_"+e.id+"_content_html_element");if(d){d.remove(),this.pdfViewer.renderDrawing(void 0,i);var l={name:e.name,id:e.id,value:e.value,fontFamily:e.fontFamily,fontSize:e.fontSize,fontStyle:e.fontStyle,color:e.color,backgroundColor:e.backgroundColor,alignment:e.alignment,isReadonly:e.isReadonly,visibility:e.visibility,maxLength:e.maxLength,isRequired:e.isRequired,isPrint:e.isPrint,rotation:e.rotateAngle,tooltip:e.tooltip,options:e.options,isChecked:e.isChecked,isSelected:e.isSelected};this.pdfViewer.fireFormFieldRemoveEvent("formFieldRemove",l,e.pageIndex),this.pdfViewer.formDesignerModule.removeFieldsFromAnnotationCollections(e.id)}}this.pdfViewer.enableServerDataBinding(t,!0)},e.prototype.getPageObjects=function(e){var t=this.getPageTable(e);return t.objects},e.prototype.refreshCanvasDiagramLayer=function(e,t,i){if(e||(e=document.getElementById(this.pdfViewer.element.id+"_annotationCanvas_"+t)),e){var n=this.pdfViewer.viewerBase.getZoomFactor(),o=e.width/n,r=e.height/n,a=e.getContext("2d");a.lineCap="round",a.lineJoin="round",n<1&&(a.lineWidth=a.lineWidth/n);var s=this.pdfViewer.viewerBase.getWindowDevicePixelRatio(),d=n*s;!z["c"].isDevice||z["c"].isDevice&&n<=.7?a.setTransform(d,0,0,d,0,0):a.setTransform(n,0,0,n,0,0),a.clearRect(0,0,o,r);for(var l=this.getPageObjects(t),c=0;c<l.length;c++){var h=void 0;e.id===this.pdfViewer.element.id+"_print_annotation_layer_"+t?l[c].isPrint&&(h=this.pdfViewer.nameTable[l[c].id].wrapper,Object(z["L"])(h)||Object(w["b"])(e,[h],this.renderer)):(h=this.pdfViewer.nameTable[l[c].id].wrapper,Object(w["b"])(e,[h],this.renderer))}}},e.prototype.clearHighlighter=function(e){var t=this.getAdornerLayerSvg(this.pdfViewer.element.id+e+"_diagramAdornerLayer",e);if(t){var i=t.getElementById(t.id+"_highlighter");i&&i.parentNode.removeChild(i)}},e.prototype.getSelectorElement=function(e,t){var i=null,n=this.getAdornerLayerSvg(e,t);return n&&(i=n.getElementById(e+"_SelectorElement")),i},e.prototype.getAdornerLayerSvg=function(e,t){var i,n=null,o=Object(l["d"])(e+t+"_diagramAdornerLayer");return o&&(i=o.getElementsByClassName("e-adorner-layer"+t),n=i[0]),n},e.prototype.clearSelectorLayer=function(e){var t=this.getAdornerLayerSvg(this.pdfViewer.element.id,e);if(t){var i=t.getElementById(this.pdfViewer.adornerSvgLayer.id+"_selected_region");i&&i.parentNode.removeChild(i),this.clearHighlighter(e);for(var n=this.getSelectorElement(this.pdfViewer.element.id,e).childNodes,o=void 0,r=n.length;r>0;r--)o=n[r-1],o.parentNode.removeChild(o)}},e.prototype.renderSelector=function(e,t,i,n){if(!i||n){var o=new f["a"],r=this.pdfViewer.selectedItems;if(this.clearSelectorLayer(e),r.wrapper){r.wrapper.measure(o);var a=this.pdfViewer.viewerBase.getZoomFactor();r.wrapper.arrange(r.wrapper.desiredSize),r.width=r.wrapper.actualSize.width,r.height=r.wrapper.actualSize.height,r.offsetX=r.wrapper.offsetX,r.offsetY=r.wrapper.offsetY,1===r.annotations.length&&(r.rotateAngle=r.annotations[0].rotateAngle,r.wrapper.rotateAngle=r.annotations[0].rotateAngle);r.wrapper.bounds;var s=void 0;if(r.formFields.length)for(var d=0;d<r.formFields.length;d++){var l=r.formFields[d];if(s=this.getSelectorElement(this.pdfViewer.element.id,e),s&&l.pageIndex===e&&this.pdfViewer.designerMode&&this.renderResizeHandle(l.wrapper.children[0],s,r.thumbsConstraints,a,void 0,void 0,void 0,!1,!0,null,null,t),this.pdfViewer.formDesignerModule&&l.formFieldAnnotationType&&!this.pdfViewer.viewerBase.isFormFieldSelect&&!this.pdfViewer.viewerBase.isFormFieldMouseDown&&!this.pdfViewer.viewerBase.isFormFieldMouseMove){this.pdfViewer.viewerBase.isFormFieldSelect=!0;var c={name:l.name,id:l.id,value:l.value,fontFamily:l.fontFamily,fontSize:l.fontSize,fontStyle:l.fontStyle,color:l.color,backgroundColor:l.backgroundColor,alignment:l.alignment,isReadonly:l.isReadonly,visibility:l.visibility,maxLength:l.maxLength,isRequired:l.isRequired,isPrint:l.isPrint,rotation:l.rotateAngle,tooltip:l.tooltip,options:l.options,isChecked:l.isChecked,isSelected:l.isSelected};this.pdfViewer.fireFormFieldSelectEvent("formFieldSelect",c,l.pageIndex,this.pdfViewer.formDesignerModule.isProgrammaticSelection)}}if(r.annotations.length)for(var h=0;h<r.annotations.length;h++){l=r.annotations[h];s=this.getSelectorElement(this.pdfViewer.element.id,e);if(s&&l.pageIndex===e){if("Distance"===l.shapeAnnotationType||"Line"===l.shapeAnnotationType||"LineWidthArrowHead"===l.shapeAnnotationType||"Polygon"===l.shapeAnnotationType)this.renderEndPointHandle(l,s,r.thumbsConstraints,{scale:a,tx:0,ty:0},void 0,void 0,!0,t);else if("StickyNotes"===l.shapeAnnotationType)this.renderResizeHandle(l.wrapper.children[0],s,r.thumbsConstraints,a,void 0,void 0,void 0,!1,!0,null,null,t);else if("Stamp"!==this.pdfViewer.tool){var p="Path"===l.shapeAnnotationType||"SignatureField"===l.formFieldAnnotationType||"InitialField"===l.formFieldAnnotationType;this.renderResizeHandle(l.wrapper.children[0],s,r.thumbsConstraints,a,void 0,void 0,void 0,"Stamp"===l.shapeAnnotationType,!1,p,"FreeText"===l.shapeAnnotationType||"HandWrittenSignature"===l.shapeAnnotationType||"SignatureImage"===l.shapeAnnotationType||"Image"===l.shapeAnnotationType||"SignatureText"===l.shapeAnnotationType,t)}if(this.pdfViewer.viewerBase.isNewSignatureAdded||"HandWrittenSignature"!==l.shapeAnnotationType&&"SignatureText"!==l.shapeAnnotationType&&"SignatureImage"!==l.shapeAnnotationType||this.pdfViewer.annotationModule.selectSignature(l.signatureName,l.pageIndex,l),this.pdfViewer.formDesignerModule&&l.formFieldAnnotationType&&!this.pdfViewer.viewerBase.isFormFieldSelect&&!this.pdfViewer.viewerBase.isFormFieldMouseDown&&!this.pdfViewer.viewerBase.isFormFieldMouseMove){this.pdfViewer.viewerBase.isFormFieldSelect=!0;c={value:l.value,fontFamily:l.fontFamily,fontSize:l.fontSize,fontStyle:l.fontStyle,color:l.color,backgroundColor:l.backgroundColor,alignment:l.alignment,isReadonly:l.isReadonly,visibility:l.visibility,maxLength:l.maxLength,isRequired:l.isRequired,isPrint:l.isPrint,rotation:l.rotateAngle,tooltip:l.tooltip,options:l.options,isChecked:l.isChecked,isSelected:l.isSelected};this.pdfViewer.fireFormFieldSelectEvent("formFieldSelect",c,l.pageIndex,this.pdfViewer.formDesignerModule.isProgrammaticSelection)}""!==l.annotName&&"SignatureText"!==l.annotName&&i&&l===i&&!l.formFieldAnnotationType&&(this.pdfViewer.viewerBase.isAddComment||this.pdfViewer.viewerBase.isAnnotationSelect||this.pdfViewer.viewerBase.isAnnotationMouseDown||this.pdfViewer.viewerBase.isAnnotationMouseMove||this.pdfViewer.viewerBase.isInkAdded||this.pdfViewer.viewerBase.isNewStamp||(this.pdfViewer.viewerBase.isAnnotationSelect=!0,this.pdfViewer.annotationModule.annotationSelect(l.annotName,l.pageIndex,l)))}}}}},e.prototype.rotate=function(e,t,i,n){var o;if(e)if(i=i||{x:e.wrapper.offsetX,y:e.wrapper.offsetY},e instanceof y["a"]){e.rotateAngle+=t,e.wrapper.rotateAngle+=t;var r=[];r=r.concat(e.annotations),this.rotateObjects(e,r,t,i,null,n)}else this.rotateObjects(e,[e],t,i);return o},e.prototype.rotateObjects=function(e,t,i,n,r,s){n=n||{};var d=Object(a["a"])();Object(a["b"])(d,i,n.x,n.y);for(var l=0,c=t;l<c.length;l++){var h=c[l];if(h instanceof o["a"]){if(!1!==r||e!==h){h.rotateAngle+=i,h.rotateAngle=(h.rotateAngle+360)%360;var p=Object(a["d"])(d,{x:h.wrapper.offsetX,y:h.wrapper.offsetY});h.wrapper.offsetX=p.x,h.wrapper.offsetY=p.y,this.nodePropertyChange(h,{rotateAngle:h.rotateAngle})}this.renderSelector(h.pageIndex,s)}}},e.prototype.getParentSvg=function(e,t,i){return e&&e.id&&t&&"selector"===t?this.pdfViewer.adornerSvgLayer:i},e.prototype.renderBorder=function(e,t,i,n,o,r,a,s){var d=e,l=Object(v["c"])(d,n);if(n=n||{scale:1,tx:0,ty:0},s){l.x*=n.scale,l.y*=n.scale,l.width*=n.scale,l.height*=n.scale;c=this.pdfViewer.selectedItems.annotations.length>0?this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType:this.pdfViewer.selectedItems.formFields[0].formFieldAnnotationType;if(i&&"object"!==typeof i&&""!==i){h=JSON.parse(i),p=""===h.selectionBorderColor?"black":h.selectionBorderColor;l.stroke=p,l.strokeWidth=1===i.selectionBorderThickness?1:h.selectionBorderThickness;g=0===h.selectorLineDashArray.length?[6,3]:h.selectorLineDashArray;g.length>2&&(g=[g[0],g[1]]),l.dashArray=g.toString()}else this.getBorderSelector(c,l)}else{l.x*=n.scale,l.y*=n.scale,l.width*=n.scale,l.height*=n.scale,l.fill="transparent";var c=this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType;if(i&&"object"!==typeof i&&""!==i){var h=JSON.parse(i),p=""===h.selectionBorderColor?"black":h.selectionBorderColor;l.stroke=p,l.strokeWidth=1===i.selectionBorderThickness?1:h.selectionBorderThickness;var g=0===h.selectorLineDashArray.length?[6,3]:h.selectorLineDashArray;g.length>2&&(g=[g[0],g[1]]),l.dashArray=g.toString()}else if(!this.pdfViewer.designerMode)if("HandWrittenSignature"===c||"SignatureText"===c||"SignatureImage"===c||"Ink"===c){this.pdfViewer.nameTable[e.id.split("_")[0]];var f=this.pdfViewer.viewerBase.checkSignatureFormField(e.id);this.getSignBorder(c,l,f)}else this.getBorderSelector(c,l);l.class="e-pv-diagram-border",a&&(l.class+=" e-diagram-lane"),l.id="borderRect",l.id="borderRect",o||(l.class+=" e-disabled"),r&&(l.class+=" e-thick-border"),l.cornerRadius=0}var S=this.getParentSvg(e,"selector");this.svgRenderer.drawRectangle(t,l,this.pdfViewer.element.id,void 0,!0,S)},e.prototype.getSignBorder=function(e,t,i){if(i||"HandWrittenSignature"!==e&&"SignatureText"!==e&&"SignatureImage"!==e||!this.pdfViewer.handWrittenSignatureSettings.annotationSelectorSettings)if("Ink"===e&&this.pdfViewer.inkAnnotationSettings.annotationSelectorSettings){o=Object(z["L"])(this.pdfViewer.inkAnnotationSettings.annotationSelectorSettings.selectionBorderColor)||""===this.pdfViewer.inkAnnotationSettings.annotationSelectorSettings.selectionBorderColor?"#0000ff":this.pdfViewer.inkAnnotationSettings.annotationSelectorSettings.selectionBorderColor;t.stroke=o;r=Object(z["L"])(this.pdfViewer.inkAnnotationSettings.annotationSelectorSettings.selectionBorderThickness)?1:this.pdfViewer.inkAnnotationSettings.annotationSelectorSettings.selectionBorderThickness;t.strokeWidth=r;a=Object(z["L"])(this.pdfViewer.inkAnnotationSettings.annotationSelectorSettings.selectorLineDashArray)||0===this.pdfViewer.inkAnnotationSettings.annotationSelectorSettings.selectorLineDashArray.length?[4]:this.pdfViewer.inkAnnotationSettings.annotationSelectorSettings.selectorLineDashArray;a.length>2&&(a=[a[0],a[1]]),t.dashArray=a.toString()}else{var n=this.pdfViewer.annotationSelectorSettings;o=""===n.selectionBorderColor?"black":n.selectionBorderColor;t.stroke=o,t.strokeWidth=1===n.selectionBorderThickness?1:n.selectionBorderThickness;a=0===n.selectorLineDashArray.length?[6,3]:n.selectorLineDashArray;a.length>2&&(a=[a[0],a[1]]),t.dashArray=a.toString()}else{var o=Object(z["L"])(this.pdfViewer.handWrittenSignatureSettings.annotationSelectorSettings.selectionBorderColor)||""===this.pdfViewer.handWrittenSignatureSettings.annotationSelectorSettings.selectionBorderColor?"#0000ff":this.pdfViewer.handWrittenSignatureSettings.annotationSelectorSettings.selectionBorderColor;t.stroke=o;var r=Object(z["L"])(this.pdfViewer.handWrittenSignatureSettings.annotationSelectorSettings.selectionBorderThickness)?1:this.pdfViewer.handWrittenSignatureSettings.annotationSelectorSettings.selectionBorderThickness;t.strokeWidth=r;var a=Object(z["L"])(this.pdfViewer.handWrittenSignatureSettings.annotationSelectorSettings.selectorLineDashArray)||0===this.pdfViewer.handWrittenSignatureSettings.annotationSelectorSettings.selectorLineDashArray.length?[4]:this.pdfViewer.handWrittenSignatureSettings.annotationSelectorSettings.selectorLineDashArray;a.length>2&&(a=[a[0],a[1]]),t.dashArray=a.toString()}},e.prototype.getBorderSelector=function(e,t){var i=this.pdfViewer.annotationSelectorSettings,n=Object(z["L"])(i.selectionBorderColor)||""===i.selectionBorderColor?"black":i.selectionBorderColor;t.stroke=n,t.strokeWidth=Object(z["L"])(i.selectionBorderThickness)||1===i.selectionBorderThickness?1:i.selectionBorderThickness;var o=Object(z["L"])(i.selectorLineDashArray)||0===i.selectorLineDashArray.length?[6,3]:i.selectorLineDashArray;if(o.length>2&&(o=[o[0],o[1]]),t.dashArray=o.toString(),"Rectangle"===e&&this.pdfViewer.rectangleSettings.annotationSelectorSettings){var r=Object(z["L"])(this.pdfViewer.rectangleSettings.annotationSelectorSettings.selectionBorderColor)||""===this.pdfViewer.rectangleSettings.annotationSelectorSettings.selectionBorderColor?"black":this.pdfViewer.rectangleSettings.annotationSelectorSettings.selectionBorderColor;t.stroke=r;var a=Object(z["L"])(this.pdfViewer.rectangleSettings.annotationSelectorSettings.selectionBorderThickness)?1:this.pdfViewer.rectangleSettings.annotationSelectorSettings.selectionBorderThickness;t.strokeWidth=a;var s=Object(z["L"])(this.pdfViewer.rectangleSettings.annotationSelectorSettings.selectorLineDashArray)||0===this.pdfViewer.rectangleSettings.annotationSelectorSettings.selectorLineDashArray.length?[4]:this.pdfViewer.rectangleSettings.annotationSelectorSettings.selectorLineDashArray;s.length>2&&(s=[s[0],s[1]]),t.dashArray=s.toString()}else if("Textbox"!==e&&"Checkbox"!==e&&"RadioButton"!==e&&"SignatureField"!==e&&"InitialField"!==e&&"DropdownList"!==e&&"ListBox"!==e&&"PasswordField"!==e||!this.pdfViewer.rectangleSettings.annotationSelectorSettings){if("Ellipse"===e&&this.pdfViewer.circleSettings.annotationSelectorSettings){var d=Object(z["L"])(this.pdfViewer.circleSettings.annotationSelectorSettings.selectionBorderColor)||""===this.pdfViewer.circleSettings.annotationSelectorSettings.selectionBorderColor?"black":this.pdfViewer.circleSettings.annotationSelectorSettings.selectionBorderColor;t.stroke=d;a=Object(z["L"])(this.pdfViewer.circleSettings.annotationSelectorSettings.selectionBorderThickness)?1:this.pdfViewer.circleSettings.annotationSelectorSettings.selectionBorderThickness;t.strokeWidth=a;var l=Object(z["L"])(this.pdfViewer.circleSettings.annotationSelectorSettings.selectorLineDashArray)||0===this.pdfViewer.circleSettings.annotationSelectorSettings.selectorLineDashArray.length?[4]:this.pdfViewer.circleSettings.annotationSelectorSettings.selectorLineDashArray;l.length>2&&(l=[l[0],l[1]]),t.dashArray=l.toString()}else if("Radius"===e&&this.pdfViewer.radiusSettings.annotationSelectorSettings){var c=Object(z["L"])(this.pdfViewer.radiusSettings.annotationSelectorSettings.selectionBorderColor)||""===this.pdfViewer.radiusSettings.annotationSelectorSettings.selectionBorderColor?"black":this.pdfViewer.radiusSettings.annotationSelectorSettings.selectionBorderColor;t.stroke=c;a=Object(z["L"])(this.pdfViewer.radiusSettings.annotationSelectorSettings.selectionBorderThickness)?1:this.pdfViewer.radiusSettings.annotationSelectorSettings.selectionBorderThickness;t.strokeWidth=a;var h=Object(z["L"])(this.pdfViewer.radiusSettings.annotationSelectorSettings.selectorLineDashArray)||0===this.pdfViewer.radiusSettings.annotationSelectorSettings.selectorLineDashArray.length?[4]:this.pdfViewer.radiusSettings.annotationSelectorSettings.selectorLineDashArray;h.length>2&&(h=[h[0],h[1]]),t.dashArray=h.toString()}else if("FreeText"===e&&this.pdfViewer.freeTextSettings.annotationSelectorSettings){var p=Object(z["L"])(this.pdfViewer.freeTextSettings.annotationSelectorSettings.selectionBorderColor)||""===this.pdfViewer.freeTextSettings.annotationSelectorSettings.selectionBorderColor?"black":this.pdfViewer.freeTextSettings.annotationSelectorSettings.selectionBorderColor;t.stroke=p;a=Object(z["L"])(this.pdfViewer.freeTextSettings.annotationSelectorSettings.selectionBorderThickness)?1:this.pdfViewer.freeTextSettings.annotationSelectorSettings.selectionBorderThickness;t.strokeWidth=a;var g=Object(z["L"])(this.pdfViewer.freeTextSettings.annotationSelectorSettings.selectorLineDashArray)||0===this.pdfViewer.freeTextSettings.annotationSelectorSettings.selectorLineDashArray.length?[4]:this.pdfViewer.freeTextSettings.annotationSelectorSettings.selectorLineDashArray;g.length>2&&(g=[g[0],g[1]]),t.dashArray=g.toString()}else if("StickyNotes"===e&&this.pdfViewer.stickyNotesSettings.annotationSelectorSettings){var f=Object(z["L"])(this.pdfViewer.stickyNotesSettings.annotationSelectorSettings.selectionBorderColor)||""===this.pdfViewer.stickyNotesSettings.annotationSelectorSettings.selectionBorderColor?"black":this.pdfViewer.stickyNotesSettings.annotationSelectorSettings.selectionBorderColor;t.stroke=f;a=Object(z["L"])(this.pdfViewer.stickyNotesSettings.annotationSelectorSettings.selectionBorderThickness)?1:this.pdfViewer.stickyNotesSettings.annotationSelectorSettings.selectionBorderThickness;t.strokeWidth=a;var S=Object(z["L"])(this.pdfViewer.stickyNotesSettings.annotationSelectorSettings.selectorLineDashArray)||0===this.pdfViewer.stickyNotesSettings.annotationSelectorSettings.selectorLineDashArray.length?[6,3]:this.pdfViewer.stickyNotesSettings.annotationSelectorSettings.selectorLineDashArray;S.length>2&&(S=[S[0],S[1]]),t.dashArray=S.toString()}else if("Stamp"===e&&this.pdfViewer.stampSettings.annotationSelectorSettings){var u=Object(z["L"])(this.pdfViewer.stampSettings.annotationSelectorSettings.selectionBorderColor)||""===this.pdfViewer.stampSettings.annotationSelectorSettings.selectionBorderColor?"#0000ff":this.pdfViewer.stampSettings.annotationSelectorSettings.selectionBorderColor;t.stroke=u;a=Object(z["L"])(this.pdfViewer.stampSettings.annotationSelectorSettings.selectionBorderThickness)?1:this.pdfViewer.stampSettings.annotationSelectorSettings.selectionBorderThickness;t.strokeWidth=a;var m=Object(z["L"])(this.pdfViewer.stampSettings.annotationSelectorSettings.selectorLineDashArray)||0===this.pdfViewer.stampSettings.annotationSelectorSettings.selectorLineDashArray.length?[4]:this.pdfViewer.stampSettings.annotationSelectorSettings.selectorLineDashArray;m.length>2&&(m=[m[0],m[1]]),t.dashArray=m.toString()}}else{var w=Object(z["L"])(this.pdfViewer.rectangleSettings.annotationSelectorSettings.selectionBorderColor)||""===this.pdfViewer.rectangleSettings.annotationSelectorSettings.selectionBorderColor?"black":this.pdfViewer.rectangleSettings.annotationSelectorSettings.selectionBorderColor;t.stroke=w;var a=Object(z["L"])(this.pdfViewer.rectangleSettings.annotationSelectorSettings.selectionBorderThickness)?1:this.pdfViewer.rectangleSettings.annotationSelectorSettings.selectionBorderThickness;t.strokeWidth=a;var y=Object(z["L"])(this.pdfViewer.rectangleSettings.annotationSelectorSettings.selectorLineDashArray)||0===this.pdfViewer.rectangleSettings.annotationSelectorSettings.selectorLineDashArray.length?[4]:this.pdfViewer.rectangleSettings.annotationSelectorSettings.selectorLineDashArray;y.length>2&&(y=[y[0],y[1]]),t.dashArray=y.toString()}},e.prototype.renderCircularHandle=function(e,t,i,n,o,r,s,d,l,c,h,p,g,f){var S=t,u={x:i,y:n};if(d=d||{scale:1,tx:0,ty:0},0!==S.rotateAngle||0!==S.parentTransform){var m=Object(a["a"])();Object(a["b"])(m,S.rotateAngle+S.parentTransform,S.offsetX,S.offsetY),u=Object(a["d"])(m,u)}var w,y=Object(v["c"])(S);w=this.pdfViewer.selectedItems.annotations.length>0&&this.pdfViewer.selectedItems.annotations[0].measureType?this.pdfViewer.selectedItems.annotations[0].measureType:this.pdfViewer.selectedItems.formFields.length>0?this.pdfViewer.selectedItems.formFields[0].formFieldAnnotationType:this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType,this.getResizerColors(w,y,f,d),this.getShapeSize(w,y,f,d),y.strokeWidth=1,void 0!==p&&(5,y.id="segmentEnd_"+p),y.centerX=(u.x+d.tx)*d.scale,y.centerY=(u.y+d.ty)*d.scale,y.angle=0,y.id=e,y.visible=r,y.class=g,y.opacity=1,l&&(y.class+=" e-connected"),c&&(y.visible=!1),y.x=u.x*d.scale-y.width/2,y.y=u.y*d.scale-y.height/2;var b=this.getParentSvg(t,"selector");"Square"===this.getShape(w,f)?this.svgRenderer.drawRectangle(o,y,e,void 0,!0,b):"Circle"===this.getShape(w,f)&&this.svgRenderer.drawCircle(o,y,1)},e.prototype.getShapeSize=function(e,t,i,n){if(i&&"object"!==typeof i&&""!==i){var o=JSON.parse(i);t.radius=(Object(z["L"])(o.resizerSize)||8===o.resizerSize?8:o.resizerSize)/2,t.width=(Object(z["L"])(o.resizerSize)||8===o.resizerSize?8:o.resizerSize)*n.scale,t.height=(Object(z["L"])(o.resizerSize)||8===o.resizerSize?8:o.resizerSize)*n.scale}else{o=this.pdfViewer.annotationSelectorSettings;t.radius=(Object(z["L"])(o.resizerSize)||8===o.resizerSize?8:o.resizerSize)/2,t.width=(Object(z["L"])(o.resizerSize)||8===o.resizerSize?8:o.resizerSize)*n.scale,t.height=(Object(z["L"])(o.resizerSize)||8===o.resizerSize?8:o.resizerSize)*n.scale,"Line"===e&&this.pdfViewer.lineSettings.annotationSelectorSettings?(t.radius=(Object(z["L"])(this.pdfViewer.lineSettings.annotationSelectorSettings.resizerSize)||8===this.pdfViewer.lineSettings.annotationSelectorSettings.resizerSize?8:this.pdfViewer.lineSettings.annotationSelectorSettings.resizerSize)/2,t.width=(Object(z["L"])(this.pdfViewer.lineSettings.annotationSelectorSettings.resizerSize)||8===this.pdfViewer.lineSettings.annotationSelectorSettings.resizerSize?8:this.pdfViewer.lineSettings.annotationSelectorSettings.resizerSize)*n.scale,t.height=(Object(z["L"])(this.pdfViewer.lineSettings.annotationSelectorSettings.resizerSize)||8===this.pdfViewer.lineSettings.annotationSelectorSettings.resizerSize?8:this.pdfViewer.lineSettings.annotationSelectorSettings.resizerSize)*n.scale):"LineWidthArrowHead"===e&&this.pdfViewer.arrowSettings.annotationSelectorSettings?(t.radius=(Object(z["L"])(this.pdfViewer.arrowSettings.annotationSelectorSettings.resizerSize)||8===this.pdfViewer.arrowSettings.annotationSelectorSettings.resizerSize?8:this.pdfViewer.arrowSettings.annotationSelectorSettings.resizerSize)/2,t.width=(Object(z["L"])(this.pdfViewer.arrowSettings.annotationSelectorSettings.resizerSize)||8===this.pdfViewer.arrowSettings.annotationSelectorSettings.resizerSize?8:this.pdfViewer.arrowSettings.annotationSelectorSettings.resizerSize)*n.scale,t.height=(Object(z["L"])(this.pdfViewer.arrowSettings.annotationSelectorSettings.resizerSize)||8===this.pdfViewer.arrowSettings.annotationSelectorSettings.resizerSize?8:this.pdfViewer.arrowSettings.annotationSelectorSettings.resizerSize)*n.scale):"Rectangle"===e&&this.pdfViewer.rectangleSettings.annotationSelectorSettings?(t.radius=(Object(z["L"])(this.pdfViewer.rectangleSettings.annotationSelectorSettings.resizerSize)||8===this.pdfViewer.rectangleSettings.annotationSelectorSettings.resizerSize?8:this.pdfViewer.rectangleSettings.annotationSelectorSettings.resizerSize)/2,t.width=(Object(z["L"])(this.pdfViewer.rectangleSettings.annotationSelectorSettings.resizerSize)||8===this.pdfViewer.rectangleSettings.annotationSelectorSettings.resizerSize?8:this.pdfViewer.rectangleSettings.annotationSelectorSettings.resizerSize)*n.scale,t.height=(Object(z["L"])(this.pdfViewer.rectangleSettings.annotationSelectorSettings.resizerSize)||8===this.pdfViewer.rectangleSettings.annotationSelectorSettings.resizerSize?8:this.pdfViewer.rectangleSettings.annotationSelectorSettings.resizerSize)*n.scale):"Ellipse"===e&&this.pdfViewer.circleSettings.annotationSelectorSettings?(t.radius=(Object(z["L"])(this.pdfViewer.circleSettings.annotationSelectorSettings.resizerSize)||8===this.pdfViewer.circleSettings.annotationSelectorSettings.resizerSize?8:this.pdfViewer.circleSettings.annotationSelectorSettings.resizerSize)/2,t.width=(Object(z["L"])(this.pdfViewer.circleSettings.annotationSelectorSettings.resizerSize)||8===this.pdfViewer.circleSettings.annotationSelectorSettings.resizerSize?8:this.pdfViewer.circleSettings.annotationSelectorSettings.resizerSize)*n.scale,t.height=(Object(z["L"])(this.pdfViewer.circleSettings.annotationSelectorSettings.resizerSize)||8===this.pdfViewer.circleSettings.annotationSelectorSettings.resizerSize?8:this.pdfViewer.circleSettings.annotationSelectorSettings.resizerSize)*n.scale):"Distance"===e&&this.pdfViewer.distanceSettings.annotationSelectorSettings?(t.radius=(Object(z["L"])(this.pdfViewer.distanceSettings.annotationSelectorSettings.resizerSize)||8===this.pdfViewer.distanceSettings.annotationSelectorSettings.resizerSize?8:this.pdfViewer.distanceSettings.annotationSelectorSettings.resizerSize)/2,t.width=(Object(z["L"])(this.pdfViewer.distanceSettings.annotationSelectorSettings.resizerSize)||8===this.pdfViewer.distanceSettings.annotationSelectorSettings.resizerSize?8:this.pdfViewer.distanceSettings.annotationSelectorSettings.resizerSize)*n.scale,t.height=(Object(z["L"])(this.pdfViewer.distanceSettings.annotationSelectorSettings.resizerSize)||8===this.pdfViewer.distanceSettings.annotationSelectorSettings.resizerSize?8:this.pdfViewer.distanceSettings.annotationSelectorSettings.resizerSize)*n.scale):"Polygon"===e&&this.pdfViewer.polygonSettings.annotationSelectorSettings?(t.radius=(Object(z["L"])(this.pdfViewer.polygonSettings.annotationSelectorSettings.resizerSize)||8===this.pdfViewer.polygonSettings.annotationSelectorSettings.resizerSize?8:this.pdfViewer.polygonSettings.annotationSelectorSettings.resizerSize)/2,t.width=(Object(z["L"])(this.pdfViewer.polygonSettings.annotationSelectorSettings.resizerSize)||8===this.pdfViewer.polygonSettings.annotationSelectorSettings.resizerSize?8:this.pdfViewer.polygonSettings.annotationSelectorSettings.resizerSize)*n.scale,t.height=(Object(z["L"])(this.pdfViewer.polygonSettings.annotationSelectorSettings.resizerSize)||8===this.pdfViewer.polygonSettings.annotationSelectorSettings.resizerSize?8:this.pdfViewer.polygonSettings.annotationSelectorSettings.resizerSize)*n.scale):"Radius"===e&&this.pdfViewer.radiusSettings.annotationSelectorSettings?(t.radius=(Object(z["L"])(this.pdfViewer.radiusSettings.annotationSelectorSettings.resizerSize)||8===this.pdfViewer.radiusSettings.annotationSelectorSettings.resizerSize?8:this.pdfViewer.radiusSettings.annotationSelectorSettings.resizerSize)/2,t.width=(Object(z["L"])(this.pdfViewer.radiusSettings.annotationSelectorSettings.resizerSize)||8===this.pdfViewer.radiusSettings.annotationSelectorSettings.resizerSize?8:this.pdfViewer.radiusSettings.annotationSelectorSettings.resizerSize)*n.scale,t.height=(Object(z["L"])(this.pdfViewer.radiusSettings.annotationSelectorSettings.resizerSize)||8===this.pdfViewer.radiusSettings.annotationSelectorSettings.resizerSize?8:this.pdfViewer.radiusSettings.annotationSelectorSettings.resizerSize)*n.scale):"Stamp"===e&&this.pdfViewer.stampSettings.annotationSelectorSettings?(t.radius=(Object(z["L"])(this.pdfViewer.stampSettings.annotationSelectorSettings.resizerSize)||8===this.pdfViewer.stampSettings.annotationSelectorSettings.resizerSize?8:this.pdfViewer.stampSettings.annotationSelectorSettings.resizerSize)/2,t.width=(Object(z["L"])(this.pdfViewer.stampSettings.annotationSelectorSettings.resizerSize)||8===this.pdfViewer.stampSettings.annotationSelectorSettings.resizerSize?8:this.pdfViewer.stampSettings.annotationSelectorSettings.resizerSize)*n.scale,t.height=(Object(z["L"])(this.pdfViewer.stampSettings.annotationSelectorSettings.resizerSize)||8===this.pdfViewer.stampSettings.annotationSelectorSettings.resizerSize?8:this.pdfViewer.stampSettings.annotationSelectorSettings.resizerSize)*n.scale):"FreeText"===e&&this.pdfViewer.freeTextSettings.annotationSelectorSettings?(t.radius=(Object(z["L"])(this.pdfViewer.freeTextSettings.annotationSelectorSettings.resizerSize)||8===this.pdfViewer.freeTextSettings.annotationSelectorSettings.resizerSize?8:this.pdfViewer.freeTextSettings.annotationSelectorSettings.resizerSize)/2,t.width=(Object(z["L"])(this.pdfViewer.freeTextSettings.annotationSelectorSettings.resizerSize)||8===this.pdfViewer.freeTextSettings.annotationSelectorSettings.resizerSize?8:this.pdfViewer.freeTextSettings.annotationSelectorSettings.resizerSize)*n.scale,t.height=(Object(z["L"])(this.pdfViewer.freeTextSettings.annotationSelectorSettings.resizerSize)||8===this.pdfViewer.freeTextSettings.annotationSelectorSettings.resizerSize?8:this.pdfViewer.freeTextSettings.annotationSelectorSettings.resizerSize)*n.scale):"HandWrittenSignature"!==e&&"SignatureText"!==e&&"SignatureImage"!==e||!this.pdfViewer.handWrittenSignatureSettings.annotationSelectorSettings?"Perimeter"===e&&this.pdfViewer.perimeterSettings.annotationSelectorSettings?(t.radius=(Object(z["L"])(this.pdfViewer.perimeterSettings.annotationSelectorSettings.resizerSize)||8===this.pdfViewer.perimeterSettings.annotationSelectorSettings.resizerSize?8:this.pdfViewer.perimeterSettings.annotationSelectorSettings.resizerSize)/2,t.width=(Object(z["L"])(this.pdfViewer.perimeterSettings.annotationSelectorSettings.resizerSize)||8===this.pdfViewer.perimeterSettings.annotationSelectorSettings.resizerSize?8:this.pdfViewer.perimeterSettings.annotationSelectorSettings.resizerSize)*n.scale,t.height=(Object(z["L"])(this.pdfViewer.perimeterSettings.annotationSelectorSettings.resizerSize)||8===this.pdfViewer.perimeterSettings.annotationSelectorSettings.resizerSize?8:this.pdfViewer.perimeterSettings.annotationSelectorSettings.resizerSize)*n.scale):"Area"===e&&this.pdfViewer.areaSettings.annotationSelectorSettings?(t.radius=(Object(z["L"])(this.pdfViewer.areaSettings.annotationSelectorSettings.resizerSize)||8===this.pdfViewer.areaSettings.annotationSelectorSettings.resizerSize?8:this.pdfViewer.areaSettings.annotationSelectorSettings.resizerSize)/2,t.width=(Object(z["L"])(this.pdfViewer.areaSettings.annotationSelectorSettings.resizerSize)||8===this.pdfViewer.areaSettings.annotationSelectorSettings.resizerSize?8:this.pdfViewer.areaSettings.annotationSelectorSettings.resizerSize)*n.scale,t.height=(Object(z["L"])(this.pdfViewer.areaSettings.annotationSelectorSettings.resizerSize)||8===this.pdfViewer.areaSettings.annotationSelectorSettings.resizerSize?8:this.pdfViewer.areaSettings.annotationSelectorSettings.resizerSize)*n.scale):"Volume"===e&&this.pdfViewer.volumeSettings.annotationSelectorSettings?(t.radius=(Object(z["L"])(this.pdfViewer.volumeSettings.annotationSelectorSettings.resizerSize)||8===this.pdfViewer.volumeSettings.annotationSelectorSettings.resizerSize?8:this.pdfViewer.volumeSettings.annotationSelectorSettings.resizerSize)/2,t.width=(Object(z["L"])(this.pdfViewer.volumeSettings.annotationSelectorSettings.resizerSize)||8===this.pdfViewer.volumeSettings.annotationSelectorSettings.resizerSize?8:this.pdfViewer.volumeSettings.annotationSelectorSettings.resizerSize)*n.scale,t.height=(Object(z["L"])(this.pdfViewer.volumeSettings.annotationSelectorSettings.resizerSize)||8===this.pdfViewer.volumeSettings.annotationSelectorSettings.resizerSize?8:this.pdfViewer.volumeSettings.annotationSelectorSettings.resizerSize)*n.scale):"Ink"===e&&this.pdfViewer.inkAnnotationSettings.annotationSelectorSettings&&(t.radius=(Object(z["L"])(this.pdfViewer.inkAnnotationSettings.annotationSelectorSettings.resizerSize)||8===this.pdfViewer.inkAnnotationSettings.annotationSelectorSettings.resizerSize?8:this.pdfViewer.inkAnnotationSettings.annotationSelectorSettings.resizerSize)/2,t.width=(Object(z["L"])(this.pdfViewer.inkAnnotationSettings.annotationSelectorSettings.resizerSize)||8===this.pdfViewer.inkAnnotationSettings.annotationSelectorSettings.resizerSize?8:this.pdfViewer.inkAnnotationSettings.annotationSelectorSettings.resizerSize)*n.scale,t.height=(Object(z["L"])(this.pdfViewer.inkAnnotationSettings.annotationSelectorSettings.resizerSize)||8===this.pdfViewer.inkAnnotationSettings.annotationSelectorSettings.resizerSize?8:this.pdfViewer.inkAnnotationSettings.annotationSelectorSettings.resizerSize)*n.scale):(t.radius=(Object(z["L"])(this.pdfViewer.handWrittenSignatureSettings.annotationSelectorSettings.resizerSize)||8===this.pdfViewer.handWrittenSignatureSettings.annotationSelectorSettings.resizerSize?8:this.pdfViewer.handWrittenSignatureSettings.annotationSelectorSettings.resizerSize)/2,t.width=(Object(z["L"])(this.pdfViewer.handWrittenSignatureSettings.annotationSelectorSettings.resizerSize)||8===this.pdfViewer.handWrittenSignatureSettings.annotationSelectorSettings.resizerSize?8:this.pdfViewer.handWrittenSignatureSettings.annotationSelectorSettings.resizerSize)*n.scale,t.height=(Object(z["L"])(this.pdfViewer.handWrittenSignatureSettings.annotationSelectorSettings.resizerSize)||8===this.pdfViewer.handWrittenSignatureSettings.annotationSelectorSettings.resizerSize?8:this.pdfViewer.handWrittenSignatureSettings.annotationSelectorSettings.resizerSize)*n.scale)}},e.prototype.getShape=function(e,t){var i;if(t&&"object"!==typeof t&&""!==t){var n=JSON.parse(t);i=Object(z["L"])(n.resizerShape)||"Square"===n.resizerShape?"Square":n.resizerShape}else{n=this.pdfViewer.annotationSelectorSettings;i=Object(z["L"])(n.resizerShape)||"Square"===n.resizerShape?"Square":n.resizerShape,"Line"===e&&this.pdfViewer.lineSettings.annotationSelectorSettings?i=Object(z["L"])(this.pdfViewer.lineSettings.annotationSelectorSettings.resizerShape)||"Square"===this.pdfViewer.lineSettings.annotationSelectorSettings.resizerShape?"Square":this.pdfViewer.lineSettings.annotationSelectorSettings.resizerShape:"LineWidthArrowHead"===e&&this.pdfViewer.arrowSettings.annotationSelectorSettings?i=Object(z["L"])(this.pdfViewer.arrowSettings.annotationSelectorSettings.resizerShape)||"Square"===this.pdfViewer.arrowSettings.annotationSelectorSettings.resizerShape?"Square":this.pdfViewer.arrowSettings.annotationSelectorSettings.resizerShape:"Rectangle"===e&&this.pdfViewer.rectangleSettings.annotationSelectorSettings?i=Object(z["L"])(this.pdfViewer.rectangleSettings.annotationSelectorSettings.resizerShape)||"Square"===this.pdfViewer.rectangleSettings.annotationSelectorSettings.resizerShape?"Square":this.pdfViewer.rectangleSettings.annotationSelectorSettings.resizerShape:"Ellipse"===e&&this.pdfViewer.circleSettings.annotationSelectorSettings?i=Object(z["L"])(this.pdfViewer.circleSettings.annotationSelectorSettings.resizerShape)||"Square"===this.pdfViewer.circleSettings.annotationSelectorSettings.resizerShape?"Square":this.pdfViewer.circleSettings.annotationSelectorSettings.resizerShape:"Polygon"===e&&this.pdfViewer.polygonSettings.annotationSelectorSettings?i=Object(z["L"])(this.pdfViewer.polygonSettings.annotationSelectorSettings.resizerShape)||"Square"===this.pdfViewer.polygonSettings.annotationSelectorSettings.resizerShape?"Square":this.pdfViewer.polygonSettings.annotationSelectorSettings.resizerShape:"Distance"===e&&this.pdfViewer.distanceSettings.annotationSelectorSettings?i=Object(z["L"])(this.pdfViewer.distanceSettings.annotationSelectorSettings.resizerShape)||"Square"===this.pdfViewer.distanceSettings.annotationSelectorSettings.resizerShape?"Square":this.pdfViewer.distanceSettings.annotationSelectorSettings.resizerShape:"Radius"===e&&this.pdfViewer.radiusSettings.annotationSelectorSettings?i=Object(z["L"])(this.pdfViewer.radiusSettings.annotationSelectorSettings.resizerShape)||"Square"===this.pdfViewer.radiusSettings.annotationSelectorSettings.resizerShape?"Square":this.pdfViewer.radiusSettings.annotationSelectorSettings.resizerShape:"Stamp"===e&&this.pdfViewer.stampSettings.annotationSelectorSettings?i=Object(z["L"])(this.pdfViewer.stampSettings.annotationSelectorSettings.resizerShape)||"Square"===this.pdfViewer.stampSettings.annotationSelectorSettings.resizerShape?"Square":this.pdfViewer.stampSettings.annotationSelectorSettings.resizerShape:"FreeText"===e&&this.pdfViewer.freeTextSettings.annotationSelectorSettings?i=Object(z["L"])(this.pdfViewer.freeTextSettings.annotationSelectorSettings.resizerShape)||"Square"===this.pdfViewer.freeTextSettings.annotationSelectorSettings.resizerShape?"Square":this.pdfViewer.freeTextSettings.annotationSelectorSettings.resizerShape:("HandWrittenSignature"===e||"SignatureText"===e||"SignatureImage"===e)&&this.pdfViewer.handWrittenSignatureSettings&&this.pdfViewer.handWrittenSignatureSettings.annotationSelectorSettings?i=Object(z["L"])(this.pdfViewer.handWrittenSignatureSettings.annotationSelectorSettings.resizerShape)||"Square"===this.pdfViewer.handWrittenSignatureSettings.annotationSelectorSettings.resizerShape?"Square":this.pdfViewer.handWrittenSignatureSettings.annotationSelectorSettings.resizerShape:"Perimeter"===e&&this.pdfViewer.perimeterSettings.annotationSelectorSettings?i=Object(z["L"])(this.pdfViewer.perimeterSettings.annotationSelectorSettings.resizerShape)||"Square"===this.pdfViewer.perimeterSettings.annotationSelectorSettings.resizerShape?"Square":this.pdfViewer.perimeterSettings.annotationSelectorSettings.resizerShape:"Area"===e&&this.pdfViewer.areaSettings.annotationSelectorSettings?i=Object(z["L"])(this.pdfViewer.areaSettings.annotationSelectorSettings.resizerShape)||"Square"===this.pdfViewer.areaSettings.annotationSelectorSettings.resizerShape?"Square":this.pdfViewer.areaSettings.annotationSelectorSettings.resizerShape:"Volume"===e&&this.pdfViewer.volumeSettings.annotationSelectorSettings?i=Object(z["L"])(this.pdfViewer.volumeSettings.annotationSelectorSettings.resizerShape)||"Square"===this.pdfViewer.volumeSettings.annotationSelectorSettings.resizerShape?"Square":this.pdfViewer.volumeSettings.annotationSelectorSettings.resizerShape:"Ink"===e&&this.pdfViewer.inkAnnotationSettings.annotationSelectorSettings&&(i=Object(z["L"])(this.pdfViewer.inkAnnotationSettings.annotationSelectorSettings.resizerShape)||"Square"===this.pdfViewer.inkAnnotationSettings.annotationSelectorSettings.resizerShape?"Square":this.pdfViewer.inkAnnotationSettings.annotationSelectorSettings.resizerShape)}return i},e.prototype.getResizerColors=function(e,t,i,n){if(i&&"object"!==typeof i&&""!==i){var o=JSON.parse(i);t.stroke=Object(z["L"])(o.resizerBorderColor)||"black"===o.resizerBorderColor?"black":o.resizerBorderColor,t.fill=Object(z["L"])(o.resizerFillColor)||"#FF4081"===o.resizerFillColor?"#FF4081":o.resizerFillColor}else{o=this.pdfViewer.annotationSelectorSettings;t.stroke=Object(z["L"])(o.resizerBorderColor)||"black"===o.resizerBorderColor?"black":o.resizerBorderColor,t.fill=Object(z["L"])(o.resizerFillColor)||"#FF4081"===o.resizerFillColor?"#FF4081":o.resizerFillColor,"Line"===e&&this.pdfViewer.lineSettings.annotationSelectorSettings?(t.stroke=Object(z["L"])(this.pdfViewer.lineSettings.annotationSelectorSettings.resizerBorderColor)||"black"===this.pdfViewer.lineSettings.annotationSelectorSettings.resizerBorderColor?"black":this.pdfViewer.lineSettings.annotationSelectorSettings.resizerBorderColor,t.fill=Object(z["L"])(this.pdfViewer.lineSettings.annotationSelectorSettings.resizerFillColor)||"#FF4081"===this.pdfViewer.lineSettings.annotationSelectorSettings.resizerFillColor?"#FF4081":this.pdfViewer.lineSettings.annotationSelectorSettings.resizerFillColor):"LineWidthArrowHead"===e&&this.pdfViewer.arrowSettings.annotationSelectorSettings?(t.stroke=Object(z["L"])(this.pdfViewer.arrowSettings.annotationSelectorSettings.resizerBorderColor)||"black"===this.pdfViewer.arrowSettings.annotationSelectorSettings.resizerBorderColor?"black":this.pdfViewer.arrowSettings.annotationSelectorSettings.resizerBorderColor,t.fill=Object(z["L"])(this.pdfViewer.arrowSettings.annotationSelectorSettings.resizerFillColor)||"#FF4081"===this.pdfViewer.arrowSettings.annotationSelectorSettings.resizerFillColor?"#FF4081":this.pdfViewer.arrowSettings.annotationSelectorSettings.resizerFillColor):"Rectangle"===e&&this.pdfViewer.rectangleSettings.annotationSelectorSettings?(t.stroke=Object(z["L"])(this.pdfViewer.rectangleSettings.annotationSelectorSettings.resizerBorderColor)||"black"===this.pdfViewer.rectangleSettings.annotationSelectorSettings.resizerBorderColor?"black":this.pdfViewer.rectangleSettings.annotationSelectorSettings.resizerBorderColor,t.fill=Object(z["L"])(this.pdfViewer.rectangleSettings.annotationSelectorSettings.resizerFillColor)||"#FF4081"===this.pdfViewer.rectangleSettings.annotationSelectorSettings.resizerFillColor?"#FF4081":this.pdfViewer.rectangleSettings.annotationSelectorSettings.resizerFillColor):"Ellipse"===e&&this.pdfViewer.circleSettings.annotationSelectorSettings?(t.stroke=Object(z["L"])(this.pdfViewer.circleSettings.annotationSelectorSettings.resizerBorderColor)||"black"===this.pdfViewer.circleSettings.annotationSelectorSettings.resizerBorderColor?"black":this.pdfViewer.circleSettings.annotationSelectorSettings.resizerBorderColor,t.fill=Object(z["L"])(this.pdfViewer.circleSettings.annotationSelectorSettings.resizerFillColor)||"#FF4081"===this.pdfViewer.circleSettings.annotationSelectorSettings.resizerFillColor?"#FF4081":this.pdfViewer.circleSettings.annotationSelectorSettings.resizerFillColor):"Distance"===e&&this.pdfViewer.distanceSettings.annotationSelectorSettings?(t.stroke=Object(z["L"])(this.pdfViewer.distanceSettings.annotationSelectorSettings.resizerBorderColor)||"black"===this.pdfViewer.distanceSettings.annotationSelectorSettings.resizerBorderColor?"black":this.pdfViewer.distanceSettings.annotationSelectorSettings.resizerBorderColor,t.fill=Object(z["L"])(this.pdfViewer.distanceSettings.annotationSelectorSettings.resizerFillColor)||"#FF4081"===this.pdfViewer.distanceSettings.annotationSelectorSettings.resizerFillColor?"#FF4081":this.pdfViewer.distanceSettings.annotationSelectorSettings.resizerFillColor):"Polygon"===e&&this.pdfViewer.polygonSettings.annotationSelectorSettings?(t.stroke=Object(z["L"])(this.pdfViewer.polygonSettings.annotationSelectorSettings.resizerBorderColor)||"black"===this.pdfViewer.polygonSettings.annotationSelectorSettings.resizerBorderColor?"black":this.pdfViewer.polygonSettings.annotationSelectorSettings.resizerBorderColor,t.fill=Object(z["L"])(this.pdfViewer.polygonSettings.annotationSelectorSettings.resizerFillColor)||"#FF4081"===this.pdfViewer.polygonSettings.annotationSelectorSettings.resizerFillColor?"#FF4081":this.pdfViewer.polygonSettings.annotationSelectorSettings.resizerFillColor):"Radius"===e&&this.pdfViewer.radiusSettings.annotationSelectorSettings?(t.stroke=Object(z["L"])(this.pdfViewer.radiusSettings.annotationSelectorSettings.resizerBorderColor)||"black"===this.pdfViewer.radiusSettings.annotationSelectorSettings.resizerBorderColor?"black":this.pdfViewer.radiusSettings.annotationSelectorSettings.resizerBorderColor,t.fill=Object(z["L"])(this.pdfViewer.radiusSettings.annotationSelectorSettings.resizerFillColor)||"#FF4081"===this.pdfViewer.radiusSettings.annotationSelectorSettings.resizerFillColor?"#FF4081":this.pdfViewer.radiusSettings.annotationSelectorSettings.resizerFillColor):"Stamp"===e&&this.pdfViewer.stampSettings.annotationSelectorSettings?(t.stroke=Object(z["L"])(this.pdfViewer.stampSettings.annotationSelectorSettings.resizerBorderColor)||"black"===this.pdfViewer.stampSettings.annotationSelectorSettings.resizerBorderColor?"black":this.pdfViewer.stampSettings.annotationSelectorSettings.resizerBorderColor,t.fill=Object(z["L"])(this.pdfViewer.stampSettings.annotationSelectorSettings.resizerFillColor)||"#FF4081"===this.pdfViewer.stampSettings.annotationSelectorSettings.resizerFillColor?"#FF4081":this.pdfViewer.stampSettings.annotationSelectorSettings.resizerFillColor):"FreeText"===e&&this.pdfViewer.freeTextSettings.annotationSelectorSettings?(t.stroke=Object(z["L"])(this.pdfViewer.freeTextSettings.annotationSelectorSettings.resizerBorderColor)||"black"===this.pdfViewer.freeTextSettings.annotationSelectorSettings.resizerBorderColor?"black":this.pdfViewer.freeTextSettings.annotationSelectorSettings.resizerBorderColor,t.fill=Object(z["L"])(this.pdfViewer.freeTextSettings.annotationSelectorSettings.resizerFillColor)||"#FF4081"===this.pdfViewer.freeTextSettings.annotationSelectorSettings.resizerFillColor?"#FF4081":this.pdfViewer.freeTextSettings.annotationSelectorSettings.resizerFillColor):"HandWrittenSignature"!==e&&"SignatureText"!==e&&"SignatureImage"!==e||!this.pdfViewer.handWrittenSignatureSettings.annotationSelectorSettings?"Perimeter"===e&&this.pdfViewer.perimeterSettings.annotationSelectorSettings?(t.stroke=Object(z["L"])(this.pdfViewer.perimeterSettings.annotationSelectorSettings.resizerBorderColor)||"black"===this.pdfViewer.perimeterSettings.annotationSelectorSettings.resizerBorderColor?"black":this.pdfViewer.perimeterSettings.annotationSelectorSettings.resizerBorderColor,t.fill=Object(z["L"])(this.pdfViewer.perimeterSettings.annotationSelectorSettings.resizerFillColor)||"#FF4081"===this.pdfViewer.perimeterSettings.annotationSelectorSettings.resizerFillColor?"#FF4081":this.pdfViewer.perimeterSettings.annotationSelectorSettings.resizerFillColor):"Area"===e&&this.pdfViewer.areaSettings.annotationSelectorSettings?(t.stroke=Object(z["L"])(this.pdfViewer.areaSettings.annotationSelectorSettings.resizerBorderColor)||"black"===this.pdfViewer.areaSettings.annotationSelectorSettings.resizerBorderColor?"black":this.pdfViewer.areaSettings.annotationSelectorSettings.resizerBorderColor,t.fill=Object(z["L"])(this.pdfViewer.areaSettings.annotationSelectorSettings.resizerFillColor)||"#FF4081"===this.pdfViewer.areaSettings.annotationSelectorSettings.resizerFillColor?"#FF4081":this.pdfViewer.areaSettings.annotationSelectorSettings.resizerFillColor):"Volume"===e&&this.pdfViewer.volumeSettings.annotationSelectorSettings?(t.stroke=Object(z["L"])(this.pdfViewer.volumeSettings.annotationSelectorSettings.resizerBorderColor)||"black"===this.pdfViewer.volumeSettings.annotationSelectorSettings.resizerBorderColor?"black":this.pdfViewer.volumeSettings.annotationSelectorSettings.resizerBorderColor,t.fill=Object(z["L"])(this.pdfViewer.volumeSettings.annotationSelectorSettings.resizerFillColor)||"#FF4081"===this.pdfViewer.volumeSettings.annotationSelectorSettings.resizerFillColor?"#FF4081":this.pdfViewer.volumeSettings.annotationSelectorSettings.resizerFillColor):"Ink"===e&&this.pdfViewer.inkAnnotationSettings.annotationSelectorSettings&&(t.stroke=Object(z["L"])(this.pdfViewer.inkAnnotationSettings.annotationSelectorSettings.resizerBorderColor)||"black"===this.pdfViewer.inkAnnotationSettings.annotationSelectorSettings.resizerBorderColor?"black":this.pdfViewer.inkAnnotationSettings.annotationSelectorSettings.resizerBorderColor,t.fill=Object(z["L"])(this.pdfViewer.inkAnnotationSettings.annotationSelectorSettings.resizerFillColor)||"#FF4081"===this.pdfViewer.inkAnnotationSettings.annotationSelectorSettings.resizerFillColor?"#FF4081":this.pdfViewer.inkAnnotationSettings.annotationSelectorSettings.resizerFillColor):(t.stroke=Object(z["L"])(this.pdfViewer.handWrittenSignatureSettings.annotationSelectorSettings.resizerBorderColor)||"black"===this.pdfViewer.handWrittenSignatureSettings.annotationSelectorSettings.resizerBorderColor?"black":this.pdfViewer.handWrittenSignatureSettings.annotationSelectorSettings.resizerBorderColor,t.fill=Object(z["L"])(this.pdfViewer.handWrittenSignatureSettings.annotationSelectorSettings.resizerFillColor)||"#FF4081"===this.pdfViewer.handWrittenSignatureSettings.annotationSelectorSettings.resizerFillColor?"#FF4081":this.pdfViewer.handWrittenSignatureSettings.annotationSelectorSettings.resizerFillColor)}},e.prototype.renderRotateThumb=function(e,t,i,n,o){new g["a"];var r,s=e.offsetY-e.actualSize.height*e.pivot.y,d=e.offsetX-e.actualSize.width*e.pivot.x,l=d+e.pivot.x*e.actualSize.width,h=s;if(l=(l+i.tx)*i.scale,h=(h+i.ty)*i.scale,r={x:l,y:h-25},0!==e.rotateAngle||0!==e.parentTransform){var p=Object(a["a"])();Object(a["b"])(p,e.rotateAngle+e.parentTransform,(i.tx+e.offsetX)*i.scale,(i.ty+e.offsetY)*i.scale),r=Object(a["d"])(p,r)}var f=Object(v["c"])(e);f.stroke="black",f.strokeWidth=1,f.opacity=1,f.fill="#FF4081",f.centerX=r.x,f.centerY=r.y,f.radius=4,f.angle=0,f.visible=!0,f.class="e-diagram-rotate-handle",f.id="rotateThumb",this.svgRenderer.drawCircle(t,f,c["c"].Rotate,{"aria-label":"Thumb to rotate the selected object"})},e.prototype.renderResizeHandle=function(e,t,i,n,o,r,a,s,d,l,h,p){var g=e.offsetX-e.actualSize.width*e.pivot.x,f=e.offsetY-e.actualSize.height*e.pivot.y,S=e.actualSize.height,u=e.actualSize.width,m={scale:n,tx:0,ty:0};s&&(this.renderPivotLine(e,t,m),this.renderRotateThumb(e,t,m)),h&&(s=!0),this.renderBorder(e,t,p,m,r,a,!0,d);var w=e.actualSize.width*n,y=e.actualSize.height*n,b=this.pdfViewer.selectedItems.annotations.length>0?this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType:this.pdfViewer.selectedItems.formFields[0].formFieldAnnotationType,v=!1;if(!this.pdfViewer.formDesignerModule){var x=this.pdfViewer.selectedItems.annotations[0],z=this.pdfViewer.annotationModule.updateAnnotationAllowedInteractions(x),O=this.pdfViewer.annotationModule.checkIsLockSettings(x);(O||x.annotationSettings.isLock)&&this.getAllowedInteractions(z)&&(v=!0)}var j=this.getResizerLocation(b,p);(j<1||j>3)&&(j=3);var V=!1;!this.pdfViewer.selectedItems.annotations[0]||"Ellipse"!==this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType&&"Radius"!==this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType&&"Rectangle"!==this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType&&"Ink"!==this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType||(V=!0),this.pdfViewer.viewerBase.checkSignatureFormField(e.id)||a||d||l||v||((s||V&&w>=40&&y>=40&&(1===j||3===j))&&(this.renderCircularHandle("resizeNorthWest",e,g,f,t,!0,i&c["c"].ResizeNorthWest,m,void 0,o,{"aria-label":"Thumb to resize the selected object on top left side direction"},void 0,"e-pv-diagram-resize-handle e-northwest",p),this.renderCircularHandle("resizeNorthEast",e,g+u,f,t,!0,i&c["c"].ResizeNorthEast,m,void 0,o,{"aria-label":"Thumb to resize the selected object on top right side direction"},void 0,"e-pv-diagram-resize-handle e-northeast",p),this.renderCircularHandle("resizeSouthWest",e,g,f+S,t,!0,i&c["c"].ResizeSouthWest,m,void 0,o,{"aria-label":"Thumb to resize the selected object on bottom left side direction"},void 0,"e-pv-diagram-resize-handle e-southwest",p),this.renderCircularHandle("resizeSouthEast",e,g+u,f+S,t,!0,i&c["c"].ResizeSouthEast,m,void 0,o,{"aria-label":"Thumb to resize the selected object on bottom right side direction"},void 0,"e-pv-diagram-resize-handle e-southeast",p)),(s||V)&&(!V||2!==j&&3!==j&&(w>=40&&y>=40||1!==j))||(this.renderCircularHandle("resizeNorth",e,g+u/2,f,t,!0,i&c["c"].ResizeNorth,m,void 0,o,{"aria-label":"Thumb to resize the selected object on top side direction"},void 0,"e-pv-diagram-resize-handle e-north",p),this.renderCircularHandle("resizeSouth",e,g+u/2,f+S,t,!0,i&c["c"].ResizeSouth,m,void 0,o,{"aria-label":"Thumb to resize the selected object on bottom side direction"},void 0,"e-pv-diagram-resize-handle e-south",p),this.renderCircularHandle("resizeWest",e,g,f+S/2,t,!0,i&c["c"].ResizeWest,m,void 0,o,{"aria-label":"Thumb to resize the selected object on left side direction"},void 0,"e-pv-diagram-resize-handle e-west",p),this.renderCircularHandle("resizeEast",e,g+u,f+S/2,t,!0,i&c["c"].ResizeEast,m,void 0,o,{"aria-label":"Thumb to resize the selected object on right side direction"},void 0,"e-pv-diagram-resize-handle e-east",p))),"Textbox"!==b&&"Checkbox"!==b&&"RadioButton"!==b&&"SignatureField"!==b&&"InitialField"!==b&&"DropdownList"!==b&&"ListBox"!==b&&"PasswordField"!==b||(this.renderCircularHandle("resizeNorth",e,g+u/2,f,t,!0,i&c["c"].ResizeNorth,m,void 0,o,{"aria-label":"Thumb to resize the selected object on top side direction"},void 0,"e-pv-diagram-resize-handle e-north",p),this.renderCircularHandle("resizeSouth",e,g+u/2,f+S,t,!0,i&c["c"].ResizeSouth,m,void 0,o,{"aria-label":"Thumb to resize the selected object on bottom side direction"},void 0,"e-pv-diagram-resize-handle e-south",p),this.renderCircularHandle("resizeWest",e,g,f+S/2,t,!0,i&c["c"].ResizeWest,m,void 0,o,{"aria-label":"Thumb to resize the selected object on left side direction"},void 0,"e-pv-diagram-resize-handle e-west",p),this.renderCircularHandle("resizeEast",e,g+u,f+S/2,t,!0,i&c["c"].ResizeEast,m,void 0,o,{"aria-label":"Thumb to resize the selected object on right side direction"},void 0,"e-pv-diagram-resize-handle e-east",p))},e.prototype.getAllowedInteractions=function(e){if(e&&e.length>0)for(var t=0;t<e.length;t++)if("None"!==e[0]&&"Resize"===e[t])return!1;return!0},e.prototype.getResizerLocation=function(e,t){var i;if(t&&"object"!==typeof t&&""!==t){var n=JSON.parse(t);i=Object(z["L"])(n.resizerLocation)||3===n.resizerLocation?3:n.resizerLocation}else{n=this.pdfViewer.annotationSelectorSettings;i=Object(z["L"])(n.resizerLocation)||3===n.resizerLocation?3:n.resizerLocation,"Line"===e&&this.pdfViewer.lineSettings.annotationSelectorSettings?i=Object(z["L"])(this.pdfViewer.lineSettings.annotationSelectorSettings.resizerLocation)||3===this.pdfViewer.lineSettings.annotationSelectorSettings.resizerLocation?3:this.pdfViewer.lineSettings.annotationSelectorSettings.resizerLocation:"LineWidthArrowHead"===e&&this.pdfViewer.arrowSettings.annotationSelectorSettings?i=Object(z["L"])(this.pdfViewer.arrowSettings.annotationSelectorSettings.resizerLocation)||3===this.pdfViewer.arrowSettings.annotationSelectorSettings.resizerLocation?3:this.pdfViewer.arrowSettings.annotationSelectorSettings.resizerLocation:"Rectangle"===e&&this.pdfViewer.rectangleSettings.annotationSelectorSettings?i=Object(z["L"])(this.pdfViewer.rectangleSettings.annotationSelectorSettings.resizerLocation)||3===this.pdfViewer.rectangleSettings.annotationSelectorSettings.resizerLocation?3:this.pdfViewer.rectangleSettings.annotationSelectorSettings.resizerLocation:"Ellipse"===e&&this.pdfViewer.circleSettings.annotationSelectorSettings?i=Object(z["L"])(this.pdfViewer.circleSettings.annotationSelectorSettings.resizerLocation)||3===this.pdfViewer.circleSettings.annotationSelectorSettings.resizerLocation?3:this.pdfViewer.circleSettings.annotationSelectorSettings.resizerLocation:"Polygon"===e&&this.pdfViewer.polygonSettings.annotationSelectorSettings?i=Object(z["L"])(this.pdfViewer.polygonSettings.annotationSelectorSettings.resizerLocation)||3===this.pdfViewer.polygonSettings.annotationSelectorSettings.resizerLocation?3:this.pdfViewer.polygonSettings.annotationSelectorSettings.resizerLocation:"Distance"===e?i=Object(z["L"])(this.pdfViewer.distanceSettings.annotationSelectorSettings.resizerLocation)||3===this.pdfViewer.distanceSettings.annotationSelectorSettings.resizerLocation?3:this.pdfViewer.distanceSettings.annotationSelectorSettings.resizerLocation:"Radius"===e&&this.pdfViewer.radiusSettings.annotationSelectorSettings?i=Object(z["L"])(this.pdfViewer.radiusSettings.annotationSelectorSettings.resizerLocation)||3===this.pdfViewer.radiusSettings.annotationSelectorSettings.resizerLocation?3:this.pdfViewer.radiusSettings.annotationSelectorSettings.resizerLocation:"Stamp"===e&&this.pdfViewer.stampSettings.annotationSelectorSettings?i=Object(z["L"])(this.pdfViewer.stampSettings.annotationSelectorSettings.resizerLocation)||3===this.pdfViewer.stampSettings.annotationSelectorSettings.resizerLocation?3:this.pdfViewer.stampSettings.annotationSelectorSettings.resizerLocation:"FreeText"===e&&this.pdfViewer.freeTextSettings.annotationSelectorSettings?i=Object(z["L"])(this.pdfViewer.freeTextSettings.annotationSelectorSettings.resizerLocation)||3===this.pdfViewer.freeTextSettings.annotationSelectorSettings.resizerLocation?3:this.pdfViewer.freeTextSettings.annotationSelectorSettings.resizerLocation:"HandWrittenSignature"!==e&&"SignatureText"!==e&&"SignatureImage"!==e||!this.pdfViewer.handWrittenSignatureSettings.annotationSelectorSettings?"Ink"===e&&this.pdfViewer.inkAnnotationSettings.annotationSelectorSettings&&(i=Object(z["L"])(this.pdfViewer.inkAnnotationSettings.annotationSelectorSettings.resizerLocation)||3===this.pdfViewer.inkAnnotationSettings.annotationSelectorSettings.resizerLocation?3:this.pdfViewer.inkAnnotationSettings.annotationSelectorSettings.resizerLocation):i=Object(z["L"])(this.pdfViewer.handWrittenSignatureSettings.annotationSelectorSettings.resizerLocation)||3===this.pdfViewer.handWrittenSignatureSettings.annotationSelectorSettings.resizerLocation?3:this.pdfViewer.handWrittenSignatureSettings.annotationSelectorSettings.resizerLocation}return i},e.prototype.renderPivotLine=function(e,t,i,n,o){var r=e,a="2,3",s=!0;o&&(s=!1);var d=Object(v["c"])(r,i);d.fill="None",d.stroke="black",d.strokeWidth=1,d.dashArray=a,d.visible=s;var l=i.scale;d.x*=l,d.y*=l,d.width*=l,d.height*=l,d.id="pivotLine",d.class="e-diagram-pivot-line";var c={x:r.actualSize.width*r.pivot.x*l,y:-20},h={x:r.actualSize.width*r.pivot.x*l,y:0};d.startPoint=c,d.endPoint=h,this.svgRenderer.drawLine(t,d)},e.prototype.renderEndPointHandle=function(e,t,i,n,o,r,d,l){n=n||{tx:0,ty:0,scale:1};var h,p=e.sourcePoint,g=e.targetPoint,f=e.wrapper;for(h=0;h<e.vertexPoints.length;h++){var S=e.vertexPoints[h];this.renderCircularHandle("segementThumb_"+(h+1),f,S.x,S.y,t,!0,i&c["c"].ConnectorSource,n,o,null,null,h,null,l)}var u=0;if("Distance"===e.shapeAnnotationType)for(h=0;h<e.wrapper.children.length;h++){S=e.wrapper.children[h];var m=void 0,w=s["a"].findAngle(e.sourcePoint,e.targetPoint);if(S.id.indexOf("leader")>-1){var y=e.wrapper.children[0].bounds.center;0===u?(m={x:e.sourcePoint.x,y:e.sourcePoint.y-e.leaderHeight},y=p):(m={x:e.targetPoint.x,y:e.targetPoint.y-e.leaderHeight},y=g);var b=Object(a["a"])();Object(a["b"])(b,w,y.x,y.y);var v=Object(a["d"])(b,{x:m.x,y:m.y});this.renderCircularHandle("leaderThumb_"+(h+1),f,v.x,v.y,t,!0,i&c["c"].ConnectorSource,n,o,null,null,h,null,l),u++}}},e.prototype.initSelectorWrapper=function(){var e=this.pdfViewer.selectedItems;e.init(this)},e.prototype.select=function(e,t,i,n){for(var o=this.pdfViewer.selectedItems,r=0;r<e.length;r++){var a=this.pdfViewer.nameTable[e[r]];if(a.formFieldAnnotationType&&this.pdfViewer.designerMode)o.formFields.push(a),this.initSelectorWrapper(),o.wrapper.children.push(a.wrapper),this.renderSelector(a.pageIndex,t,a,!0);else if(a&&!a.formFieldAnnotationType&&!(a instanceof y["a"])&&a.wrapper.visible&&this.pdfViewer.annotationModule){var s=void 0;a.annotationSettings?(s=a.annotationSettings,s.isLock=JSON.parse(s.isLock)):a.formFieldAnnotationType||(s=this.pdfViewer.annotationModule.findAnnotationSettings(a,!0),a.annotationSettings=s);var d=!a.formFieldAnnotationType&&s.isLock;s&&s.isLock&&this.pdfViewer.annotationModule.checkAllowedInteractions("Select",a)&&(d=!1),d||(o.annotations.push(a),this.initSelectorWrapper(),o.wrapper.rotateAngle=o.rotateAngle=0,o.wrapper.children.push(a.wrapper),n||this.renderSelector(a.pageIndex,t,a,!0))}}},e.prototype.dragSelectedObjects=function(e,t,i,n,o){var r=this.pdfViewer.selectedItems;return this.drag(r,e,t,n,o),!0},e.prototype.drag=function(e,t,i,n,o){if(e instanceof y["a"]){if(e.annotations.length)for(var r=0,a=e.annotations;r<a.length;r++){var s=a[r];this.drag(s,t,i,n,o),this.renderSelector(s.pageIndex,n,o)}else if(e.formFields.length)for(var d=0,l=e.formFields;d<l.length;d++){s=l[d];this.drag(s,t,i,n,o),this.renderSelector(s.pageIndex,n,o)}}else this.dragAnnotation(e,t,i)},e.prototype.dragAnnotation=function(e,t,i){e.wrapper.offsetX,e.wrapper.offsetY;if(e.wrapper.offsetX+=t,e.wrapper.offsetY+=i,Object(v["e"])(e)||"Polygon"===e.shapeAnnotationType){if(e.wrapper.children.length)for(var n=e.wrapper.children,o=0;o<n.length;o++)n[o].offsetX+=t,n[o].offsetY+=i;this.dragControlPoint(e,t,i,!0)}this.nodePropertyChange(e,{bounds:{x:e.wrapper.offsetX,y:e.wrapper.offsetY}}),e.wrapper.measureChildren=!1;var r=document.getElementById(this.pdfViewer.element.id+"_annotationCanvas_"+e.pageIndex);this.pdfViewer.renderDrawing(r,e.pageIndex)},e.prototype.dragControlPoint=function(e,t,i,n,o){for(var r=this.pdfViewer.nameTable[e.id],a=0;a<r.vertexPoints.length;a++)r.vertexPoints[a].x+=t,r.vertexPoints[a].y+=i;return n||this.updateEndPoint(r),!0},e.prototype.updateEndPoint=function(e){this.nodePropertyChange(e,{vertexPoints:e.vertexPoints}),this.renderSelector(e.pageIndex)},e.prototype.nodePropertyChange=function(e,t){var i;e.wrapper.outerBounds,e.wrapper.bounds;if(t.bounds&&(void 0!==t.bounds.width&&(e.bounds.width=e.wrapper.width=t.bounds.width),void 0!==t.bounds.height&&(e.bounds.height=e.wrapper.height=t.bounds.height),void 0!==t.bounds.x&&(e.bounds.x=t.bounds.x-.5*e.bounds.width,e.wrapper.offsetX=t.bounds.x,!0,!0),void 0!==t.bounds.y&&(e.bounds.y=t.bounds.y-.5*e.bounds.height,e.wrapper.offsetY=t.bounds.y,!0,!0),void 0!==t.leaderHeight&&(e.leaderHeight=t.leaderHeight,this.updateConnector(e,e.vertexPoints)),e.wrapper.children.length))for(var n=e.wrapper.children,o=0;o<n.length;o++)if(n[o].id){var r=n[o].id.split("_");if(r.length&&(r.indexOf("perimeter")>-1||r.indexOf("radius")>-1))this.setNodePosition(n[o],e);else if(r.length&&r.indexOf("srcDec")>-1)n[o].offsetX=e.vertexPoints[0].x,n[o].offsetY=e.vertexPoints[0].y;else if(r.length&&r.indexOf("tarDec")>-1)n[o].offsetX=e.vertexPoints[e.vertexPoints.length-1].x,n[o].offsetY=e.vertexPoints[e.vertexPoints.length-1].y;else if(r.length&&r.indexOf("stamp")>-1){var a=0;if(void 0!==e.wrapper.width&&void 0!==e.wrapper.height&&(a=20,2.9),e.isDynamicStamp){n[o].width=e.bounds.width-a,n[o].height=e.bounds.height/2-a;var s=n[1],d=this.pdfViewer.stampSettings?this.pdfViewer.stampSettings:this.pdfViewer.annotationSettings;d&&(d.maxHeight||d.maxWidth)&&e.bounds.height>60?s.style.fontSize=0!=a?e.bounds.width/a:e.wrapper.bounds.width/20:s.style.fontSize=0!=a?this.fontSizeCalculation(e,s,e.bounds.width-20):this.fontSizeCalculation(e,s,e.wrapper.bounds.width-20),0!==a&&(s.margin.bottom=-n[o].height/2)}else n[o].width=e.bounds.width-a,n[o].height=e.bounds.height-a;n[o].offsetX=e.wrapper.offsetX,n[o].offsetY=e.wrapper.offsetX,n[o].isDirt=!0}}if(void 0!==t.sourceDecoraterShapes&&(e.sourceDecoraterShapes=t.sourceDecoraterShapes,this.updateConnector(e,e.vertexPoints)),void 0!==t.isReadonly&&"FreeText"===e.shapeAnnotationType&&(e.isReadonly=t.isReadonly),void 0!==t.taregetDecoraterShapes&&(e.taregetDecoraterShapes=t.taregetDecoraterShapes,!0,this.updateConnector(e,e.vertexPoints)),void 0!==t.fillColor){if(e.fillColor=t.fillColor,e.wrapper.children[0].style.fill=t.fillColor,(e.enableShapeLabel||e.measureType)&&e.wrapper&&e.wrapper.children){n=e.wrapper.children;for(var l=0;l<n.length;l++)n[l].textNodes&&(e.enableShapeLabel&&(e.labelFillColor=t.fillColor,n[l].style.fill=t.fillColor),e.measureType&&(n[l].style.fill=t.fillColor))}!0}if(e.enableShapeLabel&&void 0!==t.labelFillColor&&e.enableShapeLabel&&e.wrapper&&e.wrapper.children){n=e.wrapper.children;for(var c=0;c<n.length;c++)n[c].textNodes&&(e.labelFillColor=t.labelFillColor,n[c].style.fill=t.labelFillColor)}if(void 0!==t.opacity){if("Stamp"===e.shapeAnnotationType||"FreeText"===e.shapeAnnotationType?(e.wrapper.children[1].style.opacity=t.opacity,e.wrapper.children[2]&&(e.wrapper.children[2].style.opacity=t.opacity)):("StickyNotes"===e.shapeAnnotationType&&(this.pdfViewer.nameTable[e.annotName].wrapper.children[0].style.opacity=t.opacity),e.opacity=t.opacity),e.wrapper.children[0].style.opacity=t.opacity,e.enableShapeLabel&&e.wrapper&&e.wrapper.children){n=e.wrapper.children;for(var h=0;h<n.length;h++)n[h].textNodes&&(n[h].style.opacity=t.labelOpacity)}!0,!0}if(e.enableShapeLabel&&void 0!==t.labelOpacity&&e.enableShapeLabel&&e.wrapper&&e.wrapper.children){n=e.wrapper.children;for(var p=0;p<n.length;p++)n[p].textNodes&&(n[p].style.opacity=t.labelOpacity)}if(void 0!==t.rotateAngle&&(e.rotateAngle=t.rotateAngle,e.wrapper.rotateAngle=t.rotateAngle,!0,!0),void 0!==t.strokeColor&&(e.strokeColor=t.strokeColor,e.wrapper.children[0].style.strokeColor=t.strokeColor,!0,!0),void 0!==t.fontColor){if(e.fontColor=t.fontColor,"FreeText"===e.shapeAnnotationType&&e.wrapper&&e.wrapper.children&&e.wrapper.children.length){n=e.wrapper.children;n[1].style.color=t.fontColor,"Justify"===e.textAlign?n[1].horizontalAlignment="Center":n[1].horizontalAlignment="Auto"}if(e.enableShapeLabel&&e.wrapper&&e.wrapper.children){n=e.wrapper.children;for(var u=0;u<n.length;u++)n[u].textNodes&&(n[u].style.color=t.fontColor)}!0,!0}if(void 0!==t.fontFamily){if(e.fontFamily=t.fontFamily,"FreeText"===e.shapeAnnotationType&&e.wrapper&&e.wrapper.children&&e.wrapper.children.length){n=e.wrapper.children;n[1].style.fontFamily=t.fontFamily}if(e.enableShapeLabel&&e.wrapper&&e.wrapper.children){n=e.wrapper.children;for(var m=0;m<n.length;m++)n[m].textNodes&&(n[m].style.fontFamily=t.fontFamily)}!0,!0}if(void 0!==t.fontSize){if(e.fontSize=t.fontSize,("FreeText"===e.shapeAnnotationType||"SignatureText"===e.shapeAnnotationType)&&e.wrapper&&e.wrapper.children&&e.wrapper.children.length){n=e.wrapper.children;n[1].style.fontSize=t.fontSize,"SignatureText"===e.shapeAnnotationType&&(e.wrapper.children[1].bounds.width=e.bounds.width,e.wrapper.children[1].desiredSize.width=e.bounds.width,e.wrapper.children[1].actualSize.width=e.bounds.width,n[1].horizontalAlignment="Center",n[1].verticalAlignment="Center",n[1].setOffsetWithRespectToBounds(0,0,"Absolute"))}if(e.enableShapeLabel&&e.wrapper&&e.wrapper.children){n=e.wrapper.children;for(var w=0;w<n.length;w++)n[w].textNodes&&(n[w].style.fontSize=t.fontSize)}!0,!0}if(void 0!==t.font){if("FreeText"===e.shapeAnnotationType&&e.wrapper&&e.wrapper.children&&e.wrapper.children.length){n=e.wrapper.children;void 0!==t.font.isBold&&(n[1].style.bold=t.font.isBold,e.font.isBold=t.font.isBold),void 0!==t.font.isItalic&&(n[1].style.italic=t.font.isItalic,e.font.isItalic=t.font.isItalic),void 0!==t.font.isUnderline&&(t.font.isUnderline&&(e.font.isStrikeout=!1),!0===t.font.isUnderline?n[1].style.textDecoration="Underline":t.font.isStrikeout||(n[1].style.textDecoration="None"),e.font.isUnderline=t.font.isUnderline),void 0!==t.font.isStrikeout&&(t.font.isStrikeout&&(e.font.isUnderline=!1),!0===t.font.isStrikeout?n[1].style.textDecoration="LineThrough":t.font.isUnderline||(n[1].style.textDecoration="None"),e.font.isStrikeout=t.font.isStrikeout)}!0,!0}if(void 0!==t.textAlign){if(e.textAlign=t.textAlign,"FreeText"===e.shapeAnnotationType&&e.wrapper&&e.wrapper.children&&e.wrapper.children.length){n=e.wrapper.children;n[1].style.textAlign=t.textAlign,1===n[1].childNodes.length?"Justify"===e.textAlign?(n[1].horizontalAlignment="Left",n[1].setOffsetWithRespectToBounds(0,0,null)):"Right"===e.textAlign?(n[1].horizontalAlignment="Right",n[1].setOffsetWithRespectToBounds(.97,0,null)):"Left"===e.textAlign?(n[1].horizontalAlignment="Left",n[1].setOffsetWithRespectToBounds(0,0,null)):"Center"===e.textAlign&&(n[1].horizontalAlignment="Center",n[1].setOffsetWithRespectToBounds(.46,0,null)):n[1].childNodes.length>1&&"Justify"===e.textAlign?n[1].horizontalAlignment="Center":n[1].horizontalAlignment="Auto"}!0,!0}if(void 0!==t.thickness&&(e.thickness=t.thickness,e.wrapper.children[0].style.strokeWidth=t.thickness,!0,!0),void 0!==t.borderDashArray&&(e.borderDashArray=t.borderDashArray,e.wrapper.children[0].style.strokeDashArray=t.borderDashArray),void 0!==t.borderStyle&&(e.borderStyle=t.borderStyle),void 0!==t.author&&(e.author=t.author),void 0!==t.modifiedDate&&(e.modifiedDate=t.modifiedDate),void 0!==t.subject&&(e.subject=t.subject),void 0!==t.vertexPoints&&(e.vertexPoints=t.vertexPoints,this.pdfViewer.nameTable[e.id].vertexPoints=t.vertexPoints,this.updateConnector(e,t.vertexPoints)),void 0!==t.leaderHeight&&"Polygon"!==e.shapeAnnotationType&&(e.leaderHeight=t.leaderHeight,this.updateConnector(e,e.vertexPoints)),void 0!==t.notes&&(e.notes=t.notes),void 0!==t.annotName&&(e.annotName=t.annotName),"Distance"===e.shapeAnnotationType){for(i=0;i<e.wrapper.children.length;i++){var y=e.wrapper.children[i],b=Object(x["b"])(e);y.id.indexOf("leader1")>-1&&this.setLineDistance(e,b,y,!1),y.id.indexOf("leader2")>-1&&this.setLineDistance(e,b,y,!0)}this.updateConnector(e,e.vertexPoints)}if("Polygon"===e.shapeAnnotationType&&t.vertexPoints){e.data=Object(x["d"])(e.vertexPoints);var z=e.wrapper.children[0];z.data=e.data,z.canMeasurePath=!0}if(Object(v["e"])(e))for(var O=0;O<e.wrapper.children.length;O++){var j=e.wrapper.children[O];j.textNodes||Object(v["f"])(e,e.wrapper.children[O]),!0===e.enableShapeLabel?(e.wrapper.children[O]instanceof S["a"]&&(e.wrapper.children[O].style.fill=e.labelFillColor),e.wrapper.children[O]instanceof g["a"]&&"Perimeter"===e.measureType&&(e.wrapper.children[O].style.fill="transparent")):(e.wrapper.children[O]instanceof g["a"]&&"Perimeter"===e.measureType||e.wrapper.children[O]instanceof S["a"])&&(e.wrapper.children[O].style.fill="transparent")}if(e&&("FreeText"===e.shapeAnnotationType||!0===e.enableShapeLabel)&&e.wrapper&&e.wrapper.children&&e.wrapper.children.length){n=e.wrapper.children;for(var V=0;V<n.length;V++)n[V].textNodes&&("FreeText"===e.shapeAnnotationType?(t.dynamicText?(n[V].content=t.dynamicText,e.dynamicText=t.dynamicText):n[V].content=e.dynamicText,n[V].width=e.bounds.width-8):(!0===e.enableShapeLabel&&e.measureType||!0===e.enableShapeLabel)&&(t.labelContent?(n[V].content=t.labelContent,e.labelContent=t.labelContent):n[V].content=e.labelContent,e.notes=n[V].content),n[V].isDirt=!0)}if(e.wrapper.measure(new f["a"](e.wrapper.bounds.width,e.wrapper.bounds.height)),e.wrapper.arrange(e.wrapper.desiredSize),e&&e.formFieldAnnotationType&&e.wrapper&&e.wrapper.children&&e.wrapper.children.length){n=e.wrapper.children[0];n.actualSize.width=e.wrapper.desiredSize.width,n.actualSize.height=e.wrapper.desiredSize.height}if(e&&"FreeText"===e.shapeAnnotationType&&"Text Box"===e.subject){if(e.wrapper&&e.wrapper.children&&e.wrapper.children.length){n=e.wrapper.children;n[1].childNodes.length>1&&"Justify"===e.textAlign?n[1].horizontalAlignment="Center":1===n[1].childNodes.length&&("Justify"===e.textAlign?(n[1].horizontalAlignment="Left",n[1].setOffsetWithRespectToBounds(0,0,null)):"Right"===e.textAlign?(n[1].horizontalAlignment="Right",n[1].setOffsetWithRespectToBounds(.97,0,null)):"Left"===e.textAlign?(n[1].horizontalAlignment="Left",n[1].setOffsetWithRespectToBounds(0,0,null)):"Center"===e.textAlign&&(n[1].horizontalAlignment="Center",n[1].setOffsetWithRespectToBounds(.46,0,null)));for(var A=0;A<n.length;A++){if(n[A].textNodes&&n[A].textNodes.length>0){n[A].isDirt=!0;var P=n[A].textNodes.length*n[A].textNodes[0].dy,T=e.bounds.height-P;if(T>0&&T<n[A].textNodes[0].dy&&(P+=n[A].textNodes[0].dy),P>e.bounds.height){for(var C="",F=0;F<n[A].textNodes.length;F++){var H=n[A].textNodes[0].dy*(F+1);H=H,C+=n[A].textNodes[F].text}n[A].content=C}}n[A].width=e.bounds.width-8}}e.wrapper.measure(new f["a"](e.wrapper.bounds.width,e.wrapper.bounds.height)),e.wrapper.arrange(e.wrapper.desiredSize)}if(this.pdfViewer.renderDrawing(void 0,e.pageIndex),e&&"FreeText"===e.shapeAnnotationType&&e.wrapper&&e.wrapper.children&&e.wrapper.children.length){n=e.wrapper.children;1===n[1].childNodes.length&&"Justify"===e.textAlign?(n[1].horizontalAlignment="Left",n[1].setOffsetWithRespectToBounds(.5,0,null)):n[1].childNodes.length>1&&"Justify"===e.textAlign&&(n[1].horizontalAlignment="Center",n[1].setOffsetWithRespectToBounds(0,0,null))}},e.prototype.fontSizeCalculation=function(e,t,i){var n=document.getElementById(this.pdfViewer.element.id+"_annotationCanvas_"+e.pageIndex),o=n.getContext("2d"),r=0,a=0,s="";t.style.italic&&t.style.bold?s="bold italic ":t.style.bold?s="bold ":t.style.italic&&(s="italic ");while(i>r)o.font=s+a+"px "+t.style.fontFamily,r=o.measureText(e.dynamicText).width,a+=.1;return a-=.1,a},e.prototype.setLineDistance=function(e,t,i,n){var o;o=n?Object(x["g"])(e,t[1],t[0],n):Object(x["g"])(e,t[0],t[1],n),i.data=o.data,i.offsetX=o.offsetX,i.offsetY=o.offsetY,i.rotateAngle=o.rotateAngle,i.width=o.width,i.height=o.height,i.pivot=o.pivot,i.canMeasurePath=!0,i.isDirt=!0},e.prototype.scaleSelectedItems=function(e,t,i){var n=this.pdfViewer.selectedItems;return this.scale(n,e,t,i)},e.prototype.scale=function(e,t,i,n){var o=!0;if(e instanceof y["a"]){if(e.annotations&&e.annotations.length)for(var r=0,a=e.annotations;r<a.length;r++){var s=a[r];o=this.scaleAnnotation(s,t,i,n,e)}else if(e.formFields&&e.formFields.length)for(var d=0,l=e.formFields;d<l.length;d++){s=l[d];o=this.scaleAnnotation(s,t,i,n,e)}}else o=this.scaleAnnotation(e,t,i,n,void 0);return o},e.prototype.scaleObject=function(e,t,i,n,o,r){if(e=e<0?1:e,t=t<0?1:t,1!==e||1!==t){var s=void 0,d=void 0;if(!Object(v["e"])(n)){var l=n,c=void 0,h=void 0;s=l.wrapper.actualSize.width*e,d=l.wrapper.actualSize.height*t,c&&(s=Math.max(s,h.right-l.wrapper.bounds.x),d=Math.max(d,h.bottom-l.wrapper.bounds.y)),e=s/l.wrapper.actualSize.width,t=d/l.wrapper.actualSize.height}var p=Object(a["a"])();r||(r=n);var g=r.wrapper;if(Object(a["b"])(p,-g.rotateAngle,i.x,i.y),Object(a["c"])(p,e,t,i.x,i.y),Object(a["b"])(p,g.rotateAngle,i.x,i.y),!Object(v["e"])(n)){l=n;var f=Object(a["d"])(p,{x:l.wrapper.offsetX,y:l.wrapper.offsetY});s>0&&(l.wrapper.width=s,l.wrapper.offsetX=f.x),d>0&&(l.wrapper.height=d,l.wrapper.offsetY=f.y),this.nodePropertyChange(n,{bounds:{width:l.wrapper.width,height:l.wrapper.height,x:l.wrapper.offsetX,y:l.wrapper.offsetY}})}}},e.prototype.scaleAnnotation=function(e,t,i,n,o){var r=this.pdfViewer.nameTable[e.id],a=r.wrapper;o||(o=e);var s=o.wrapper,d=s.offsetX-s.actualSize.width*s.pivot.x,l=s.offsetY-s.actualSize.height*s.pivot.y,c=this.getShapePoint(d,l,s.actualSize.width,s.actualSize.height,s.rotateAngle,s.offsetX,s.offsetY,n);void 0!==a.actualSize.width&&void 0!==a.actualSize.height&&this.scaleObject(t,i,c,r,a,o);var h=this.checkBoundaryConstraints(void 0,void 0,e.pageIndex,e.wrapper.bounds);return h||this.scaleObject(1/t,1/i,c,r,a,o),h},e.prototype.checkBoundaryConstraints=function(e,t,i,n,o,r){var a=n?void 0:this.pdfViewer.selectedItems.wrapper.bounds,s=n,d=document.getElementById(this.pdfViewer.element.id+"_annotationCanvas_"+i),l=10;if(d){var c=d.clientWidth/this.pdfViewer.viewerBase.getZoomFactor(),h=d.clientHeight/this.pdfViewer.viewerBase.getZoomFactor(),p=(n?s.right:a.right)+(e||0),g=(n?s.left:a.left)+(e||0),f=(n?s.top:a.top)+(t||0),S=(n?s.bottom:a.bottom)+(t||0);if(o&&(l=50,this.pdfViewer.viewerBase.eventArgs&&this.pdfViewer.viewerBase.eventArgs.source&&this.RestrictStamp(this.pdfViewer.viewerBase.eventArgs.source)))return!1;if(p<=c-10&&g>=10&&S<=h-10&&f>=l||r)return!0}return!1},e.prototype.RestrictStamp=function(e){return!(!e||void 0===e.pageIndex||!this.pdfViewer.viewerBase.activeElements||e.pageIndex===this.pdfViewer.viewerBase.activeElements.activePageID)},e.prototype.getShapeBounds=function(e){var t=new d["a"],i=Object(h["b"])(e),n=i.middleLeft,o=i.topCenter,r=i.bottomCenter,s=i.middleRight,l=i.topLeft,c=i.topRight,p=i.bottomLeft,g=i.bottomRight;if(e.corners={topLeft:l,topCenter:o,topRight:c,middleLeft:n,middleRight:s,bottomLeft:p,bottomCenter:r,bottomRight:g},0!==e.rotateAngle||0!==e.parentTransform){var f=Object(a["a"])();Object(a["b"])(f,e.rotateAngle+e.parentTransform,e.offsetX,e.offsetY),e.corners.topLeft=l=Object(a["d"])(f,l),e.corners.topCenter=o=Object(a["d"])(f,o),e.corners.topRight=c=Object(a["d"])(f,c),e.corners.middleLeft=n=Object(a["d"])(f,n),e.corners.middleRight=s=Object(a["d"])(f,s),e.corners.bottomLeft=p=Object(a["d"])(f,p),e.corners.bottomCenter=r=Object(a["d"])(f,r),e.corners.bottomRight=g=Object(a["d"])(f,g)}return t=d["a"].toBounds([l,c,p,g]),e.corners.left=t.left,e.corners.right=t.right,e.corners.top=t.top,e.corners.bottom=t.bottom,e.corners.center=t.center,e.corners.width=t.width,e.corners.height=t.height,t},e.prototype.getShapePoint=function(e,t,i,n,o,r,s,d){var l={x:0,y:0},c=Object(a["a"])();switch(Object(a["b"])(c,o,r,s),d.x){case 1:switch(d.y){case 1:l=Object(a["d"])(c,{x:e+i,y:t+n});break;case 0:l=Object(a["d"])(c,{x:e+i,y:t});break;case.5:l=Object(a["d"])(c,{x:e+i,y:t+n/2});break}break;case 0:switch(d.y){case.5:l=Object(a["d"])(c,{x:e,y:t+n/2});break;case 1:l=Object(a["d"])(c,{x:e,y:t+n});break;case 0:l=Object(a["d"])(c,{x:e,y:t});break}break;case.5:switch(d.y){case 0:l=Object(a["d"])(c,{x:e+i/2,y:t});break;case.5:l=Object(a["d"])(c,{x:e+i/2,y:t+n/2});break;case 1:l=Object(a["d"])(c,{x:e+i/2,y:t+n});break}break}return{x:l.x,y:l.y}},e.prototype.dragConnectorEnds=function(e,t,i,o,r,d,l){var c,h,p,g;if(t instanceof y["a"]?(c=t,h=c.annotations[0]):h=t,i={x:i.x/this.pdfViewer.viewerBase.getZoomFactor(),y:i.y/this.pdfViewer.viewerBase.getZoomFactor()},this.checkBoundaryConstraints(void 0,void 0,h.pageIndex,h.wrapper.bounds)){if("Distance"===h.shapeAnnotationType){var f=Object(v["d"])(h,e);if("Leader0"===e)this.pdfViewer.viewerBase.tool instanceof n["c"]?(h.vertexPoints[0].x=i.x,h.vertexPoints[0].y=i.y):(p=i.x-f.point.x,g=i.y-f.point.y,h.vertexPoints[0].x+=p,h.vertexPoints[0].y+=g);else if("Leader1"===e){var S=h.vertexPoints.length-1;this.pdfViewer.viewerBase.tool instanceof n["c"]?(h.vertexPoints[S].x=i.x,h.vertexPoints[S].y=i.y):(p=i.x-f.point.x,g=i.y-f.point.y,h.vertexPoints[S].x+=p,h.vertexPoints[S].y+=g)}else{var u=s["a"].findAngle(h.sourcePoint,h.targetPoint),m=t.wrapper.children[0].bounds.center,w=Object(a["a"])();Object(a["b"])(w,-u,m.x,m.y);var b=Object(a["d"])(w,{x:i.x,y:i.y});if("ConnectorSegmentPoint"===e.split("_")[0]){w=Object(a["a"])();Object(a["b"])(w,-u,m.x,m.y);var x=Object(a["d"])(w,h.vertexPoints[0]),z=Object(a["d"])(w,h.vertexPoints[h.vertexPoints.length-1]);if(g=b.y-x.y,0===h.leaderHeight&&null!=h.leaderHeight)h.leaderHeight=this.pdfViewer.distanceSettings.leaderLength;else{h.leaderHeight+=g,x.y+=g,z.y+=g;w=Object(a["a"])();Object(a["b"])(w,u,m.x,m.y),h.vertexPoints[0]=Object(a["d"])(w,x),h.vertexPoints[h.vertexPoints.length-1]=Object(a["d"])(w,z)}}}}else if("ConnectorSegmentPoint"===e.split("_")[0]){var O=Number(e.split("_")[1]);p=i.x-h.vertexPoints[O].x,g=i.y-h.vertexPoints[O].y,h.vertexPoints[O].x+=p,h.vertexPoints[O].y+=g,h.vertexPoints.length>2&&"Perimeter"!==t.measureType&&(0===parseFloat(e.split("_")[1])?(h.vertexPoints[h.vertexPoints.length-1].x+=p,h.vertexPoints[h.vertexPoints.length-1].y+=g):parseFloat(e.split("_")[1])===h.vertexPoints.length-1&&(h.vertexPoints[0].x+=p,h.vertexPoints[0].y+=g))}this.nodePropertyChange(h,{vertexPoints:h.vertexPoints}),this.renderSelector(h.pageIndex,l)}return this.pdfViewer.renderDrawing(),!0},e.prototype.dragSourceEnd=function(e,t,i,n){var o=this.pdfViewer.nameTable[e.id];return o.vertexPoints[n].x+=t,o.vertexPoints[n].y+=i,this.pdfViewer.renderDrawing(),!0},e.prototype.updateConnector=function(e,t){e.vertexPoints=t,Object(x["m"])(e,t,e.wrapper.children[0]);e.sourcePoint;var i=e.vertexPoints,n=e.wrapper.children[0];n.canMeasurePath=!0;for(var o=0;o<e.wrapper.children.length;o++)n=e.wrapper.children[o],"Polygon"!==e.shapeAnnotationType&&(n.id.indexOf("srcDec")>-1&&Object(x["k"])(e,n,t[0],i[1],!0),e.targetPoint,n.id.indexOf("tarDec")>-1&&Object(x["k"])(e,n,t[t.length-1],i[i.length-2],!1))},e.prototype.copy=function(){return this.pdfViewer.clipboardData.pasteIndex=1,this.pdfViewer.clipboardData.clipObject=this.copyObjects(),this.pdfViewer.clipboardData.clipObject},e.prototype.copyObjects=function(){var e=[],t=[];if(this.pdfViewer.clipboardData.childTable={},this.pdfViewer.selectedItems.annotations.length>0){e=this.pdfViewer.selectedItems.annotations;for(var i=0;i<e.length;i++){var n=Object(v["a"])(e[i]);t.push(n)}}if(this.pdfViewer.selectedItems.formFields.length>0){e=this.pdfViewer.selectedItems.formFields;for(i=0;i<e.length;i++){n=Object(v["a"])(e[i]);t.push(n)}}if(0===this.pdfViewer.clipboardData.pasteIndex)for(var o=0,r=e;o<r.length;o++){var a=r[o];this.pdfViewer.nameTable[a.id]&&(a.formFieldAnnotationType?(this.pdfViewer.clearSelection(a.pageIndex),this.pdfViewer.formDesignerModule.deleteFormField(a.id)):a.annotName?this.pdfViewer.annotationModule.deleteAnnotationById(a.annotName):this.pdfViewer.annotationModule.deleteAnnotation())}return this.sortByZIndex(t,"zIndex"),t},e.prototype.getNewObject=function(e){var t,i=[];this.pdfViewer.clipboardData.pasteIndex=1;for(var n=0;n<e.length;n++)t=Object(v["a"])(e[n]),i.push(t);return i},e.prototype.paste=function(e,t){var i=this.pdfViewer.viewerBase.getZoomFactor(),n=this.pdfViewer.allowServerDataBinding;if(this.pdfViewer.enableServerDataBinding(!1),e||this.pdfViewer.clipboardData.clipObject){var o=e?this.getNewObject(e):this.pdfViewer.clipboardData.clipObject;if(o){var r={};0!==this.pdfViewer.clipboardData.pasteIndex&&this.pdfViewer.clearSelection(t);for(var a=0,s=o;a<s.length;a++){var d=s[a];r[d.id]=d}for(var l=0;l<o.length;l++){d=o[l];var c=this.pdfViewer.viewerBase.getElement("_pageDiv_"+d.pageIndex),p=event;if(!p||p.clientX||p.clientY||(p={clientX:this.pdfViewer.viewerBase.mouseLeft,clientY:this.pdfViewer.viewerBase.mouseTop}),Object(z["K"])()&&(p=this.pdfViewer.viewerBase.mouseDownEvent),Object(v["e"])(d))this.calculateCopyPosition(d,c,p);else if(c){var g=c.getBoundingClientRect();d.bounds.x=(p.clientX-g.left)/i,d.bounds.y=(p.clientY-g.top)/i}var f=Object(v["a"])(d);"Cut"!==this.pdfViewer.viewerBase.contextMenuModule.previousAction?(f.id+=Object(h["e"])(),this.pdfViewer.annotationModule&&"HandWrittenSignature"!==f.shapeAnnotationType&&(f.annotName=f.id,this.pdfViewer.annotationModule.stickyNotesAnnotationModule.updateAnnotationCollection(f,o[0],!1)),"SignatureText"!==f.shapeAnnotationType&&"HandWrittenSignature"!==f.shapeAnnotationType&&"SignatureImage"!==f.shapeAnnotationType||this.pdfViewer.viewerBase.signatureModule.storeSignatureData(f.pageIndex,f),f.formFieldAnnotationType||this.pdfViewer.annotation.addAction(f.pageIndex,null,f,"Addition","",f,f)):(this.pdfViewer.annotationModule&&this.pdfViewer.annotationModule.stickyNotesAnnotationModule.updateAnnotationCollection(f,o[0],!0),"SignatureText"!==f.shapeAnnotationType&&"HandWrittenSignature"!==f.shapeAnnotationType&&"SignatureImage"!==f.shapeAnnotationType||this.pdfViewer.viewerBase.signatureModule.storeSignatureData(f.pageIndex,f));var S=this.add(f);if(this.pdfViewer.formDesigner&&S.formFieldAnnotationType&&this.pdfViewer.annotation.addAction(f.pageIndex,null,S,"Addition","",S,S),("FreeText"===f.shapeAnnotationType||f.enableShapeLabel)&&S&&this.nodePropertyChange(S,{}),S.formFieldAnnotationType&&S.pageIndex===t){this.pdfViewer.formFieldCollection.push(S);var u={id:S.id,name:S.name,value:S.value,type:S.formFieldAnnotationType,isReadOnly:S.isReadonly,fontFamily:S.fontFamily,fontSize:S.fontSize,fontStyle:S.fontStyle,color:S.color,backgroundColor:S.backgroundColor,alignment:S.alignment,visibility:S.visibility,maxLength:S.maxLength,isRequired:S.isRequired,isPrint:S.isPrint,isSelected:S.isSelected,isChecked:S.isChecked,tooltip:S.tooltip,bounds:S.bounds,thickness:S.thickness,borderColor:S.borderColor,signatureIndicatorSettings:S.signatureIndicatorSettings};this.pdfViewer.formFieldCollections.push(u),this.pdfViewer.formDesigner.drawHTMLContent(S.formFieldAnnotationType,S.wrapper.children[0],S,S.pageIndex,this.pdfViewer)}this.pdfViewer.select([f.id],this.pdfViewer.annotationSelectorSettings),S.formFieldAnnotationType||this.pdfViewer.annotationModule.triggerAnnotationAddEvent(f)}}this.pdfViewer.renderDrawing(void 0,t),this.pdfViewer.clipboardData.pasteIndex++}this.pdfViewer.enableServerDataBinding(n,!0)},e.prototype.calculateCopyPosition=function(e,t,i){for(var n,o,r,a,s=this.pdfViewer.viewerBase.getZoomFactor(),d=0;d<e.vertexPoints.length;d++)if(t)if(0===d){var l=t.getBoundingClientRect();n=e.vertexPoints[d].x,o=e.vertexPoints[d].y,e.vertexPoints[d].x=(i.clientX-l.left)/s,e.vertexPoints[d].y=(i.clientY-l.top)/s,r=e.vertexPoints[d].x,a=e.vertexPoints[d].y}else e.vertexPoints[d].x+=r-n,e.vertexPoints[d].y+=a-o},e.prototype.cut=function(e){var t=this.pdfViewer.allowServerDataBinding;this.pdfViewer.enableServerDataBinding(!1),this.pdfViewer.annotationModule&&(this.pdfViewer.annotationModule.removedAnnotationCollection=[]),this.pdfViewer.clipboardData.pasteIndex=0,this.pdfViewer.clipboardData.clipObject=this.copyObjects(),this.pdfViewer.renderDrawing(void 0,e),this.pdfViewer.enableServerDataBinding(t,!0)},e.prototype.sortByZIndex=function(e,t){var i=t||"zIndex";return e=e.sort((function(e,t){return e[i]-t[i]})),e},e}()},da93:function(e,t,i){"use strict";i.d(t,"a",(function(){return l}));var n=i("7de8"),o=i("7cf2"),r=i("d420"),a=i("725f"),s=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),d=function(e,t,i,n){var o,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,i,a):o(t,i))||a);return r>3&&a&&Object.defineProperty(t,i,a),a},l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s(t,e),t.prototype.init=function(e){var t=new o["a"];if(t.measureChildren=!1,t.children=[],this.formFields&&this.formFields.length>0)for(var i=0;i<this.formFields.length;i++){var r=e.pdfViewer.nameTable[this.formFields[i].id],a=r.wrapper;t.children.push(a)}else if(this.annotations)for(i=0;i<this.annotations.length;i++)if(!Object(n["L"])(this.annotations[i])){r=e.pdfViewer.nameTable[this.annotations[i].id],a=r.wrapper;t.children.push(a)}return this.wrapper=t,t},d([Object(n["q"])(null)],t.prototype,"wrapper",void 0),d([Object(n["e"])([],a["a"])],t.prototype,"annotations",void 0),d([Object(n["e"])([],a["b"])],t.prototype,"formFields",void 0),d([Object(n["q"])()],t.prototype,"width",void 0),d([Object(n["q"])()],t.prototype,"height",void 0),d([Object(n["q"])(0)],t.prototype,"rotateAngle",void 0),d([Object(n["q"])(0)],t.prototype,"offsetX",void 0),d([Object(n["q"])(0)],t.prototype,"offsetY",void 0),d([Object(n["f"])({x:.5,y:.5},r["a"])],t.prototype,"pivot",void 0),t}(n["d"])},ecd8:function(e,t,i){"use strict";i.d(t,"e",(function(){return a})),i.d(t,"f",(function(){return s})),i.d(t,"b",(function(){return d})),i.d(t,"c",(function(){return l})),i.d(t,"a",(function(){return h})),i.d(t,"d",(function(){return f}));var n=i("d420"),o=i("c9c3"),r=i("7de8");function a(e){return"Line"===e.shapeAnnotationType||"LineWidthArrowHead"===e.shapeAnnotationType||"Distance"===e.shapeAnnotationType||"Polygon"===e.shapeAnnotationType}function s(e,t){if(e&&t)if(e.formFieldAnnotationType)-1!==e.id.indexOf("diagram_helper")?(t.style.fill="transparent",t.style.strokeWidth=1,t.style.strokeDashArray=e.borderDashArray):(t.style.fill="transparent",t.style.strokeWidth=0);else{var i="#ffffff00"===e.fillColor?"transparent":e.fillColor;t.style.fill=i||"white",t.style.strokeColor=e.strokeColor?e.strokeColor:e.borderColor,t.style.color=e.strokeColor?e.strokeColor:e.borderColor,t.style.strokeWidth=e.thickness,"Image"!==e.shapeAnnotationType&&"SignatureText"!==e.shapeAnnotationType&&"SignatureImage"!==e.shapeAnnotationType||(t.style.strokeWidth=0),t.style.strokeDashArray=e.borderDashArray,t.style.opacity=e.opacity}}function d(e){for(var t=0,i=0;i<e.length-1;i++)t+=n["a"].findLength(e[i],e[i+1]);return t}function l(e,t){var i={width:e.actualSize.width,height:e.actualSize.height,x:e.offsetX-e.actualSize.width*e.pivot.x+.5,y:e.offsetY-e.actualSize.height*e.pivot.y+.5,angle:e.rotateAngle+e.parentTransform,fill:e.style.fill,stroke:e.style.strokeColor,pivotX:e.pivot.x,pivotY:e.pivot.y,strokeWidth:1,opacity:e.style.opacity,dashArray:e.style.strokeDashArray||"",visible:e.visible,id:e.id};return t&&(i.x+=t.tx,i.y+=t.ty),i}function c(e){return void 0!==e&&"string"===typeof e&&(e=Object(r["J"])(e,window)),e}function h(e,t,i){var n={},o="properties",r="propName";if(e){i=e[r];var a=e[o]||e,s=[];s=s.concat(Object.keys(a));var d=[];if(s.push("version"),i){var l=c(t);d=l?l(i):[],s=s.concat(d)}var f=g(i);s=s.concat(f);for(var S=0,u=s;S<u.length;S++){var m=u[S];if("historyManager"!==m)if("wrapper"!==m){var w=!(!e[m]||!e.hasOwnProperty("observers"));w||(e[m]instanceof Array?n[m]=p(-1===f.indexOf(m)&&e[o]?e[o][m]:e[m],t,m):e[m]instanceof Array===!1&&e[m]instanceof HTMLElement?n[m]=e[m].cloneNode(!0).innerHtml:e[m]instanceof Array===!1&&e[m]instanceof Object?n[m]=h(-1===f.indexOf(m)&&e[o]?e[o][m]:e[m]):n[m]=e[m])}else e[m]&&(n[m]={actualSize:{width:e[m].actualSize.width,height:e[m].actualSize.height},offsetX:e[m].offsetX,offsetY:e[m].offsetY})}}return n}function p(e,t,i){var n;if(e){n=[];for(var o=0;o<e.length;o++)e[o]instanceof Array?n.push(e[o]):e[o]instanceof Object?n.push(h(e[o],t,i)):n.push(e[o])}return n}function g(e){switch(e){case"nodes":case"children":return["inEdges","outEdges","parentId","processId","nodeId","umlIndex","isPhase","isLane"];case"connectors":return["parentId"];case"annotation":return["nodeId"];case"annotations":return["nodeId"];case"shape":return["hasHeader"]}return[]}function f(e,t){var i;if("Distance"===e.shapeAnnotationType)for(var r=0,a=void 0,s=0;s<e.wrapper.children.length;s++){var d=n["a"].findAngle(e.sourcePoint,e.targetPoint),l=e.wrapper.children[s];if(l.id.indexOf("leader")>-1){var c=e.wrapper.children[0].bounds.center;0===r?(a={x:e.sourcePoint.x,y:e.sourcePoint.y-e.leaderHeight},c=e.sourcePoint):(a={x:e.targetPoint.x,y:e.targetPoint.y-e.leaderHeight},c=e.targetPoint);var h=Object(o["a"])();if(Object(o["b"])(h,d,c.x,c.y),i=Object(o["d"])(h,{x:a.x,y:a.y}),t==="Leader"+r)return{leader:"leader"+r,point:i};r++}}return{leader:"",point:i}}}}]);
//# sourceMappingURL=chunk-vendors~8e467e42.5ccf9b80.js.map
{"version":3,"sources":["webpack:///./node_modules/@syncfusion/ej2-pdfviewer/src/pdfviewer/base/pdfviewer-base.js"],"names":["__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","e","rejected","result","done","then","apply","__generator","body","f","y","t","g","_","label","sent","trys","ops","verb","Symbol","iterator","this","n","v","op","TypeError","call","pop","length","push","PdfViewerBase","viewer","_this","pageSize","pageCount","isReRenderRequired","currentPageNumber","activeElements","mouseDownEvent","isDocumentLoaded","renderedPagesList","pageGap","signatureAdded","pageLeft","sessionLimit","pageStopValue","toolbarHeight","pageLimit","previousPage","isViewerMouseDown","isViewerMouseWheel","scrollPosition","sessionStorage","isLoadedFormFieldAdded","pointerCount","pointersForTouch","isPasswordAvailable","passwordData","reRenderedCount","mouseX","mouseY","mouseLeft","mouseTop","touchClientX","touchClientY","previousTime","currentTime","isTouchScrolled","isLongTouchPropagated","longTouchTimer","isViewerContainerDoubleClick","dblClickTimer","pinchZoomStorage","isTextSelectionDisabled","isPanMode","dragX","dragY","isScrollbarMouseDown","scrollX","scrollY","ispageMoved","isThumb","isTapHidden","singleTapTimer","tapCount","inputTapCount","isInitialLoaded","annotationPageList","importPageList","isImportAction","isImportedAnnotation","isAnnotationCollectionRemoved","tool","action","eventArgs","inAction","isMouseDown","isStampMouseDown","stampAdded","customStampCount","isDynamicStamp","isMixedSizeDocument","highestWidth","highestHeight","customStampCollection","isAlreadyAdded","isWebkitMobile","isFreeTextContextMenu","isSelection","isAddAnnotation","annotationComments","isToolbarSignClicked","signatureCount","isSignatureAdded","isNewSignatureAdded","isInitialPageMode","documentAnnotationCollections","annotationRenderredList","annotationStorage","formFieldStorage","isStorageExceed","isNewStamp","downloadCollections","isAnnotationAdded","annotationEvent","isAnnotationDrawn","isAnnotationSelect","isAnnotationMouseDown","isAnnotationMouseMove","validateForm","isMinimumZoom","documentLoaded","tileRenderCount","tileRequestCount","isTileImageRendered","isDataExits","requestLists","tilerequestLists","isInkAdded","inkCount","isAddedSignClicked","imageCount","isMousedOver","isFormFieldSelect","isFormFieldMouseDown","isFormFieldMouseMove","isFormFieldMousedOver","isPassword","isDrawnCompletely","isAddComment","drawSignatureWithTool","formFieldCollection","nonFillableFields","isInitialField","isTouchDesignerMode","isPrint","isJsonImported","isJsonExported","isPageRotated","downloadFileName","isFocusField","focusField","clearSessionStorage","documentId","isIE","info","name","decodeURI","window","getItem","documentLiveCount","jsonObject","hashId","elementId","pdfViewer","element","id","actionName","serviceUrl","browserSupportsKeepalive","Request","headerValue","setUnloadRequestHeaders","credentialsData","ajaxRequestSettings","withCredentials","fetch","method","credentials","headers","JSON","stringify","clearCache","removeItem","onWindowResize","event","proxy","enableRtl","viewerContainer","style","right","navigationPane","sideBarToolbar","getViewerContainerLeft","left","commentPanelContainer","offsetWidth","viewerElementWidth","clientWidth","width","viewerWidth","getViewerContainerRight","toolbarModule","toolbarContainer","querySelector","getElement","formDesignerToolbarHeight","getBoundingClientRect","height","isAnnotationToolbarHidden","isDevice","enableDesktopMode","isNavigationToolbarVisible","navigationToolbar","isFormDesignerToolbarHidded","formDesignerToolbar","updatePageHeight","annotationToolbarContainer","annotationToolbarHeight","bookmarkViewModule","bookmarkContainer","toString","pageContainer","onToolbarResize","getViewerMainContainerWidth","enableToolbar","thumbnailViewModule","gotoThumbnailImage","textSearchModule","textSearchBoxOnResize","isBookmarkListOpen","updateZoomValue","mobileScrollerContainer","parseFloat","mobilePageNoContainer","top","clientHeight","updateMobileScrollerPosition","setResizeIconTop","setCommentPanelResizeIconTop","type","signatureModule","updateCanvasSize","viewerContainerOnMousedown","isUpdate","button","getPopupNoteVisibleStatus","isClickedOnScrollBar","target","detail","className","focusViewerContainer","scrollTop","getZoomFactor","clientX","clientY","document","documentMode","textSelectionModule","preventDefault","clearTextSelection","pageX","pageY","contains","cursor","isShapeBasedAnnotationsEnabled","diagramMouseDown","annotation","stickyNotesAnnotationModule","accordionContainer","annotationModule","isEditableElement","updateCommentPanel","mouseDownHandler","viewerContainerOnMouseup","scrollHoldTimer","clearTimeout","pageViewScrollChanged","isSignatureFieldReadOnly","split","getElementById","disabled","children","clearSelection","diagramMouseUp","onAnnotationMouseUp","selectedItems","formFields","toolbar","formDesignerToolbarModule","showHideDeleteIcon","commentElement","display","annotations","accordionExpand","ej2_instances","expandItem","commentsDiv","annotName","classList","firstChild","click","eventTarget","offsetX","offsetY","zoomFactor","pageIndex","pageString","parseInt","pageDiv","pageCurrentRect","firePageClick","formFieldsModule","formDesignerModule","removeFocus","isTextMarkupAnnotationModule","isToolbarInkClicked","textMarkupAnnotationModule","onTextMarkupAnnotationMouseUp","updateCanvas","viewerContainerOnMouseWheel","getRerenderCanvasCreated","ctrlKey","zoomDifference","magnification","wheelDelta","zoomTo","magnificationModule","pageRerenderOnMouseWheel","fitPageScrollMouseWheel","textSelectionOnMouseWheel","onWindowKeyDown","isMac","navigator","platform","match","isCommandKey","metaKey","isFreeTextAnnotationModule","freeTextAnnotationModule","isInuptBoxInFocus","inputElementModule","isInFocus","keyCode","addInkAnnotation","deSelectCommentAnnotation","updateStampItems","annotationToolbarModule","deselectAllItemsInBlazor","deselectAllItems","i","formField","field","fontFamily","fontSize","fontStyle","color","backgroundColor","alignment","isReadonly","visibility","maxLength","isRequired","rotation","rotateAngle","tooltip","options","isChecked","isSelected","fireFocusOutFormField","viewerContainerOnKeyDown","shiftKey","updateScrollTop","openFileDialogBox","enableTextSelection","copyText","copy","contextMenuModule","previousAction","enableTextSearch","textSearchButtonHandler","printModule","enablePrint","print","undo","cut","redo","isShapeCopied","formDesigner","paste","DeleteKeyPressed","magnifyBehaviorKeyDown","viewerContainerOnMousemove","selection","getSelection","isCollapsed","anchorNode","isTextSelection","isDropletClicked","isEnableTextMarkupResizer","currentTextMarkupAddMode","textSelect","textSelectionOnMouseMove","skipPreventDefault","onTextMarkupAnnotationMouseMove","panOnMouseMove","canvas","indexOf","parentElement","getEventPageNumber","diagram","canvas1","x","top_1","stampAnnotationModule","currentStampAnnotation","shapeAnnotationType","top_2","stampModule","containsPoint","isStampAnnotSelected","diagramMouseLeave","diagramMouseMove","enableStampAnnotations","isNewStampAnnot","enableHandwrittenSignature","isStampMode","deltaX","deltaY","scrollLeft","isNavigationPaneResized","viewerContainerOnMouseLeave","textSelectionOnMouseLeave","viewerContainerOnMouseEnter","clear","viewerContainerOnMouseOver","viewerContainerOnClick","getCurrentTextMarkupAnnotation","getTextMarkupAnnotationMode","pageNumber","fireTextSelectionStart","selectAWord","contextMenuSettings","contextMenuAction","calculateContextMenuPosition","drawTextMarkupAnnotations","maintainSelectionOnZoom","setTimeout","applySelection","fireTextSelectEnd","position","currentPosition","getMouseEventArgs","source","isMetaKey","clickCount","mouseUp","currentTextMarkupAnnotation","currentAnnotation","formFieldAnnotationType","annotationSelect","isFreeTextAnnotation","elmtPosition","bounds","addInuptElemet","enableShapeLabel","editLabel","annotation_1","selectTextMarkupCurrentPage","comments","designerMode","cancel","fireFormFieldDoubleClickEvent","createPropertiesWindow","selectEntireLine","viewerContainerOnDragStart","viewerContainerOnContextMenuClick","onWindowMouseUp","modules","isLeftDropletClicked","isRightDropletClicked","isTextMarkupAnnotationMode","showHideDropletDiv","isNewFreeTextAnnotation","viewerElement","targetElement","contextMenuElement","textSelectionOnMouseup","applySpanForSelection","checkIsNormalText","removeAllRanges","selectionStartPage","stopPropagation","onWindowTouchEnd","viewerContainerOnTouchStart","touchPoints","touches","setTouchPoints","preventTouchEvent","onTextMarkupAnnotationTouchEnd","Date","getTime","handleTaps","handleTextBoxTaps","isDesignerMode","close","isMoving","open","viewerContainerOnLongTouch","textMarkupToolbarElement","add","remove","initiateTouchSelection","viewerContainerOnPointerDown","pointerType","viewerContainerOnTouchMove","enablePinchZoom","initiatePinchMove","getPagesPinchZoomed","pinchMoveScroll","top_3","viewerContainerOnPointerMove","pointerId","viewerContainerOnTouchEnd","pinchMoveEnd","cancelable","clearInterval","duration","difference","changedTouches","speed","Math","abs","renderStampAnnotation","viewerContainerOnPointerEnd","viewerContainerOnScroll","allowServerDataBind","allowServerDataBinding","enableServerDataBinding","scrollposX","scrollposY","ratio","scrollHeight","offsetTop","containerValue","verticalScrollValue","pageHeight","getPageHeight","getPageTop","fitType","renderElementsVirtualScroll","getPinchZoomed","getPinchScrolled","showPageLoadingIndicator","updateCurrentPage","setAttribute","updateNavigationButtons","mobileSpanContainer","innerHTML","mobilecurrentPageContainer","isThumbnailClicked","firePageChange","updatePagesForFitPage","currentPage","clearIntervalTimer","data","getStoredData","initiatePageViewScrollChanged","timer","scrollSettings","delayPageRequestTimeOnScroll","updateCommentPanelScrollTop","textLayer","test","userAgent","vendor","prototype","initializeComponent","blazorUIAdaptor","controlWidth","toolbarDiv","viewerMainContainer","attrs","createMobilePageNumberContainer","tabIndex","direction","touchAction","setMaximumHeight","mainContainer","appendChild","applyViewerHeight","initializeNavigationPane","intializeToolbar","enableNavigationToolbar","sideBarToolbarSplitter","isBookmarkOpen","isThumbnailOpen","updateViewerContainerOnClose","mobilenumberContainer","mobiletotalPageContainer","createThumbnailContainer","createPrintPopup","createGoToPagePopup","waitingPopup","cssClass","setLoaderProperties","spinnerElement","getElementsByClassName","createContextMenu","createFileInputElement","wireEvents","createTextSearchBox","documentPath","_dotnetInstance","invokeMethodAsync","load","initializeCollection","cssFloat","zIndex","addEventListener","mobileScrollContainerDown","bind","mobileScrollContainerEnd","initiatePageRender","documentData","password","loadedData","createGUID","showLoadingIndicator","isFileName","saveDocumentInfo","interactionMode","initiatePanning","checkDocumentData","setFileName","fileName","constructJsonObject","createAjaxRequest","initiateLoadDocument","jsonDocumentId","loadSuccess","documentDetails","parse","error","onControlError","serverActionSettings","isNaN","StatusText","uniqueId","fireAjaxRequestSuccess","requestSuccess","clearAnnotationSelection","showToolbar","relativePosition","currentRect","minHeight","updateWidth","updateHeight","updateViewerContainer","sideBarContentContainer","updateViewerContainerOnExpand","updateViewerContainerSize","enableAnnotationToolbar","refreshOverflow","goToPagePopup","show","removeEventListener","loadRequestHandler","url","responseType","mode","send","onSuccess","onFailure","statusString","status","openNotificationPopup","fireAjaxRequestFailed","statusText","onError","errorString","showNotificationDialog","promise","createNotificationPopup","localeObj","getConstant","showNotificationPopup","undefined","saveDocumentHashData","saveFormfieldsData","pageRender","pageData","pageSizes","setItem","restrictionList","RestrictionSummary","RestrictionEnabled","renderPasswordPopup","renderCorruptPopup","updateToolbarItems","createAnnotationSelectElement","restrictionSummary","isEnable","EnableRestriction","DisableToolbarItems","enableFormFields","enableFormFieldButton","enableAnnotation","passwordDialogReset","passwordPopup","hide","initPageDiv","previousZoomValue","zoomValue","isZoomMode","isAutoZoom","zoomMode","fitToWidth","fitToPage","isInitialLoading","viewPortWidth","createRequestForRender","pageTop","viewerHeight","renderPageElement","uploadedDocumentName","enableAnnotationAddTools","promptElement_1","textContent","passwordInput_1","fireDocumentLoadFailed","promise_1","focus","promptElement","createPasswordPopup","createCorruptedPopup","corruptPopup","base64String","documentStringArray","unload","encodeURI","isFormFieldDocument","PdfRenderedFormFields","formfieldvalue","setItemInSessionStorage","FieldName","splice","formFieldCollections","submitItem","enableItems","updateWaitingPopup","bottom","getActivePage","isPageNumber","activePageID","createWaitingPopup","isShow","showPrintLoadingIndicator","printWaitingPopup","printMainContainer","transformOrigin","isPinchZoomed","getMagnified","isMagnified","isPinchScrolled","isPagePinchZoomed","getPagesZoomed","isPagesZoomed","isRerenderCanvasCreated","getDocumentId","download","createRequestForDownload","saveAsBlob","saveAsBlobRequest","constructJsonDownload","dowonloadRequestHandler","blobUrl","createBlobUrl","isTriggerEvent","thumbnailView","annotationCollection","signatureCollection","importedAnnotation","updateDocumentEditedProperty","formFieldIndex","zIndexTable","initiateTextSelectMode","resetTextSearch","readOnlyCollection","signatureFieldCollection","currentTarget","signaturecollection","outputcollection","hasChildNodes","removeChild","lastChild","unloadDocument","characterBound","Array","virtualLoadRequestHandler","pageRequestHandler","importAnnotationRequestHandler","exportAnnotationRequestHandler","importFormFieldsRequestHandler","exportFormFieldsRequestHandler","printRequestHandler","windowSessionStorageClear","fireDocumentUnload","destroy","unWireEvents","parentNode","measureElement","unloadRequestHandler","myHeaders","Headers","append","ajaxHeaders","headerName","moreOptionsButton","querySelectorAll","commentTextBox","j","commentContainer","editableElement","commentSelect","z","getScrollParent","scrollNodeX","scrollNodeY","appVersion","scrollTo","node","nodeName","getComputedStyle","overflowY","popupElement","showCloseIcon","closeOnEscape","isModal","header","visible","buttons","buttonModel","content","isPrimary","closeCorruptPopup","beforeClose","appendTo","hideLoadingIndicator","goToPageElement","inputContainer","goToPageInput","maxWidth","pageNoContainer","GoToPageCancelClick","GoToPageApplyClick","closeGoToPagePopUp","goToPageTextBox","format","showSpinButton","inputValue","EnableApplyButton","DisableApplyButton","popupElements","removeAttribute","navigation","goToPage","differenceRatio","passwordInput","passwordCancel","applyPassword","passwordCancelClick","args","isInteraction","createCustomStampElement","createSignatureFileElement","fitToAuto","applyLeftPosition","updateFreeTextProperties","shapeLabelSettings","fillColor","labelFillColor","fontColor","opacity","labelOpacity","labelContent","isCancel","isEnableDelete","hidenItems","disabledItems","contextMenuOption","isClickWithinSelectionBounds","isTextSelected","selectedText","shapeMenuItems","isCalibrateAnnotationModule","measureAnnotationModule","currentAnnotationMode","enableCommentPanel","OnItemSelected","selectedMenu","CopyItemSelected","TextMarkUpSelected","PropertiesItemSelected","CutItemSelected","pasteItemSelected","DeleteItemSelected","ScaleRatioSelected","CommentItemSelected","showCommentsPanel","createScaleRatioWindow","deleteFormField","deleteAnnotation","tagName","pasteSelectedText","cutSelectedText","isSkip","copySelectedText","isSelectionMaintained","enableProperties","isSignature","checkIsRtlText","text","ltrChars","rtlChars","rtlDirCheck","RegExp","isWithin","getCurrentSelectionBounds","currentBound","getHorizontalValue","getVerticalValue","getHorizontalClientValue","pageBounds","getVerticalClientValue","isText","currentText","selectionRangeArray","isReadOnly","inputFields","annotationSettings","isLock","checkAllowedInteractions","renderSelector","modifyTextCursor","disableTextSelectionMode","enableTextSelectionMode","initiateTextSelection","isSelectionToolDisabled","updateInteractionTools","designerModetarget","onDoubleTap","onSingleTap","onTextBoxDoubleTap","isFormfields","moreDropDown","dropDown","firstElementChild","getSelectTextMarkupCurrentPage","tapOnMobileDevice","onDoubleTapMagnification","currentStampObj","updateDeleteItems","renderStamp","onAnnotationMouseDown","currentSignatureAnnot","renderSignature","pageValues","updateTotalPage","topValue","isPortrait","isLandscape","differentPageSize","previousPageHeight","size","Height","Width","pageWidth","limit","renderPageContainer","getPageWidth","all","renderPagesVirtually","lowerLimit","pageValue","lowerPageValue","pageCanvas","childNodes","maintainSelectionOnScroll","indexInArray","_a","initiateRenderPagesVirtually","isCompletePageSizeNotReceived","fireDocumentLoad","linkAnnotationModule","linkAnnotation","linkPage","renderDocumentLink","annotationY","tileRenderPage","canvas_1","pageDiv_1","tileX","tileY","background","updateLeftPosition","imageData","retrieveCurrentZoomFactor","currentString","matrix","tileX_1","tileY_1","scaleFactor","image","Image","src","onload","renderPDFInformations","textSearch","isExtractText","getPDFDocumentTexts","rerenderAnnotations","oldPageDiv","rerenderCountIncrement","currentImageWidth","matrixElements","Elements","Values","currentImageTop","currentImageLeft","onPageRender","oldCanvases","l","tileImgId","zoomFactor_1","tileData","getWindowSessionStorageTile","nodeType","Node","ELEMENT_NODE","tileX_2","tileY_2","renderTileCanvas","marginLeft","marginRight","calculateImageWidth","imageWidth","renderPage","canvas_2","pageDiv_2","boxShadow","pushImageObjects","aElement","getElementsByTagName","isAnnotationRendered","index","renderTextContent","isFormFieldPageZoomed","renderFormFields","rerenderFormFields","enableHyperlink","renderHyperlinkContent","applySelectionRangeOnScroll","pageAnnotations","shapeAnnotation","measureShapeAnnotation","textMarkupAnnotation","freeTextAnnotation","stampAnnotations","stickyNotesAnnotation","signatureInkAnnotation","checkDocumentCollectionData","isStampAnnotationModule","stampData","renderStampAnnotations","renderAnnotations","renderStickyNotesAnnotations","isTextSearch","highlightOtherOccurrences","commonStyle","annotationSelectorSettings","selectCommentsAnnotation","renderFreeTextAnnotations","isInkAnnotationModule","inkAnnotationModule","renderExistingInkSignature","isAnnotationSelected","annotationPageIndex","selectAnnotationFromCodeBehind","isAddedProgrammatically","signatureAnnotation","drawPageAnnotations","renderExistingSignature","texts","addTextLayer","renderTextContents","resizeTextContents","orderPageDivElements","renderPageCanvas","createRequestForThumbnails","createRequestForBookmarks","initializeAcccordionContainer","isCommandPanelOpen","createRequestForComments","nextElement","insertBefore","displayMode","createAnnotationLayer","applyElementStyles","canvasElement","oldCanvas","offsetLeft","leftPosition","pageDiff","leftValue","getPageNumberFromClientPoint","clientPoint","pointX","pointY","viewerContainerBounds","verticalScrollPosition","convertClientPointToPagePoint","pagePoint","convertPagePointToClientPoint","convertPagePointToScrollingPoint","scrollingPoint","renderCountIncrement","currentPageIndex","previous","renderPreviousPagesInScroll","downloadDocument","Url","URL","webkitURL","createObjectURL","anchorElement","href","documentElement","location","padCharacter","replace","downloadExportAnnotationJson","isForm","exportAnnotationFileName","fireFormExportSuccess","fireExportSuccess","downloadExportedXFdfAnnotation","exportFormFields","path","createRequestForExportFormfields","importFormFields","createRequestForImportingFormfields","isObject","createFormfieldsJsonData","fireFormExportStarted","pdfAnnotation","annotationJson","decodeURIComponent","escape","atob","msSaveOrOpenBlob","fireFormExportFailed","fireFormImportStarted","fireFormImportFailed","openImportExportNotificationPopup","fireFormImportSuccess","removeExistingFormFields","fieldsData","downloadFormDesigner","downloadFormFieldsData","saveImportedAnnotations","textMarkupAnnotationCollection","saveTextMarkupAnnotations","isShapeAnnotationModule","shapeAnnotations","shapeAnnotationModule","saveShapeAnnotations","calibrateAnnotations","saveMeasureShapeAnnotations","stampAnnotationCollection","saveStampAnnotations","isCommentAnnotationModule","stickyAnnotationCollection","saveStickyAnnotations","importList","signatureData","saveSignature","isSignatureEditable","freeTextAnnotationCollection","saveFreeTextAnnotations","inkSignatureData","saveInkSignature","checkFormFieldCollection","annotationID","isFormFieldAnnotation","formDesignerData","getItemFromSessionStorage","formFieldsData","FormField","radiobuttonItem","Key","fireDownloadStart","enableFormFieldsValidation","fireValidatedFailed","fireDownloadEnd","updateDocumentAnnotationCollections","getTileCount","defaultWidth","tileCount","tileValue","toFixed","tileRenderingSettings","enableTileRendering","pageWidth_1","viewPortWidth_1","viewPortHeight","noTileX","noTileY","tileSettings","isPageRequestSent","pageRequestSent","zoomFactor_2","k","zoomFactor_3","xCoordinate","yCoordinate","tilecount","tileXCount","tileYCount","renderPages","currentPageWidth","storeWinData","errorMessage","restrictZoomRequest","storedData","getWindowSessionStorage","getPinchZoomPage","storedTileData","isPinchZoomStorage","storeObject","blobObj","transformationMatrix","hyperlinks","hyperlinkBounds","annotationLocation","textBounds","pageText","manageSessionStorage","setCustomAjaxHeaders","request","setRequestHeader","key","hasOwnProperty","enableZoomOptimization","sessionSize","round","maxSessionSize","annotationList","storageLength","contentType","sliceSize","byteCharacters","byteArrays","offset","slice","byteNumbers","charCodeAt","byteArray","Uint8Array","blob","Blob","getRandomNumber","c","random","isNeedToSet","isScrollBar","setScrollDownValue","offsetHeight","eventType","boolValue","idString","isToolbarHidden","isNewFreeTextAnnot","getAnnotationToolStatus","isAnnotationButtonsEnabled","isPopupNoteVisible","isFormDesignerModule","getMousePosition","touchArg","targetParentRect","offsetParent","evt","obj","wrapper","targetWrapper","sourceWrapper","actualObject","findToolToActivate","selectorBnds","paddedBounds","conn","vertexPoints","leaderHeight","leaderCount","newPoint1","elementAngle","findAngle","sourcePoint","targetPoint","segment","centerPoint","center","matrix_1","rotatedPoint","ten","parentTransform","pivot","actualSize","rotateThumb","inflate","checkResizeHandles","padding","bound","checkForResizeHandles","forty","isStamp","isSticky","isNodeShape","isInk","resizerLocation","checkSignatureFormField","fieldID","isFormFieldSign","nameTable","firePageMouseover","drawingObject","equals","prevPosition","sourceDrawingElement","getTool","includes","setCursor","disableHyperlinkNavigationUnderObjects","updateDefaultCursor","diagramMouseActionHelper","currentObject","freeTextSettings","allowEditTextOnly","mouseMove","obj_1","updateFormFieldInitialSize","formFieldElement","previousActivePage","point","lastElementChild","drawHelper","shapeElement","mouseMoveforce","sourceElement","currentElement","mouseLeave","initialEventArgs","cursorType","freeTextAnnotModule","corner","setResizerCursorType","isCommentIconAdded","isNewAddedAnnot","endPoint","viewerPositions","mousePositions","strokeColor","thicknes","thickness","author","subject","modifiedDate","isFormField","borderColor","fireFormFieldMouseoverEvent","fireAnnotationMouseover","fireFormFieldMouseLeaveEvent","fireAnnotationMouseLeave","annotationObject","fromTarget","resizerCursorType","stampSettings","handWrittenSignatureSettings","inkAnnotationSettings","measureType","distanceSettings","perimeterSettings","areaSettings","radiusSettings","volumeSettings","lineSettings","arrowSettings","rectangleSettings","circleSettings","polygonSettings","which","dragging","onShapesMouseup","isSkipped","stampObj","customStampSettings","nodePropertyChange","isStampAddMode","stampName","signatureName","customStampName","customStampImageSource","enableCustomStamp","isAddToMenu","resetAnnotation","signObject","storeSignatureData","fireSignatureAdd","saveImageString","canvasPaddingLeft","canvasPaddingWidth","top_4","enableAutoFit","defautWidth","annotModule","primaryToolbar","deSelectItem","freeTextEditItem","mouseDown","signatureFieldAnnotation","findIndex","el","target_1","fireFormFieldClickEvent","exportAnnotationsAsObject","isAnnotations","updateExportItem","createRequestForExportAnnotations","Json","setStyleToTextDiv","textDiv","fontHeight","zoomvalue","margin","ConvertPointToPixel","number","formFieldsSize","clearFormFieldStorage","exportFormFieldsAsObject","importAnnotations","importData","annotationDataFormat","isXfdf","createRequestForImportAnnotations","exportAnnotations","isBase64String","createAnnotationJsonData","fireExportStart","exportObject","fireExportFailed","promise_2","promise_3","reRenderAnnotations","fireImportSuccess","fireImportStart","btoa","importedData","fireImportFailed","errorDetails","count","combineImportedData","importPageCollections","textMarkupObject","shapeObject","measureShapeObject","stampObject","stickyObject","freeTextObject","signatureObject","inkObject","annotationCanvas","isAdded","annotObject","checkAnnotationCollections","checkAnnotationCommentsCollections","renderAnnotationComments","updateCollections","updateTextMarkupAnnotationCollections","updateShapeAnnotationCollections","updateMeasureAnnotationCollections","updateStampAnnotationCollections","updateStickyNotesAnnotationCollections","updateFreeTextAnnotationCollections","checkSignatureCollections","updateSignatureCollections","updateImportedAnnotationsInDocumentCollections","createAnnotationsCollection","updateAnnotationsInDocumentCollections","importedAnnotations","documentAnnotationCollection","pageCollections","documetCollections","findImportedAnnotations","a","AnnotName","isNewlyAdded","SignatureName","annotationCollections","selectAnnotationCollections","savePageAnnotations","s","saveImportedTextMarkupAnnotations","saveImportedShapeAnnotations","saveImportedMeasureAnnotations","saveImportedStampAnnotations","saveImportedStickyNotesAnnotations","saveImportedFreeTextAnnotations","signaturCollection","signaturInkCollection","excistingImportAnnotation","newlyImportAnnotation","checkImportedData","concat","measureObject","inkAnnotationObjct","resut","some","existingCollection","newCollection","checkAnnotationWidth","points","minWidth","maxHeight","deleteAnnotations","renderDrawing","accordionContent","accordionContentContainer","childElementCount","annotationMenuObj","freeTextPageNumbers","stampPageNumber","inkAnnotationindex","annotationCollectionList","addAnnotation","importAnnotation","documentCollections","isAnnotationObject","annotationCount","newAnnotation","ShapeAnnotationType","AnnotationAddMode","annotationAddMode","Author","AnnotationSelectorSettings","AnnotationSettings","PageNumber","ModifiedDate","Subject","Note","note","annotationId","IsCommentLock","isCommentLock","Comments","updateComments","review","State","state","StateModel","stateModel","CustomData","customData","Opacity","AnnotType","Color","IsMultiSelect","isMultiSelect","TextMarkupAnnotationType","textMarkupAnnotationType","TextMarkupContent","textMarkupContent","TextMarkupStartIndex","textMarkupStartIndex","TextMarkupEndIndex","textMarkupEndIndex","rect","Rect","convertBounds","Bounds","Icon","StrokeColor","Name","MarkupText","dynamicText","Text","TextAlign","textAlign","Thickness","FillColor","FontColor","FontSize","FontFamily","Rotate","Font","font","isBold","isItalic","isStrikeout","isUnderline","icon","isDynamic","RotateAngle","StampAnnotationType","stampAnnotationType","CreationDate","creationDate","apperarance","stampAnnotationPath","Apperarance","IsDynamic","stampFillcolor","PathData","IsPathData","IsSignature","BorderStyle","borderStyle","BorderDashArray","borderDashArray","IsCloudShape","isCloudShape","CloudIntensity","cloudIntensity","RectangleDifference","rectangleDifference","LineHeadStart","lineHeadStart","LineHeadEnd","lineHeadEnd","IsLocked","isLocked","EnableShapeLabel","LabelContent","LabelFillColor","LabelBorderColor","labelBorderColor","LabelBounds","labelBounds","LabelSettings","labelSettings","LeaderLength","leaderLength","LeaderLineExtenstion","leaderLineExtension","convertVertexPoints","VertexPoints","calibrate","Calibrate","unit","conversionFactor","fractionalType","denominator","formatDenominator","distance","area","targetUnitConversion","depth","Indent","indent","Caption","caption","CaptionPosition","captionPosition","LeaderLineExtension","LeaderLineOffset","leaderLineOffset","isRect","Left","Right","Bottom","top_5","Top","X","ConvertPixelToPoint","Y","IsLock","currentPageContainer","blur","isEdited","isDocumentEdited","getWindowDevicePixelRatio","devicePixelRatio","getZoomRatio","zoom","importJsonForRotatedDocuments","originalRotation","pageDetails","getRotationAngle","calculateVertexPoints","vPoints","point_1","point_2"],"mappings":"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","file":"js/chunk-vendors~90f3b56d.163a8ce1.js","sourcesContent":["var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport { createElement, Browser, isNullOrUndefined, isBlazor } from '@syncfusion/ej2-base';\nimport { Dialog } from '@syncfusion/ej2-popups';\nimport { TextLayer, ContextMenu, Signature, PdfFormFieldBase } from '../index';\nimport { NavigationPane } from './navigation-pane';\nimport { NumericTextBox } from '@syncfusion/ej2-inputs';\nimport { AjaxHandler } from '../index';\nimport { Point, Rect, identityMatrix, transformPointByMatrix, contains, rotateMatrix } from '@syncfusion/ej2-drawings';\nimport { SelectTool, MoveTool, ResizeTool, ConnectTool, NodeDrawingTool, PolygonDrawingTool, LineTool, RotateTool, StampTool, InkDrawingTool } from '../drawing/tools';\nimport { Selector } from '../drawing/selector';\nimport { ActiveElements, findActiveElement } from '../drawing/action';\nimport { renderAdornerLayer } from '../drawing/dom-util';\nimport { AnnotationDataFormat } from './types';\nimport { cloneObject } from '../drawing/drawing-util';\nimport { BlazorContextMenu } from './blazor-context-menu';\nimport { createSpinner, showSpinner, hideSpinner } from './spinner';\nimport { BlazorUiAdaptor } from './blazor-ui-adaptor';\n/**\n * The `PdfViewerBase` module is used to handle base methods of PDF viewer.\n *\n * @hidden\n */\nvar PdfViewerBase = /** @class */ (function () {\n    /**\n     * Initialize the constructor of PDFViewerBase\n     *\n     * @param { PdfViewer } viewer - Specified PdfViewer class.\n     */\n    function PdfViewerBase(viewer) {\n        var _this = this;\n        /**\n         * @private\n         */\n        this.pageSize = [];\n        /**\n         * @private\n         */\n        this.pageCount = 0;\n        /**\n         * @private\n         */\n        this.isReRenderRequired = true;\n        /**\n         * @private\n         */\n        this.currentPageNumber = 0;\n        /**\n         * @private\n         */\n        this.activeElements = new ActiveElements();\n        /**\n         * @private\n         */\n        this.mouseDownEvent = null;\n        /**\n         * @private\n         */\n        this.isDocumentLoaded = false;\n        /**\n         * @private\n         */\n        this.renderedPagesList = [];\n        /**\n         * @private\n         */\n        this.pageGap = 8;\n        /**\n         * @private\n         */\n        this.signatureAdded = false;\n        this.pageLeft = 5;\n        this.sessionLimit = 1000;\n        this.pageStopValue = 300;\n        /**\n         * @private\n         */\n        this.toolbarHeight = 56;\n        this.pageLimit = 0;\n        this.previousPage = 0;\n        this.isViewerMouseDown = false;\n        this.isViewerMouseWheel = false;\n        this.scrollPosition = 0;\n        this.sessionStorage = [];\n        /**\n         * @private\n         */\n        this.isLoadedFormFieldAdded = false;\n        this.pointerCount = 0;\n        this.pointersForTouch = [];\n        /**\n         * @private\n         */\n        this.isPasswordAvailable = false;\n        /**\n         * @private\n         */\n        this.passwordData = '';\n        /**\n         * @private\n         */\n        this.reRenderedCount = 0;\n        this.mouseX = 0;\n        this.mouseY = 0;\n        /**\n         * @private\n         */\n        this.mouseLeft = 0;\n        /**\n         * @private\n         */\n        this.mouseTop = 0;\n        this.touchClientX = 0;\n        this.touchClientY = 0;\n        this.previousTime = 0;\n        this.currentTime = 0;\n        this.isTouchScrolled = false;\n        this.isLongTouchPropagated = false;\n        // eslint-disable-next-line\n        this.longTouchTimer = null;\n        this.isViewerContainerDoubleClick = false;\n        // eslint-disable-next-line\n        this.dblClickTimer = null;\n        /**\n         * @private\n         */\n        this.pinchZoomStorage = [];\n        /**\n         * @private\n         */\n        this.isTextSelectionDisabled = false;\n        /**\n         * @private\n         */\n        this.isPanMode = false;\n        this.dragX = 0;\n        this.dragY = 0;\n        this.isScrollbarMouseDown = false;\n        this.scrollX = 0;\n        this.scrollY = 0;\n        this.ispageMoved = false;\n        this.isThumb = false;\n        this.isTapHidden = false;\n        // eslint-disable-next-line\n        this.singleTapTimer = null;\n        this.tapCount = 0;\n        this.inputTapCount = 0;\n        /**\n         * @private\n         */\n        this.isInitialLoaded = false;\n        this.annotationPageList = [];\n        this.importPageList = [];\n        /**\n         * @private\n         */\n        this.isImportAction = false;\n        this.isImportedAnnotation = false;\n        /**\n         * @private\n         */\n        this.isAnnotationCollectionRemoved = false;\n        /**\n         * @private\n         */\n        this.tool = null;\n        // eslint-disable-next-line\n        this.action = 'Select';\n        /**\n         * @private\n         */\n        this.eventArgs = null;\n        /**\n         * @private\n         */\n        this.inAction = false;\n        /**\n         * @private\n         */\n        this.isMouseDown = false;\n        /**\n         * @private\n         */\n        this.isStampMouseDown = false;\n        /**\n         * @private\n         */\n        this.stampAdded = false;\n        /**\n         * @private\n         */\n        this.customStampCount = 0;\n        /**\n         * @private\n         */\n        this.isDynamicStamp = false;\n        /**\n         * @private\n         */\n        this.isMixedSizeDocument = false;\n        /**\n         * @private\n         */\n        this.highestWidth = 0;\n        /**\n         * @private\n         */\n        this.highestHeight = 0;\n        /**\n         * @private\n         */\n        this.customStampCollection = [];\n        /**\n         * @private\n         */\n        this.isAlreadyAdded = false;\n        /**\n         * @private\n         */\n        this.isWebkitMobile = false;\n        /**\n         * @private\n         */\n        this.isFreeTextContextMenu = false;\n        /**\n         * @private\n         */\n        this.isSelection = false;\n        /**\n         * @private\n         */\n        this.isAddAnnotation = false;\n        /**\n         * @private\n         */\n        // eslint-disable-next-line\n        this.annotationComments = null;\n        /**\n         * @private\n         */\n        this.isToolbarSignClicked = false;\n        /**\n         * @private\n         */\n        this.signatureCount = 0;\n        /**\n         * @private\n         */\n        this.isSignatureAdded = false;\n        /**\n         * @private\n         */\n        this.isNewSignatureAdded = false;\n        /**\n         * @private\n         */\n        this.isInitialPageMode = false;\n        /**\n         * @private\n         */\n        // eslint-disable-next-line\n        this.documentAnnotationCollections = null;\n        /**\n         * @private\n         */\n        this.annotationRenderredList = [];\n        /**\n         * @private\n         */\n        // eslint-disable-next-line\n        this.annotationStorage = {};\n        /**\n         * @private\n         */\n        // eslint-disable-next-line\n        this.formFieldStorage = {};\n        /**\n         * @private\n         */\n        this.isStorageExceed = false;\n        /**\n         * @private\n         */\n        this.isNewStamp = false;\n        /**\n         * @private\n         */\n        // eslint-disable-next-line\n        this.downloadCollections = {};\n        /**\n         * @private\n         */\n        this.isAnnotationAdded = false;\n        /**\n         * @private\n         */\n        // eslint-disable-next-line\n        this.annotationEvent = null;\n        /**\n         * @private\n        */\n        this.isAnnotationDrawn = false;\n        /**\n         * @private\n         */\n        this.isAnnotationSelect = false;\n        /**\n         * @private\n         */\n        this.isAnnotationMouseDown = false;\n        /**\n         * @private\n         */\n        this.isAnnotationMouseMove = false;\n        /**\n         * @private\n         */\n        this.validateForm = false;\n        /**\n         * @private\n         */\n        this.isMinimumZoom = false;\n        /**\n         * @private\n         */\n        this.documentLoaded = false;\n        this.tileRenderCount = 0;\n        this.tileRequestCount = 0;\n        /**\n         * @private\n         */\n        this.isTileImageRendered = false;\n        this.isDataExits = false;\n        this.requestLists = [];\n        this.tilerequestLists = [];\n        /**\n         * @private\n         */\n        this.isInkAdded = false;\n        /**\n         * @private\n         */\n        this.inkCount = 0;\n        /**\n         * @private\n         */\n        this.isAddedSignClicked = false;\n        /**\n         * @private\n         */\n        this.imageCount = 0;\n        /**\n         * @private\n         */\n        this.isMousedOver = false;\n        /**\n         * @private\n         */\n        this.isFormFieldSelect = false;\n        /**\n         * @private\n         */\n        this.isFormFieldMouseDown = false;\n        /**\n         * @private\n         */\n        this.isFormFieldMouseMove = false;\n        /**\n         * @private\n         */\n        this.isFormFieldMousedOver = false;\n        /**\n         * @private\n         */\n        this.isPassword = false;\n        this.isDrawnCompletely = false;\n        /**\n         * @private\n         */\n        this.isAddComment = false;\n        /**\n         * @private\n         */\n        this.drawSignatureWithTool = false;\n        /**\n         * @private\n         */\n        // eslint-disable-next-line\n        this.formFieldCollection = [];\n        /**\n         * @private\n         */\n        // eslint-disable-next-line\n        this.nonFillableFields = {};\n        /**\n         * @private\n         */\n        this.isInitialField = false;\n        /**\n         * @private\n         */\n        this.isTouchDesignerMode = false;\n        /**\n         * @private\n         */\n        this.isPrint = false;\n        /**\n         * @private\n         */\n        this.isJsonImported = false;\n        /**\n         * @private\n         */\n        this.isJsonExported = false;\n        /**\n         * @private\n         */\n        this.isPageRotated = false;\n        this.downloadFileName = '';\n        /**\n         * @private\n         */\n        // eslint-disable-next-line\n        this.isFocusField = false;\n        /**\n         * @private\n         */\n        // eslint-disable-next-line\n        this.focusField = [];\n        /**\n         * @returns {void}\n         */\n        this.clearSessionStorage = function () {\n            var documentId = '';\n            if (Browser.isIE || Browser.info.name === 'edge') {\n                documentId = decodeURI(window.sessionStorage.getItem('hashId'));\n            }\n            else {\n                documentId = window.sessionStorage.getItem('hashId');\n            }\n            var documentLiveCount = window.sessionStorage.getItem('documentLiveCount');\n            if (documentId !== null) {\n                // eslint-disable-next-line max-len\n                var jsonObject = { hashId: documentId, documentLiveCount: documentLiveCount, action: 'Unload', elementId: _this.pdfViewer.element.id };\n                var actionName = window.sessionStorage.getItem('unload');\n                var serviceUrl = window.sessionStorage.getItem('serviceURL');\n                if (serviceUrl && serviceUrl !== 'undefined') {\n                    // eslint-disable-next-line\n                    var browserSupportsKeepalive = 'keepalive' in new Request('');\n                    if (browserSupportsKeepalive) {\n                        // eslint-disable-next-line\n                        var headerValue = _this.setUnloadRequestHeaders();\n                        var credentialsData = _this.pdfViewer.ajaxRequestSettings.withCredentials ? 'include' : 'omit';\n                        fetch(serviceUrl + '/' + actionName, {\n                            method: 'POST',\n                            credentials: credentialsData,\n                            headers: headerValue,\n                            body: JSON.stringify(jsonObject)\n                        });\n                    }\n                }\n                else if (isBlazor()) {\n                    _this.clearCache(actionName, jsonObject, _this);\n                }\n            }\n            window.sessionStorage.removeItem(_this.documentId + '_annotations_textMarkup');\n            window.sessionStorage.removeItem(_this.documentId + '_annotations_shape');\n            window.sessionStorage.removeItem(_this.documentId + '_annotations_shape_measure');\n            window.sessionStorage.removeItem(_this.documentId + '_annotations_stamp');\n            window.sessionStorage.removeItem(_this.documentId + '_annotations_sticky');\n            window.sessionStorage.removeItem(_this.documentId + '_annotations_freetext');\n            window.sessionStorage.removeItem(_this.documentId + '_formfields');\n            window.sessionStorage.removeItem(_this.documentId + '_formDesigner');\n            window.sessionStorage.removeItem(_this.documentId + '_annotations_sign');\n            window.sessionStorage.removeItem(_this.documentId + '_pagedata');\n            window.sessionStorage.removeItem('hashId');\n            window.sessionStorage.removeItem('documentLiveCount');\n            window.sessionStorage.removeItem('currentDocument');\n            window.sessionStorage.removeItem('serviceURL');\n            window.sessionStorage.removeItem('unload');\n        };\n        /**\n         * @private\n         * @param {MouseEvent} event - Mouse event.\n         * @returns {void}\n         */\n        this.onWindowResize = function (event) {\n            var proxy = null;\n            proxy = _this;\n            if (_this.pdfViewer.enableRtl) {\n                // eslint-disable-next-line max-len\n                proxy.viewerContainer.style.right = (proxy.navigationPane.sideBarToolbar ? proxy.navigationPane.getViewerContainerLeft() : 0) + 'px';\n                // eslint-disable-next-line max-len\n                proxy.viewerContainer.style.left = (proxy.navigationPane.commentPanelContainer ? proxy.navigationPane.commentPanelContainer.offsetWidth : 0) + 'px';\n            }\n            else {\n                // eslint-disable-next-line max-len\n                proxy.viewerContainer.style.left = (proxy.navigationPane.sideBarToolbar ? proxy.navigationPane.getViewerContainerLeft() : 0) + 'px';\n                // eslint-disable-next-line max-len\n                proxy.viewerContainer.style.right = (proxy.navigationPane.commentPanelContainer ? proxy.navigationPane.commentPanelContainer.offsetWidth : 0) + 'px';\n            }\n            // eslint-disable-next-line\n            var viewerElementWidth = (proxy.pdfViewer.element.clientWidth > 0 ? proxy.pdfViewer.element.clientWidth : proxy.pdfViewer.element.style.width);\n            // eslint-disable-next-line\n            var viewerWidth = (viewerElementWidth - (proxy.navigationPane.sideBarToolbar ? proxy.navigationPane.getViewerContainerLeft() : 0) - (proxy.navigationPane.commentPanelContainer ? proxy.navigationPane.getViewerContainerRight() : 0));\n            proxy.viewerContainer.style.width = viewerWidth + 'px';\n            if (proxy.pdfViewer.toolbarModule) {\n                // eslint-disable-next-line\n                var toolbarContainer = isBlazor() ? proxy.pdfViewer.element.querySelector('.e-pv-toolbar') : proxy.getElement('_toolbarContainer');\n                var toolbarHeight = 0;\n                var formDesignerToolbarHeight = 0;\n                if (toolbarContainer) {\n                    toolbarHeight = toolbarContainer.getBoundingClientRect().height;\n                }\n                if (proxy.isAnnotationToolbarHidden() || (Browser.isDevice && !_this.pdfViewer.enableDesktopMode)) {\n                    if (toolbarHeight === 0) {\n                        if (_this.navigationPane.isNavigationToolbarVisible) {\n                            // eslint-disable-next-line\n                            var navigationToolbar = proxy.getElement('_navigationToolbar');\n                            toolbarHeight = navigationToolbar.getBoundingClientRect().height;\n                        }\n                    }\n                    if (!proxy.isFormDesignerToolbarHidded()) {\n                        var formDesignerToolbar = proxy.getElement('_formdesigner_toolbar');\n                        formDesignerToolbarHeight = formDesignerToolbar ? formDesignerToolbar.getBoundingClientRect().height : 0;\n                    }\n                    // eslint-disable-next-line max-len\n                    proxy.viewerContainer.style.height = proxy.updatePageHeight(proxy.pdfViewer.element.getBoundingClientRect().height, toolbarHeight + formDesignerToolbarHeight);\n                }\n                else {\n                    // eslint-disable-next-line\n                    var annotationToolbarContainer = isBlazor() ? proxy.pdfViewer.element.querySelector('.e-pv-annotation-toolbar') : proxy.getElement('_annotation_toolbar');\n                    var annotationToolbarHeight = 0;\n                    if (annotationToolbarContainer) {\n                        annotationToolbarHeight = annotationToolbarContainer.getBoundingClientRect().height;\n                    }\n                    // eslint-disable-next-line max-len\n                    proxy.viewerContainer.style.height = proxy.updatePageHeight(proxy.pdfViewer.element.getBoundingClientRect().height, toolbarHeight + annotationToolbarHeight);\n                }\n            }\n            else {\n                proxy.viewerContainer.style.height = proxy.updatePageHeight(proxy.pdfViewer.element.getBoundingClientRect().height, 0);\n            }\n            if (proxy.pdfViewer.bookmarkViewModule && (Browser.isDevice && !_this.pdfViewer.enableDesktopMode)) {\n                var bookmarkContainer = proxy.getElement('_bookmarks_container');\n                if (bookmarkContainer) {\n                    bookmarkContainer.style.height = proxy.updatePageHeight(proxy.pdfViewer.element.getBoundingClientRect().height, 0);\n                }\n            }\n            if (proxy.viewerContainer.style.height === '0px') {\n                if (proxy.pdfViewer.height.toString() === 'auto') {\n                    proxy.pdfViewer.height = 500;\n                    proxy.viewerContainer.style.height = proxy.pdfViewer.height + 'px';\n                }\n                else {\n                    proxy.viewerContainer.style.height = proxy.pdfViewer.element.style.height;\n                }\n            }\n            if (proxy.viewerContainer.style.width === '0px') {\n                if (proxy.pdfViewer.width.toString() === 'auto') {\n                    proxy.pdfViewer.width = 500;\n                    proxy.viewerContainer.style.width = proxy.pdfViewer.width + 'px';\n                }\n                else {\n                    proxy.viewerContainer.style.width = proxy.pdfViewer.element.style.width;\n                }\n            }\n            proxy.pageContainer.style.width = proxy.viewerContainer.clientWidth + 'px';\n            if (proxy.viewerContainer.clientWidth === 0) {\n                proxy.pageContainer.style.width = proxy.pdfViewer.element.style.width;\n            }\n            if (!isBlazor()) {\n                if (proxy.pdfViewer.toolbarModule) {\n                    // eslint-disable-next-line max-len\n                    proxy.pdfViewer.toolbarModule.onToolbarResize((proxy.navigationPane.sideBarToolbar ? proxy.navigationPane.getViewerMainContainerWidth() : proxy.pdfViewer.element.clientWidth));\n                }\n            }\n            if (_this.pdfViewer.enableToolbar && _this.pdfViewer.thumbnailViewModule) {\n                proxy.pdfViewer.thumbnailViewModule.gotoThumbnailImage(proxy.currentPageNumber - 1);\n            }\n            if (proxy.pdfViewer.textSearchModule && (!Browser.isDevice || _this.pdfViewer.enableDesktopMode)) {\n                proxy.pdfViewer.textSearchModule.textSearchBoxOnResize();\n            }\n            if (viewerWidth !== 0) {\n                if (!proxy.navigationPane.isBookmarkListOpen) {\n                    proxy.updateZoomValue();\n                }\n            }\n            if (Browser.isDevice && !_this.pdfViewer.enableDesktopMode) {\n                proxy.mobileScrollerContainer.style.left = (viewerWidth - parseFloat(proxy.mobileScrollerContainer.style.width)) + 'px';\n                proxy.mobilePageNoContainer.style.left = (viewerWidth / 2) - (parseFloat(proxy.mobilePageNoContainer.style.width) / 2) + 'px';\n                proxy.mobilePageNoContainer.style.top = (proxy.pdfViewer.element.clientHeight / 2) + 'px';\n                proxy.updateMobileScrollerPosition();\n            }\n            else {\n                proxy.navigationPane.setResizeIconTop();\n                proxy.navigationPane.setCommentPanelResizeIconTop();\n                if (event && event.type === 'resize') {\n                    proxy.signatureModule.updateCanvasSize();\n                }\n            }\n            if (proxy.navigationPane.sideBarToolbar) {\n                proxy.navigationPane.sideBarToolbar.style.height = proxy.viewerContainer.style.height;\n            }\n        };\n        /**\n         * @param {MouseEvent} event - The MouseEvent.\n         * @returns {void}\n         */\n        this.viewerContainerOnMousedown = function (event) {\n            _this.isFreeTextContextMenu = false;\n            var isUpdate = false;\n            _this.isSelection = true;\n            if (event.button === 0 && !_this.getPopupNoteVisibleStatus() && !_this.isClickedOnScrollBar(event, false)) {\n                _this.isViewerMouseDown = true;\n                // eslint-disable-next-line\n                var target = event.target;\n                if (event.detail === 1 && target.className !== 'e-pdfviewer-formFields' && target.className !== 'free-text-input') {\n                    isUpdate = true;\n                    _this.focusViewerContainer(true);\n                }\n                _this.scrollPosition = _this.viewerContainer.scrollTop / _this.getZoomFactor();\n                _this.mouseX = event.clientX;\n                _this.mouseY = event.clientY;\n                _this.mouseLeft = event.clientX;\n                _this.mouseTop = event.clientY;\n                // eslint-disable-next-line\n                var isIE = !!document.documentMode;\n                if (_this.pdfViewer.textSelectionModule && !_this.isClickedOnScrollBar(event, true) && !_this.isTextSelectionDisabled) {\n                    if (!isIE && target.className !== 'e-pdfviewer-formFields' && target.className !== 'e-pdfviewer-ListBox' && target.className !== 'e-pv-formfield-dropdown'\n                        && target.className !== 'e-pv-formfield-listbox') {\n                        event.preventDefault();\n                    }\n                    if (target.className !== 'e-pv-droplet') {\n                        _this.pdfViewer.textSelectionModule.clearTextSelection();\n                    }\n                }\n            }\n            if (_this.isClickedOnScrollBar(event, false)) {\n                _this.isViewerMouseDown = true;\n            }\n            if (_this.isPanMode) {\n                _this.dragX = event.pageX;\n                _this.dragY = event.pageY;\n                // eslint-disable-next-line max-len\n                if (_this.viewerContainer.contains(event.target) && (event.target !== _this.viewerContainer) && (event.target !== _this.pageContainer) && _this.isPanMode) {\n                    _this.viewerContainer.style.cursor = 'grabbing';\n                }\n            }\n            if (_this.isShapeBasedAnnotationsEnabled()) {\n                _this.diagramMouseDown(event);\n            }\n            if (_this.pdfViewer.annotation && _this.pdfViewer.annotation.stickyNotesAnnotationModule.accordionContainer) {\n                if (!isUpdate) {\n                    _this.pdfViewer.annotationModule.stickyNotesAnnotationModule.isEditableElement = false;\n                    _this.updateCommentPanel();\n                    isUpdate = true;\n                }\n            }\n            if (isBlazor()) {\n                _this.mouseDownHandler(event);\n            }\n        };\n        /**\n         * @param {MouseEvent} event - The MouseEvent.\n         * @returns {void}\n         */\n        this.viewerContainerOnMouseup = function (event) {\n            if (!_this.getPopupNoteVisibleStatus()) {\n                if (_this.isViewerMouseDown) {\n                    if (_this.scrollHoldTimer) {\n                        clearTimeout(_this.scrollHoldTimer);\n                        _this.scrollHoldTimer = null;\n                    }\n                    if ((_this.scrollPosition * _this.getZoomFactor()) !== _this.viewerContainer.scrollTop) {\n                        _this.pageViewScrollChanged(_this.currentPageNumber);\n                    }\n                }\n                var isSignatureFieldReadOnly = false;\n                if (event.target) {\n                    if (event.target.className == 'e-pv-show-designer-name' && event.target.id.split('_', 1) != '') {\n                        isSignatureFieldReadOnly = document.getElementById(event.target.id.split('_', 1)).disabled;\n                    }\n                    if (event.target.className == 'foreign-object' && event.target.children[0]) {\n                        isSignatureFieldReadOnly = event.target.children[0].disabled;\n                    }\n                }\n                if (isSignatureFieldReadOnly && _this.pdfViewer.annotation) {\n                    _this.pdfViewer.annotation.clearSelection();\n                }\n                if (_this.isShapeBasedAnnotationsEnabled() && !isSignatureFieldReadOnly) {\n                    _this.diagramMouseUp(event);\n                    if (_this.pdfViewer.annotation) {\n                        _this.pdfViewer.annotation.onAnnotationMouseUp();\n                    }\n                }\n                if (_this.pdfViewer.selectedItems.formFields.length > 0) {\n                    // eslint-disable-next-line max-len\n                    if (!isNullOrUndefined(_this.pdfViewer.toolbar) && !isNullOrUndefined(_this.pdfViewer.toolbar.formDesignerToolbarModule) && !Browser.isDevice) {\n                        _this.pdfViewer.toolbar.formDesignerToolbarModule.showHideDeleteIcon(true);\n                    }\n                }\n                else {\n                    // eslint-disable-next-line max-len\n                    if (!isNullOrUndefined(_this.pdfViewer.toolbar) && !isNullOrUndefined(_this.pdfViewer.toolbar.formDesignerToolbarModule) && !Browser.isDevice) {\n                        _this.pdfViewer.toolbar.formDesignerToolbarModule.showHideDeleteIcon(false);\n                    }\n                }\n                _this.isSelection = false;\n                // eslint-disable-next-line max-len\n                var commentElement = document.getElementById(_this.pdfViewer.element.id + '_commantPanel');\n                if (commentElement && commentElement.style.display === 'block') {\n                    if (_this.pdfViewer.selectedItems) {\n                        if (_this.pdfViewer.selectedItems.annotations.length !== 0) {\n                            // eslint-disable-next-line\n                            var accordionExpand = document.getElementById(_this.pdfViewer.element.id + '_accordionContainer' + _this.pdfViewer.currentPageNumber);\n                            if (accordionExpand) {\n                                accordionExpand.ej2_instances[0].expandItem(true);\n                            }\n                            // eslint-disable-next-line\n                            var commentsDiv = document.getElementById(_this.pdfViewer.selectedItems.annotations[0].annotName);\n                            if (commentsDiv) {\n                                if (!commentsDiv.classList.contains('e-pv-comments-border')) {\n                                    commentsDiv.firstChild.click();\n                                }\n                            }\n                        }\n                    }\n                }\n                if (event.button === 0 && !_this.isClickedOnScrollBar(event, false)) {\n                    // 0 is for left button.\n                    var eventTarget = event.target;\n                    var offsetX = event.clientX;\n                    var offsetY = event.clientY;\n                    var zoomFactor = _this.getZoomFactor();\n                    var pageIndex = _this.currentPageNumber;\n                    if (eventTarget) {\n                        // eslint-disable-next-line\n                        var pageString = eventTarget.id.split('_text_')[1] || eventTarget.id.split('_textLayer_')[1] || eventTarget.id.split('_annotationCanvas_')[1] || eventTarget.id.split('_pageDiv_')[1];\n                        // eslint-disable-next-line\n                        pageIndex = parseInt(pageString);\n                    }\n                    var pageDiv = _this.getElement('_pageDiv_' + pageIndex);\n                    if (pageDiv) {\n                        var pageCurrentRect = pageDiv.getBoundingClientRect();\n                        offsetX = (event.clientX - pageCurrentRect.left) / zoomFactor;\n                        offsetY = (event.clientY - pageCurrentRect.top) / zoomFactor;\n                    }\n                    // eslint-disable-next-line max-len\n                    if (eventTarget && eventTarget.classList && !eventTarget.classList.contains('e-pv-hyperlink') && !eventTarget.classList.contains('e-pv-page-container')) {\n                        // eslint-disable-next-line\n                        _this.pdfViewer.firePageClick(offsetX, offsetY, pageIndex + 1);\n                        if (_this.pdfViewer.formFieldsModule && !_this.pdfViewer.formDesignerModule) {\n                            _this.pdfViewer.formFieldsModule.removeFocus();\n                        }\n                    }\n                    if (_this.isTextMarkupAnnotationModule() && !_this.isToolbarInkClicked) {\n                        _this.pdfViewer.annotationModule.textMarkupAnnotationModule.onTextMarkupAnnotationMouseUp(event);\n                    }\n                    if (_this.pdfViewer.formDesignerModule && !_this.pdfViewer.annotationModule) {\n                        _this.pdfViewer.formDesignerModule.updateCanvas(pageIndex);\n                    }\n                    // eslint-disable-next-line max-len\n                    if (_this.viewerContainer.contains(event.target) && (event.target !== _this.viewerContainer) && (event.target !== _this.pageContainer) && _this.isPanMode) {\n                        _this.viewerContainer.style.cursor = 'move';\n                        _this.viewerContainer.style.cursor = '-webkit-grab';\n                        _this.viewerContainer.style.cursor = '-moz-grab';\n                        _this.viewerContainer.style.cursor = 'grab';\n                    }\n                }\n                _this.isViewerMouseDown = false;\n            }\n        };\n        /**\n         * @param {WheelEvent} event - The MouseEvent.\n         * @returns {void}\n         */\n        this.viewerContainerOnMouseWheel = function (event) {\n            _this.isViewerMouseWheel = true;\n            if (_this.getRerenderCanvasCreated()) {\n                event.preventDefault();\n            }\n            if (event.ctrlKey) {\n                var zoomDifference = 25;\n                if (_this.pdfViewer.magnification.zoomFactor < 1) {\n                    zoomDifference = 10;\n                }\n                if (_this.pdfViewer.magnification.zoomFactor >= 2) {\n                    zoomDifference = 50;\n                }\n                // eslint-disable-next-line\n                if (event.wheelDelta > 0) {\n                    _this.pdfViewer.magnification.zoomTo((_this.pdfViewer.magnification.zoomFactor * 100) + zoomDifference);\n                }\n                else {\n                    _this.pdfViewer.magnification.zoomTo((_this.pdfViewer.magnification.zoomFactor * 100) - zoomDifference);\n                }\n            }\n            if (_this.pdfViewer.magnificationModule) {\n                _this.pdfViewer.magnificationModule.pageRerenderOnMouseWheel();\n                if (event.ctrlKey) {\n                    event.preventDefault();\n                }\n                _this.pdfViewer.magnificationModule.fitPageScrollMouseWheel(event);\n            }\n            if (_this.pdfViewer.textSelectionModule && !_this.isTextSelectionDisabled) {\n                if (_this.isViewerMouseDown) {\n                    if (!event.target.classList.contains('e-pv-text')) {\n                        _this.pdfViewer.textSelectionModule.textSelectionOnMouseWheel(_this.currentPageNumber - 1);\n                    }\n                }\n            }\n        };\n        /**\n         * @param {KeyboardEvent} event - The KeyboardEvent.\n         * @returns {void}\n         */\n        this.onWindowKeyDown = function (event) {\n            var isMac = navigator.platform.match(/(Mac|iPhone|iPod|iPad)/i) ? true : false;\n            var isCommandKey = isMac ? event.metaKey : false;\n            if ((_this.isFreeTextAnnotationModule() && _this.pdfViewer.annotationModule\n                && (_this.pdfViewer.annotationModule.freeTextAnnotationModule.isInuptBoxInFocus === true\n                    || _this.pdfViewer.annotationModule.inputElementModule.isInFocus === true))) {\n                return;\n            }\n            if (!event.ctrlKey || !isCommandKey) {\n                switch (event.keyCode) {\n                    case 27:\n                        if (_this.pdfViewer.toolbar) {\n                            _this.pdfViewer.toolbar.addInkAnnotation();\n                            _this.pdfViewer.toolbar.deSelectCommentAnnotation();\n                            _this.pdfViewer.toolbar.updateStampItems();\n                            if (_this.pdfViewer.toolbar.annotationToolbarModule) {\n                                if (isBlazor()) {\n                                    _this.pdfViewer.toolbar.annotationToolbarModule.deselectAllItemsInBlazor();\n                                }\n                                else {\n                                    _this.pdfViewer.toolbar.annotationToolbarModule.deselectAllItems();\n                                }\n                            }\n                            _this.pdfViewer.tool = '';\n                            _this.focusViewerContainer();\n                        }\n                        break;\n                    case 9:\n                        if (event.target && event.target.id && _this.pdfViewer.formFields) {\n                            for (var i = 0; i < _this.pdfViewer.formFields.length; i++) {\n                                var formField = _this.pdfViewer.formFields[i];\n                                if (event.target.id === formField.id) {\n                                    // eslint-disable-next-line\n                                    var field = {\n                                        value: formField.value, fontFamily: formField.fontFamily, fontSize: formField.fontSize, fontStyle: formField.fontStyle,\n                                        // eslint-disable-next-line\n                                        color: formField.color, backgroundColor: formField.backgroundColor, alignment: formField.alignment, isReadonly: formField.isReadonly, visibility: formField.visibility,\n                                        // eslint-disable-next-line\n                                        maxLength: formField.maxLength, isRequired: formField.isRequired, isPrint: formField.isPrint, rotation: formField.rotateAngle, tooltip: formField.tooltip,\n                                        // eslint-disable-next-line\n                                        options: formField.options, isChecked: formField.isChecked, isSelected: formField.isSelected\n                                    };\n                                    _this.pdfViewer.fireFocusOutFormField(field, formField.pageIndex);\n                                }\n                            }\n                        }\n                        break;\n                }\n            }\n        };\n        /**\n         * @param {KeyboardEvent} event - The KeyboardEvent.\n         * @returns {void}\n         */\n        this.viewerContainerOnKeyDown = function (event) {\n            var isMac = navigator.platform.match(/(Mac|iPhone|iPod|iPad)/i) ? true : false;\n            var isCommandKey = isMac ? event.metaKey : false;\n            if ((_this.isFreeTextAnnotationModule() && _this.pdfViewer.annotationModule\n                && (_this.pdfViewer.annotationModule.freeTextAnnotationModule.isInuptBoxInFocus === true\n                    || _this.pdfViewer.annotationModule.inputElementModule.isInFocus === true))) {\n                return;\n            }\n            if (event.ctrlKey || isCommandKey) {\n                // add keycodes if shift key is used.\n                if ((event.shiftKey && !isMac) || (isMac && !event.shiftKey)) {\n                    switch (event.keyCode) {\n                        case 38: // up arrow\n                        case 33: // page up\n                            event.preventDefault();\n                            if (_this.currentPageNumber !== 1) {\n                                _this.updateScrollTop(0);\n                            }\n                            break;\n                        case 40: // down arrow\n                        case 34: // page down\n                            event.preventDefault();\n                            if (_this.currentPageNumber !== _this.pageCount) {\n                                _this.updateScrollTop(_this.pageCount - 1);\n                            }\n                            break;\n                        default:\n                            break;\n                    }\n                }\n                switch (event.keyCode) {\n                    case 79: // o key\n                        if (_this.pdfViewer.toolbarModule && _this.pdfViewer.enableToolbar) {\n                            _this.pdfViewer.toolbarModule.openFileDialogBox(event);\n                        }\n                        break;\n                    case 67: // c key\n                        if (_this.pdfViewer.textSelectionModule && _this.pdfViewer.enableTextSelection && !_this.isTextSelectionDisabled) {\n                            event.preventDefault();\n                            _this.pdfViewer.textSelectionModule.copyText();\n                        }\n                        if (_this.pdfViewer.selectedItems.annotations.length || _this.pdfViewer.selectedItems.formFields.length) {\n                            _this.pdfViewer.copy();\n                            _this.contextMenuModule.previousAction = 'Copy';\n                        }\n                        break;\n                    case 70: // f key\n                        if (_this.pdfViewer.textSearchModule && _this.pdfViewer.enableTextSearch) {\n                            event.preventDefault();\n                            _this.pdfViewer.toolbarModule.textSearchButtonHandler();\n                        }\n                        break;\n                    case 80: // p key\n                        if (_this.pdfViewer.printModule && _this.pdfViewer.enablePrint) {\n                            event.preventDefault();\n                            _this.pdfViewer.print.print();\n                        }\n                        break;\n                    case 90: //z key\n                        if (_this.pdfViewer.annotationModule) {\n                            _this.pdfViewer.annotationModule.undo();\n                        }\n                        break;\n                    case 88: //x key\n                        if (_this.pdfViewer.selectedItems.annotations.length || _this.pdfViewer.selectedItems.formFields.length) {\n                            _this.pdfViewer.cut();\n                            _this.contextMenuModule.previousAction = 'Cut';\n                        }\n                        break;\n                    case 89: //y key\n                        if (_this.pdfViewer.annotationModule) {\n                            _this.pdfViewer.annotationModule.redo();\n                        }\n                        break;\n                    case 86: //v key\n                        // eslint-disable-next-line max-len\n                        if ((_this.pdfViewer.annotation && _this.pdfViewer.annotation.isShapeCopied) || (_this.pdfViewer.formFields && _this.pdfViewer.formDesigner.isShapeCopied)) {\n                            _this.pdfViewer.paste();\n                            _this.contextMenuModule.previousAction = 'Paste';\n                        }\n                        break;\n                    default:\n                        break;\n                }\n            }\n            else {\n                switch (event.keyCode) {\n                    case 46:\n                        _this.DeleteKeyPressed(event);\n                        break;\n                }\n            }\n            if (_this.pdfViewer.magnificationModule) {\n                _this.pdfViewer.magnificationModule.magnifyBehaviorKeyDown(event);\n            }\n        };\n        /**\n         * @param {MouseEvent} event - The MouseEvent.\n         * @returns {void}\n         */\n        this.viewerContainerOnMousemove = function (event) {\n            _this.mouseX = event.clientX;\n            _this.mouseY = event.clientY;\n            // eslint-disable-next-line\n            var isIE = !!document.documentMode;\n            var target = event.target;\n            if (_this.action === 'Drag') {\n                event.preventDefault();\n            }\n            // eslint-disable-next-line max-len\n            if (_this.isViewerMouseDown && !(_this.action === 'Perimeter' || _this.action === 'Polygon' || _this.action === 'Line' || _this.action === 'DrawTool' || _this.action === 'Distance')) {\n                // eslint-disable-next-line max-len\n                if (_this.pdfViewer.textSelectionModule && _this.pdfViewer.enableTextSelection && !_this.isTextSelectionDisabled && !_this.getPopupNoteVisibleStatus()) {\n                    // text selection won't perform if we start the selection from hyperlink content by commenting this line.\n                    // this region block the toc/hyperlink navigation on sometimes.\n                    // if ((event.target as HTMLElement).classList.contains('e-pv-hyperlink') && this.pdfViewer.linkAnnotationModule) {\n                    // this.pdfViewer.linkAnnotationModule.modifyZindexForHyperlink((event.target as HTMLElement), true);\n                    // }\n                    if (!isIE) {\n                        if (event.target.className != 'e-pdfviewer-formFields')\n                            event.preventDefault();\n                        _this.mouseX = event.clientX;\n                        _this.mouseY = event.clientY;\n                        // eslint-disable-next-line\n                        var annotationModule = _this.pdfViewer.annotationModule;\n                        // eslint-disable-next-line max-len\n                        if (annotationModule && annotationModule.textMarkupAnnotationModule && annotationModule.textMarkupAnnotationModule.isDropletClicked && annotationModule.textMarkupAnnotationModule.isEnableTextMarkupResizer(annotationModule.textMarkupAnnotationModule.currentTextMarkupAddMode)) {\n                            annotationModule.textMarkupAnnotationModule.textSelect(event.target, _this.mouseX, _this.mouseY);\n                        }\n                        else {\n                            _this.pdfViewer.textSelectionModule.textSelectionOnMouseMove(event.target, _this.mouseX, _this.mouseY);\n                        }\n                    }\n                    else {\n                        var selection = window.getSelection();\n                        if (!selection.type && !selection.isCollapsed && selection.anchorNode !== null) {\n                            _this.pdfViewer.textSelectionModule.isTextSelection = true;\n                        }\n                    }\n                }\n                else if (_this.skipPreventDefault(target)) {\n                    event.preventDefault();\n                }\n            }\n            if (_this.isTextMarkupAnnotationModule() && !_this.getPopupNoteVisibleStatus()) {\n                _this.pdfViewer.annotationModule.textMarkupAnnotationModule.onTextMarkupAnnotationMouseMove(event);\n            }\n            if (_this.isPanMode) {\n                _this.panOnMouseMove(event);\n            }\n            if (_this.isShapeBasedAnnotationsEnabled()) {\n                var canvas = void 0;\n                // eslint-disable-next-line max-len\n                if (event.target && (event.target.id.indexOf('_text') > -1 || (event.target.parentElement.classList.contains('foreign-object')) || event.target.id.indexOf('_annotationCanvas') > -1 || event.target.classList.contains('e-pv-hyperlink')) && _this.pdfViewer.annotation) {\n                    var pageIndex = _this.pdfViewer.annotation.getEventPageNumber(event);\n                    var diagram = document.getElementById(_this.pdfViewer.element.id + '_annotationCanvas_' + pageIndex);\n                    if (diagram) {\n                        var canvas1 = diagram.getBoundingClientRect();\n                        var left = canvas1.x ? canvas1.x : canvas1.left;\n                        var top_1 = canvas1.y ? canvas1.y : canvas1.top;\n                        // eslint-disable-next-line max-len\n                        if (_this.pdfViewer.annotationModule.stampAnnotationModule.currentStampAnnotation && _this.pdfViewer.annotationModule.stampAnnotationModule.currentStampAnnotation.shapeAnnotationType === 'Image') {\n                            canvas = new Rect(left, top_1, canvas1.width - 10, canvas1.height - 10);\n                        }\n                        else {\n                            canvas = new Rect(left + 10, top_1 + 10, canvas1.width - 10, canvas1.height - 10);\n                        }\n                    }\n                }\n                else if (!_this.pdfViewer.annotationModule && _this.pdfViewer.formDesignerModule) {\n                    var pageIndex = _this.pdfViewer.formDesignerModule.getEventPageNumber(event);\n                    var diagram = document.getElementById(_this.pdfViewer.element.id + '_annotationCanvas_' + pageIndex);\n                    if (diagram) {\n                        var canvas1 = diagram.getBoundingClientRect();\n                        var left = canvas1.x ? canvas1.x : canvas1.left;\n                        var top_2 = canvas1.y ? canvas1.y : canvas1.top;\n                        canvas = new Rect(left + 10, top_2 + 10, canvas1.width - 10, canvas1.height - 10);\n                    }\n                }\n                // eslint-disable-next-line max-len\n                var stampModule = _this.pdfViewer.annotationModule ? _this.pdfViewer.annotationModule.stampAnnotationModule : null;\n                if (canvas && canvas.containsPoint({ x: _this.mouseX, y: _this.mouseY }) && !(stampModule && stampModule.isStampAnnotSelected)) {\n                    _this.diagramMouseMove(event);\n                    _this.annotationEvent = event;\n                }\n                else {\n                    _this.diagramMouseLeave(event);\n                    if (_this.isAnnotationDrawn && _this.action !== 'Ink') {\n                        _this.diagramMouseUp(event);\n                        _this.isAnnotationAdded = true;\n                    }\n                }\n                if (_this.pdfViewer.enableStampAnnotations) {\n                    if (stampModule && stampModule.isStampAnnotSelected) {\n                        _this.pdfViewer.tool = 'Stamp';\n                        _this.tool = new StampTool(_this.pdfViewer, _this);\n                        _this.isMouseDown = true;\n                        stampModule.isStampAnnotSelected = false;\n                        stampModule.isNewStampAnnot = true;\n                    }\n                }\n                if (_this.isSignatureAdded && _this.pdfViewer.enableHandwrittenSignature) {\n                    _this.pdfViewer.tool = 'Stamp';\n                    _this.tool = new StampTool(_this.pdfViewer, _this);\n                    _this.isMouseDown = true;\n                    _this.isSignatureAdded = false;\n                    _this.isNewSignatureAdded = true;\n                }\n            }\n        };\n        /**\n         * @param {MouseEvent} event - The MouseEvent.\n         * @returns {void}\n         */\n        this.panOnMouseMove = function (event) {\n            var isStampMode = false;\n            // eslint-disable-next-line max-len\n            if (_this.action === 'Ink' || _this.action === \"Line\" || _this.action === 'Perimeter' || _this.action === 'Polygon' || _this.action === 'DrawTool' || _this.action === 'Drag' || _this.action.indexOf('Rotate') !== -1 || _this.action.indexOf('Resize') !== -1) {\n                isStampMode = true;\n            }\n            // eslint-disable-next-line max-len\n            if (_this.viewerContainer.contains(event.target) && (event.target !== _this.viewerContainer) && (event.target !== _this.pageContainer) && !isStampMode) {\n                if (_this.isViewerMouseDown) {\n                    var deltaX = _this.dragX - event.pageX;\n                    var deltaY = _this.dragY - event.pageY;\n                    _this.viewerContainer.scrollTop = _this.viewerContainer.scrollTop + deltaY;\n                    _this.viewerContainer.scrollLeft = _this.viewerContainer.scrollLeft + deltaX;\n                    _this.viewerContainer.style.cursor = 'move';\n                    _this.viewerContainer.style.cursor = '-webkit-grabbing';\n                    _this.viewerContainer.style.cursor = '-moz-grabbing';\n                    _this.viewerContainer.style.cursor = 'grabbing';\n                    _this.dragX = event.pageX;\n                    _this.dragY = event.pageY;\n                }\n                else {\n                    if (!_this.navigationPane.isNavigationPaneResized) {\n                        _this.viewerContainer.style.cursor = 'move';\n                        _this.viewerContainer.style.cursor = '-webkit-grab';\n                        _this.viewerContainer.style.cursor = '-moz-grab';\n                        _this.viewerContainer.style.cursor = 'grab';\n                    }\n                }\n            }\n            else {\n                if (!_this.navigationPane.isNavigationPaneResized) {\n                    _this.viewerContainer.style.cursor = 'auto';\n                }\n            }\n        };\n        /**\n         * @param {MouseEvent} event - The MouseEvent.\n         * @returns {void}\n         */\n        this.viewerContainerOnMouseLeave = function (event) {\n            if (_this.isViewerMouseDown) {\n                if (_this.pdfViewer.textSelectionModule && !_this.isTextSelectionDisabled) {\n                    _this.pdfViewer.textSelectionModule.textSelectionOnMouseLeave(event);\n                }\n            }\n            if (_this.pdfViewer.textSelectionModule && _this.pdfViewer.textSelectionModule.isTextSelection) {\n                event.preventDefault();\n            }\n        };\n        /**\n         * @param {MouseEvent} event - The MouseEvent.\n         * @returns {void}\n         */\n        this.viewerContainerOnMouseEnter = function (event) {\n            if (_this.pdfViewer.textSelectionModule && !_this.isTextSelectionDisabled) {\n                _this.pdfViewer.textSelectionModule.clear();\n            }\n        };\n        /**\n         * @param {MouseEvent} event - The MouseEvent.\n         * @returns {void}\n         */\n        this.viewerContainerOnMouseOver = function (event) {\n            // eslint-disable-next-line\n            var isIE = !!document.documentMode;\n            if (_this.isViewerMouseDown) {\n                if (!isIE) {\n                    event.preventDefault();\n                }\n            }\n        };\n        /**\n         * @param {MouseEvent} event - The MouseEvent.\n         * @returns {void}\n         */\n        this.viewerContainerOnClick = function (event) {\n            if (event.type === 'dblclick') {\n                if (_this.pdfViewer.textSelectionModule && !_this.isTextSelectionDisabled && !_this.getCurrentTextMarkupAnnotation()) {\n                    if (event.target.classList.contains('e-pv-text')) {\n                        _this.isViewerContainerDoubleClick = true;\n                        if (!_this.getTextMarkupAnnotationMode()) {\n                            var pageNumber = parseFloat(event.target.id.split('_')[2]);\n                            _this.pdfViewer.fireTextSelectionStart(pageNumber + 1);\n                        }\n                        _this.pdfViewer.textSelectionModule.selectAWord(event.target, event.clientX, event.clientY, false);\n                        if (_this.pdfViewer.contextMenuSettings.contextMenuAction === 'MouseUp') {\n                            _this.pdfViewer.textSelectionModule.calculateContextMenuPosition(event.clientY, event.clientX);\n                        }\n                        if (!_this.getTextMarkupAnnotationMode()) {\n                            _this.pdfViewer.textSelectionModule.maintainSelectionOnZoom(true, false);\n                            _this.dblClickTimer = setTimeout(function () {\n                                _this.applySelection();\n                            }, 100);\n                            _this.pdfViewer.textSelectionModule.fireTextSelectEnd();\n                        }\n                        else if (_this.isTextMarkupAnnotationModule() && _this.getTextMarkupAnnotationMode()) {\n                            // eslint-disable-next-line max-len\n                            _this.pdfViewer.annotationModule.textMarkupAnnotationModule.drawTextMarkupAnnotations(_this.pdfViewer.annotationModule.textMarkupAnnotationModule.currentTextMarkupAddMode);\n                        }\n                    }\n                }\n                else if (_this.getCurrentTextMarkupAnnotation()) {\n                    // this.pdfViewer.annotationModule.showAnnotationPopup(event);\n                }\n                if (_this.action && (_this.action === 'Perimeter' || _this.action === 'Polygon') && _this.tool) {\n                    _this.eventArgs.position = _this.currentPosition;\n                    _this.getMouseEventArgs(_this.currentPosition, _this.eventArgs, event, _this.eventArgs.source);\n                    var ctrlKey = _this.isMetaKey(event);\n                    var info = { ctrlKey: event.ctrlKey, shiftKey: event.shiftKey };\n                    _this.eventArgs.info = info;\n                    _this.eventArgs.clickCount = event.detail;\n                    _this.tool.mouseUp(_this.eventArgs, true);\n                }\n                if (_this.pdfViewer.selectedItems ||\n                    (_this.pdfViewer.annotation && _this.pdfViewer.annotationModule.textMarkupAnnotationModule.currentTextMarkupAnnotation)) {\n                    if (_this.pdfViewer.selectedItems.annotations.length !== 0) {\n                        // eslint-disable-next-line\n                        var currentAnnotation = _this.pdfViewer.selectedItems.annotations[0];\n                        // eslint-disable-next-line max-len\n                        if (_this.pdfViewer.annotationModule && !currentAnnotation.formFieldAnnotationType) {\n                            // eslint-disable-next-line max-len\n                            _this.pdfViewer.annotationModule.annotationSelect(currentAnnotation.annotName, currentAnnotation.pageIndex, currentAnnotation, null, true);\n                            if (_this.pdfViewer.annotationModule.freeTextAnnotationModule.isInuptBoxInFocus === false) {\n                                if (_this.isFreeTextAnnotation(_this.pdfViewer.selectedItems.annotations) === true) {\n                                    var elmtPosition = {};\n                                    elmtPosition.x = _this.pdfViewer.selectedItems.annotations[0].bounds.x;\n                                    elmtPosition.y = _this.pdfViewer.selectedItems.annotations[0].bounds.y;\n                                    // eslint-disable-next-line max-len\n                                    _this.pdfViewer.annotation.freeTextAnnotationModule.addInuptElemet(elmtPosition, _this.pdfViewer.selectedItems.annotations[0]);\n                                }\n                                else if (_this.pdfViewer.selectedItems.annotations[0].enableShapeLabel === true) {\n                                    var elmtPosition = {};\n                                    elmtPosition.x = _this.pdfViewer.selectedItems.annotations[0].bounds.x;\n                                    elmtPosition.y = _this.pdfViewer.selectedItems.annotations[0].bounds.y;\n                                    // eslint-disable-next-line max-len\n                                    _this.pdfViewer.annotation.inputElementModule.editLabel(elmtPosition, _this.pdfViewer.selectedItems.annotations[0]);\n                                }\n                                else {\n                                    // eslint-disable-next-line\n                                    var accordionExpand = document.getElementById(_this.pdfViewer.element.id + '_accordionContainer' + _this.pdfViewer.currentPageNumber);\n                                    if (accordionExpand) {\n                                        accordionExpand.ej2_instances[0].expandItem(true);\n                                    }\n                                    // eslint-disable-next-line\n                                    var commentsDiv = document.getElementById(_this.pdfViewer.selectedItems.annotations[0].annotName);\n                                    if (commentsDiv) {\n                                        if (!commentsDiv.classList.contains('e-pv-comments-border')) {\n                                            commentsDiv.firstChild.click();\n                                        }\n                                    }\n                                }\n                            }\n                        }\n                    }\n                    else {\n                        // eslint-disable-next-line max-len\n                        var annotation = _this.pdfViewer.annotation;\n                        var annotationModule = _this.pdfViewer.annotationModule;\n                        if (annotation && annotationModule.textMarkupAnnotationModule && annotationModule.textMarkupAnnotationModule.currentTextMarkupAnnotation) {\n                            // eslint-disable-next-line\n                            var annotation_1 = _this.pdfViewer.annotationModule.textMarkupAnnotationModule.currentTextMarkupAnnotation;\n                            // eslint-disable-next-line max-len\n                            _this.pdfViewer.annotationModule.annotationSelect(annotation_1.annotName, _this.pdfViewer.annotationModule.textMarkupAnnotationModule.selectTextMarkupCurrentPage, annotation_1, null, true);\n                            // eslint-disable-next-line\n                            var accordionExpand = document.getElementById(_this.pdfViewer.element.id + '_accordionContainer' + _this.currentPageNumber);\n                            if (accordionExpand) {\n                                accordionExpand.ej2_instances[0].expandItem(true);\n                            }\n                            // eslint-disable-next-line\n                            var comments = document.getElementById(annotation_1.annotName);\n                            if (comments) {\n                                comments.firstChild.click();\n                            }\n                        }\n                    }\n                }\n                if (_this.pdfViewer.designerMode && _this.pdfViewer.selectedItems.formFields.length > 0) {\n                    var eventArgs = { name: \"formFieldDoubleClick\", field: _this.pdfViewer.selectedItems.formFields[0], cancel: false };\n                    _this.pdfViewer.fireFormFieldDoubleClickEvent(eventArgs);\n                    if (!eventArgs.cancel) {\n                        _this.pdfViewer.formDesigner.createPropertiesWindow();\n                    }\n                }\n            }\n            else {\n                if (event.detail === 3) {\n                    if (_this.isViewerContainerDoubleClick) {\n                        clearTimeout(_this.dblClickTimer);\n                        _this.isViewerContainerDoubleClick = false;\n                    }\n                    if (_this.pdfViewer.textSelectionModule && !_this.isTextSelectionDisabled && !_this.getTextMarkupAnnotationMode()) {\n                        _this.pdfViewer.textSelectionModule.selectEntireLine(event);\n                        _this.pdfViewer.textSelectionModule.maintainSelectionOnZoom(true, false);\n                        _this.pdfViewer.textSelectionModule.fireTextSelectEnd();\n                        _this.applySelection();\n                    }\n                }\n            }\n        };\n        /**\n         * @param {DragEvent} event - The DragEvent.\n         * @returns {void}\n         */\n        this.viewerContainerOnDragStart = function (event) {\n            // eslint-disable-next-line\n            var isIE = !!document.documentMode;\n            if (!isIE) {\n                event.preventDefault();\n            }\n        };\n        // eslint-disable-next-line\n        this.viewerContainerOnContextMenuClick = function (event) {\n            _this.isViewerMouseDown = false;\n        };\n        // eslint-disable-next-line\n        this.onWindowMouseUp = function (event) {\n            _this.isFreeTextContextMenu = false;\n            _this.isNewStamp = false;\n            _this.signatureAdded = false;\n            // eslint-disable-next-line\n            var annotationModule = _this.pdfViewer.annotationModule;\n            // eslint-disable-next-line max-len\n            if (annotationModule && annotationModule.textMarkupAnnotationModule && annotationModule.textMarkupAnnotationModule.isEnableTextMarkupResizer(annotationModule.textMarkupAnnotationModule.currentTextMarkupAddMode)) {\n                // eslint-disable-next-line\n                var modules = annotationModule.textMarkupAnnotationModule;\n                modules.isLeftDropletClicked = false;\n                modules.isDropletClicked = false;\n                modules.isRightDropletClicked = false;\n                if (!modules.currentTextMarkupAnnotation && window.getSelection().anchorNode === null) {\n                    modules.showHideDropletDiv(true);\n                }\n                else if (!modules.currentTextMarkupAnnotation && modules.currentTextMarkupAddMode === '') {\n                    modules.isTextMarkupAnnotationMode = false;\n                }\n            }\n            if (!_this.getPopupNoteVisibleStatus()) {\n                if (event.button === 0) {\n                    // eslint-disable-next-line max-len\n                    if (_this.isNewFreeTextAnnotation()) {\n                        if (_this.pdfViewer.textSelectionModule && !_this.isTextSelectionDisabled && !_this.getTextMarkupAnnotationMode()) {\n                            // eslint-disable-next-line max-len\n                            if (event.detail === 1 && !_this.viewerContainer.contains(event.target) && !_this.contextMenuModule.contextMenuElement.contains(event.target)) {\n                                if (window.getSelection().anchorNode !== null) {\n                                    _this.pdfViewer.textSelectionModule.textSelectionOnMouseup(event);\n                                }\n                            }\n                            // eslint-disable-next-line\n                            var target = event.target;\n                            if (_this.viewerContainer.contains(event.target) && target.className !== 'e-pdfviewer-formFields' && target.className !== 'e-pv-formfield-input') {\n                                if (!_this.isClickedOnScrollBar(event, true) && !_this.isScrollbarMouseDown) {\n                                    _this.pdfViewer.textSelectionModule.textSelectionOnMouseup(event);\n                                }\n                                else {\n                                    if (window.getSelection().anchorNode !== null) {\n                                        _this.pdfViewer.textSelectionModule.applySpanForSelection();\n                                    }\n                                }\n                            }\n                        }\n                        else if (_this.getTextMarkupAnnotationMode()) {\n                            // eslint-disable-next-line\n                            var viewerElement = _this.pdfViewer.element;\n                            // eslint-disable-next-line\n                            var targetElement = event.target;\n                            if (viewerElement && targetElement) {\n                                if (viewerElement.id.split('_')[0] === targetElement.id.split('_')[0]) {\n                                    // eslint-disable-next-line max-len\n                                    _this.pdfViewer.annotationModule.textMarkupAnnotationModule.drawTextMarkupAnnotations(_this.pdfViewer.annotationModule.textMarkupAnnotationModule.currentTextMarkupAddMode);\n                                }\n                            }\n                        }\n                    }\n                }\n                else if (event.button === 2) {\n                    if (_this.viewerContainer.contains(event.target) && _this.skipPreventDefault(event.target)) {\n                        if (_this.checkIsNormalText()) {\n                            window.getSelection().removeAllRanges();\n                        }\n                    }\n                }\n                if (_this.isViewerMouseDown) {\n                    _this.isViewerMouseDown = false;\n                    if (_this.pdfViewer.textSelectionModule && !_this.isTextSelectionDisabled) {\n                        _this.pdfViewer.textSelectionModule.clear();\n                        _this.pdfViewer.textSelectionModule.selectionStartPage = null;\n                    }\n                    event.preventDefault();\n                    event.stopPropagation();\n                    return false;\n                }\n                else {\n                    return true;\n                }\n            }\n        };\n        /**\n         * @param {TouchEvent} event - The DragEvent.\n         * @returns {void}\n         */\n        this.onWindowTouchEnd = function (event) {\n            _this.signatureAdded = false;\n            // eslint-disable-next-line max-len\n            if (!_this.pdfViewer.element.contains(event.target) && !_this.contextMenuModule.contextMenuElement.contains(event.target)) {\n                if (_this.pdfViewer.textSelectionModule && !_this.isTextSelectionDisabled) {\n                    _this.pdfViewer.textSelectionModule.clearTextSelection();\n                }\n            }\n        };\n        /**\n         * @param {TouchEvent} event - The TouchEvent.\n         * @returns {void}\n         */\n        this.viewerContainerOnTouchStart = function (event) {\n            var touchPoints = event.touches;\n            if (_this.pdfViewer.magnificationModule) {\n                _this.pdfViewer.magnificationModule.setTouchPoints(touchPoints[0].clientX, touchPoints[0].clientY);\n            }\n            var target = event.target;\n            // eslint-disable-next-line max-len\n            if (touchPoints.length === 1 && !(target.classList.contains('e-pv-hyperlink')) && _this.skipPreventDefault(target)) {\n                _this.preventTouchEvent(event);\n            }\n            if (event.touches.length === 1 && _this.isTextMarkupAnnotationModule() && !_this.getPopupNoteVisibleStatus()) {\n                if (!_this.isToolbarInkClicked) {\n                    _this.pdfViewer.annotationModule.textMarkupAnnotationModule.onTextMarkupAnnotationTouchEnd(event);\n                }\n            }\n            _this.touchClientX = touchPoints[0].clientX;\n            _this.touchClientY = touchPoints[0].clientY;\n            _this.scrollY = touchPoints[0].clientY;\n            _this.previousTime = new Date().getTime();\n            // eslint-disable-next-line max-len\n            if (touchPoints.length === 1 && !(event.target.classList.contains('e-pv-touch-select-drop') || event.target.classList.contains('e-pv-touch-ellipse'))) {\n                if ((Browser.isDevice && !_this.pdfViewer.enableDesktopMode) && _this.pageCount > 0 && !_this.isThumb && !(event.target.classList.contains('e-pv-hyperlink'))) {\n                    _this.handleTaps(touchPoints);\n                }\n                if (!isBlazor() || !Browser.isDevice || _this.pdfViewer.enableDesktopMode) {\n                    _this.handleTextBoxTaps(touchPoints);\n                }\n                var designerMode = _this.isDesignerMode(target);\n                if (designerMode) {\n                    _this.contextMenuModule.close();\n                    // event.preventDefault();\n                    if (!_this.isLongTouchPropagated) {\n                        _this.longTouchTimer = setTimeout(function () {\n                            if (!_this.isMoving) {\n                                _this.isTouchDesignerMode = true;\n                                _this.contextMenuModule.open(_this.touchClientY, _this.touchClientX, _this.viewerContainer);\n                            }\n                        }, 1000);\n                    }\n                    _this.isLongTouchPropagated = true;\n                    _this.isMoving = false;\n                }\n                else if ((_this.pdfViewer.textSelectionModule && !_this.isTextSelectionDisabled)) {\n                    _this.pdfViewer.textSelectionModule.clearTextSelection();\n                    _this.contextMenuModule.close();\n                    // event.preventDefault();\n                    if (!_this.isLongTouchPropagated) {\n                        _this.longTouchTimer = setTimeout(function () {\n                            _this.viewerContainerOnLongTouch(event);\n                        }, 1000);\n                    }\n                    _this.isLongTouchPropagated = true;\n                }\n            }\n            // eslint-disable-next-line\n            var toolbarModule = _this.pdfViewer.toolbarModule ? _this.pdfViewer.toolbarModule.annotationToolbarModule : 'null';\n            if (target.classList.contains('e-pv-text') && (!toolbarModule || !toolbarModule.textMarkupToolbarElement || toolbarModule.textMarkupToolbarElement.children.length === 0)) {\n                target.classList.add('e-pv-text-selection-none');\n            }\n            _this.diagramMouseDown(event);\n            // eslint-disable-next-line max-len\n            if (_this.action === 'Perimeter' || _this.action === 'Polygon' || _this.action === 'DrawTool' || _this.action === 'Drag' || _this.action.indexOf('Rotate') !== -1 || _this.action.indexOf('Resize') !== -1) {\n                event.preventDefault();\n            }\n        };\n        /**\n         * @param {TouchEvent} event - The TouchEvent.\n         * @returns {void}\n         */\n        this.viewerContainerOnLongTouch = function (event) {\n            _this.touchClientX = event.touches[0].clientX;\n            _this.touchClientY = event.touches[0].clientY;\n            event.preventDefault();\n            if (_this.pdfViewer.textSelectionModule) {\n                var target = event.target;\n                if (target.classList.contains('e-pv-text-selection-none')) {\n                    target.classList.remove('e-pv-text-selection-none');\n                }\n                _this.pdfViewer.textSelectionModule.initiateTouchSelection(event, _this.touchClientX, _this.touchClientY);\n                if (Browser.isDevice && !_this.pdfViewer.enableDesktopMode) {\n                    clearTimeout(_this.singleTapTimer);\n                    _this.tapCount = 0;\n                }\n            }\n        };\n        /**\n         * @param {PointerEvent} event - The PointerEvent.\n         * @returns {void}\n         */\n        this.viewerContainerOnPointerDown = function (event) {\n            if (event.pointerType === 'touch') {\n                _this.pointerCount++;\n                if (_this.pointerCount <= 2) {\n                    event.preventDefault();\n                    _this.pointersForTouch.push(event);\n                    if (_this.pointerCount === 2) {\n                        _this.pointerCount = 0;\n                    }\n                    if (_this.pdfViewer.magnificationModule) {\n                        _this.pdfViewer.magnificationModule.setTouchPoints(event.clientX, event.clientY);\n                    }\n                }\n            }\n        };\n        /**\n         * @param {TouchEvent} event - The TouchEvent.\n         * @returns {void}\n         */\n        this.viewerContainerOnTouchMove = function (event) {\n            if (_this.action === 'Drag') {\n                _this.isMoving = true;\n            }\n            if (Browser.isDevice && !_this.pdfViewer.enableDesktopMode) {\n                clearTimeout(_this.singleTapTimer);\n                _this.tapCount = 0;\n            }\n            _this.preventTouchEvent(event);\n            if (_this.isToolbarInkClicked) {\n                event.preventDefault();\n            }\n            var touchPoints = event.touches;\n            if (_this.pdfViewer.magnificationModule) {\n                _this.isTouchScrolled = true;\n                if (touchPoints.length > 1 && _this.pageCount > 0) {\n                    if (Browser.isDevice && !_this.pdfViewer.enableDesktopMode) {\n                        _this.isTouchScrolled = false;\n                    }\n                    if (_this.pdfViewer.enablePinchZoom) {\n                        // eslint-disable-next-line max-len\n                        _this.pdfViewer.magnificationModule.initiatePinchMove(touchPoints[0].clientX, touchPoints[0].clientY, touchPoints[1].clientX, touchPoints[1].clientY);\n                    }\n                }\n                else if (touchPoints.length === 1 && _this.getPagesPinchZoomed()) {\n                    if (Browser.isDevice && !_this.pdfViewer.enableDesktopMode) {\n                        _this.isTouchScrolled = false;\n                    }\n                    _this.pdfViewer.magnificationModule.pinchMoveScroll();\n                }\n            }\n            _this.mouseX = touchPoints[0].clientX;\n            _this.mouseY = touchPoints[0].clientY;\n            var canvas;\n            // eslint-disable-next-line max-len\n            if (event.target && (event.target.id.indexOf('_text') > -1 || event.target.id.indexOf('_annotationCanvas') > -1 || event.target.classList.contains('e-pv-hyperlink')) && _this.pdfViewer.annotation) {\n                var pageIndex = _this.pdfViewer.annotation.getEventPageNumber(event);\n                var diagram = document.getElementById(_this.pdfViewer.element.id + '_annotationCanvas_' + pageIndex);\n                if (diagram) {\n                    var canvas1 = diagram.getBoundingClientRect();\n                    var left = canvas1.x ? canvas1.x : canvas1.left;\n                    var top_3 = canvas1.y ? canvas1.y : canvas1.top;\n                    canvas = new Rect(left + 10, top_3 + 10, canvas1.width - 10, canvas1.height - 10);\n                }\n            }\n            if (canvas && canvas.containsPoint({ x: _this.mouseX, y: _this.mouseY })) {\n                _this.diagramMouseMove(event);\n                _this.annotationEvent = event;\n            }\n            else {\n                _this.diagramMouseLeave(event);\n                if (_this.isAnnotationDrawn) {\n                    _this.diagramMouseUp(event);\n                    _this.isAnnotationAdded = true;\n                }\n            }\n            touchPoints = null;\n        };\n        /**\n         * @param {PointerEvent} event - The TouchEvent.\n         * @returns {void}\n         */\n        this.viewerContainerOnPointerMove = function (event) {\n            if (event.pointerType === 'touch' && _this.pageCount > 0) {\n                event.preventDefault();\n                if (_this.pointersForTouch.length === 2) {\n                    for (var i = 0; i < _this.pointersForTouch.length; i++) {\n                        if (event.pointerId === _this.pointersForTouch[i].pointerId) {\n                            _this.pointersForTouch[i] = event;\n                            break;\n                        }\n                    }\n                    if (_this.pdfViewer.magnificationModule && _this.pdfViewer.enablePinchZoom) {\n                        // eslint-disable-next-line max-len\n                        _this.pdfViewer.magnificationModule.initiatePinchMove(_this.pointersForTouch[0].clientX, _this.pointersForTouch[0].clientY, _this.pointersForTouch[1].clientX, _this.pointersForTouch[1].clientY);\n                    }\n                }\n            }\n        };\n        /**\n         * @param {TouchEvent} event - The TouchEvent.\n         * @returns {void}\n         */\n        this.viewerContainerOnTouchEnd = function (event) {\n            if (_this.pdfViewer.magnificationModule) {\n                _this.pdfViewer.magnificationModule.pinchMoveEnd();\n            }\n            if (event.cancelable && !event.target.classList.contains('e-pv-touch-ellipse') && _this.pdfViewer.textSelectionModule && _this.pdfViewer.textSelectionModule.isTextSelection) {\n                event.preventDefault();\n            }\n            _this.isLongTouchPropagated = false;\n            clearInterval(_this.longTouchTimer);\n            _this.longTouchTimer = null;\n            if ((Browser.isDevice && !_this.pdfViewer.enableDesktopMode) && _this.isTouchScrolled) {\n                _this.currentTime = new Date().getTime();\n                var duration = _this.currentTime - _this.previousTime;\n                // eslint-disable-next-line\n                var difference = _this.scrollY - event.changedTouches[0].pageY;\n                // eslint-disable-next-line\n                var speed = (difference) / (duration);\n                if (Math.abs(speed) > 1.5) {\n                    // eslint-disable-next-line\n                    var scrollTop = (difference) + ((duration) * speed);\n                    _this.viewerContainer.scrollTop += scrollTop;\n                    _this.updateMobileScrollerPosition();\n                }\n            }\n            _this.diagramMouseUp(event);\n            _this.renderStampAnnotation(event);\n        };\n        /**\n         * @param {PointerEvent} event - The PointerEvent.\n         * @returns {void}\n         */\n        this.viewerContainerOnPointerEnd = function (event) {\n            if (event.pointerType === 'touch') {\n                event.preventDefault();\n                if (_this.pdfViewer.magnificationModule) {\n                    _this.pdfViewer.magnificationModule.pinchMoveEnd();\n                }\n                _this.pointersForTouch = [];\n                _this.pointerCount = 0;\n            }\n        };\n        // eslint-disable-next-line\n        this.viewerContainerOnScroll = function (event) {\n            var proxy = null;\n            proxy = _this;\n            var allowServerDataBind = proxy.pdfViewer.allowServerDataBinding;\n            proxy.pdfViewer.enableServerDataBinding(false);\n            var scrollposX = 0;\n            var scrollposY = 0;\n            if (event.touches && (Browser.isDevice && !_this.pdfViewer.enableDesktopMode)) {\n                // eslint-disable-next-line\n                var ratio = (_this.viewerContainer.scrollHeight - _this.viewerContainer.clientHeight) / (_this.viewerContainer.clientHeight - _this.toolbarHeight);\n                if (_this.isThumb) {\n                    _this.ispageMoved = true;\n                    event.preventDefault();\n                    _this.mobilePageNoContainer.style.display = 'block';\n                    scrollposX = event.touches[0].pageX - _this.scrollX;\n                    scrollposY = event.touches[0].pageY - _this.viewerContainer.offsetTop;\n                    _this.viewerContainer.scrollTop = scrollposY * ratio;\n                    // eslint-disable-next-line\n                    var containerValue = event.touches[0].pageY;\n                    // eslint-disable-next-line\n                    var toolbarHeight = _this.pdfViewer.toolbarModule ? 0 : 50;\n                    if (_this.viewerContainer.scrollTop !== 0 && ((containerValue) <= (_this.viewerContainer.clientHeight - toolbarHeight))) {\n                        _this.mobileScrollerContainer.style.top = containerValue + 'px';\n                    }\n                }\n                else if (event.touches[0].target.className !== 'e-pv-touch-ellipse') {\n                    if (!(_this.isWebkitMobile && (Browser.isDevice && !_this.pdfViewer.enableDesktopMode))) {\n                        _this.mobilePageNoContainer.style.display = 'none';\n                        scrollposY = _this.touchClientY - event.touches[0].pageY;\n                        scrollposX = _this.touchClientX - event.touches[0].pageX;\n                        _this.viewerContainer.scrollTop = _this.viewerContainer.scrollTop + (scrollposY);\n                        _this.viewerContainer.scrollLeft = _this.viewerContainer.scrollLeft + (scrollposX);\n                    }\n                    // eslint-disable-next-line\n                    _this.updateMobileScrollerPosition();\n                    _this.touchClientY = event.touches[0].pageY;\n                    _this.touchClientX = event.touches[0].pageX;\n                }\n            }\n            if (_this.scrollHoldTimer) {\n                clearTimeout(_this.scrollHoldTimer);\n            }\n            var pageIndex = _this.currentPageNumber;\n            _this.scrollHoldTimer = null;\n            _this.contextMenuModule.close();\n            var verticalScrollValue = _this.viewerContainer.scrollTop;\n            // eslint-disable-next-line max-len\n            for (var i = 0; i < _this.pageCount; i++) {\n                if (_this.pageSize[i] != null) {\n                    var pageHeight = _this.getPageHeight(i);\n                    if (pageHeight < 150) {\n                        _this.pageStopValue = 75;\n                    }\n                    else if (pageHeight >= 150 && pageHeight < 300) {\n                        _this.pageStopValue = 125;\n                    }\n                    else if (pageHeight >= 300 && pageHeight < 500) {\n                        _this.pageStopValue = 200;\n                    }\n                    else {\n                        _this.pageStopValue = 300;\n                    }\n                    // eslint-disable-next-line max-len\n                    if ((verticalScrollValue + _this.pageStopValue) <= (_this.getPageTop(i) + pageHeight)) {\n                        _this.currentPageNumber = i + 1;\n                        _this.pdfViewer.currentPageNumber = i + 1;\n                        break;\n                    }\n                }\n            }\n            // eslint-disable-next-line max-len\n            if (_this.pdfViewer.magnificationModule && _this.pdfViewer.magnificationModule.fitType === 'fitToPage' && _this.currentPageNumber > 0) {\n                if (_this.pageSize[_this.currentPageNumber - 1]) {\n                    if (!_this.isPanMode && (!Browser.isDevice && _this.pdfViewer.enableDesktopMode)) {\n                        _this.viewerContainer.scrollTop = _this.pageSize[_this.currentPageNumber - 1].top * _this.getZoomFactor();\n                    }\n                }\n            }\n            _this.renderElementsVirtualScroll(_this.currentPageNumber);\n            // eslint-disable-next-line max-len\n            if (!_this.isViewerMouseDown && !_this.getPinchZoomed() && !_this.getPinchScrolled() && !_this.getPagesPinchZoomed() || _this.isViewerMouseWheel) {\n                _this.pageViewScrollChanged(_this.currentPageNumber);\n                _this.isViewerMouseWheel = false;\n            }\n            else {\n                _this.showPageLoadingIndicator(_this.currentPageNumber - 1, false);\n            }\n            if (_this.pdfViewer.toolbarModule) {\n                if (!isBlazor()) {\n                    _this.pdfViewer.toolbarModule.updateCurrentPage(_this.currentPageNumber);\n                }\n                _this.viewerContainer.setAttribute('aria-labelledby', _this.pdfViewer.element.id + '_pageDiv_' + (_this.currentPageNumber - 1));\n                if (!isBlazor()) {\n                    if (!Browser.isDevice || _this.pdfViewer.enableDesktopMode) {\n                        _this.pdfViewer.toolbarModule.updateNavigationButtons();\n                    }\n                }\n            }\n            if (Browser.isDevice && !_this.pdfViewer.enableDesktopMode) {\n                _this.mobileSpanContainer.innerHTML = _this.currentPageNumber.toString();\n                _this.mobilecurrentPageContainer.innerHTML = _this.currentPageNumber.toString();\n            }\n            if (pageIndex !== _this.currentPageNumber) {\n                if (proxy.pdfViewer.thumbnailViewModule && (!Browser.isDevice || _this.pdfViewer.enableDesktopMode)) {\n                    proxy.pdfViewer.thumbnailViewModule.gotoThumbnailImage(proxy.currentPageNumber - 1);\n                    proxy.pdfViewer.thumbnailViewModule.isThumbnailClicked = false;\n                }\n                _this.pdfViewer.firePageChange(pageIndex);\n            }\n            if (_this.pdfViewer.magnificationModule) {\n                if (!_this.isPanMode && (!Browser.isDevice && _this.pdfViewer.enableDesktopMode)) {\n                    _this.pdfViewer.magnificationModule.updatePagesForFitPage(_this.currentPageNumber - 1);\n                }\n            }\n            var currentPage = _this.getElement('_pageDiv_' + (_this.currentPageNumber - 1));\n            if (currentPage) {\n                currentPage.style.visibility = 'visible';\n            }\n            if (_this.isViewerMouseDown) {\n                if (_this.getRerenderCanvasCreated() && !_this.isPanMode) {\n                    _this.pdfViewer.magnificationModule.clearIntervalTimer();\n                }\n                // eslint-disable-next-line\n                var data = _this.getStoredData(_this.currentPageNumber);\n                if (data) {\n                    _this.isDataExits = true;\n                    _this.initiatePageViewScrollChanged();\n                    _this.isDataExits = false;\n                }\n                else {\n                    // eslint-disable-next-line max-len\n                    var timer = _this.pdfViewer.scrollSettings.delayPageRequestTimeOnScroll ? _this.pdfViewer.scrollSettings.delayPageRequestTimeOnScroll : 100;\n                    _this.scrollHoldTimer = setTimeout(function () {\n                        _this.initiatePageViewScrollChanged();\n                    }, timer);\n                }\n            }\n            if (_this.pdfViewer.annotation && _this.navigationPane.commentPanelContainer) {\n                _this.pdfViewer.annotation.stickyNotesAnnotationModule.updateCommentPanelScrollTop(_this.currentPageNumber);\n            }\n            // eslint-disable-next-line max-len\n            if ((Browser.isDevice && !_this.pdfViewer.enableDesktopMode) && event.touches && event.touches[0].target.className !== 'e-pv-touch-ellipse') {\n                setTimeout(function () {\n                    _this.updateMobileScrollerPosition();\n                }, 500);\n            }\n            proxy.pdfViewer.enableServerDataBinding(allowServerDataBind, true);\n        };\n        this.pdfViewer = viewer;\n        this.navigationPane = new NavigationPane(this.pdfViewer, this);\n        this.textLayer = new TextLayer(this.pdfViewer, this);\n        this.signatureModule = new Signature(this.pdfViewer, this);\n        this.isWebkitMobile = /Chrome/.test(navigator.userAgent) || /Google Inc/.test(navigator.vendor) || (navigator.userAgent.indexOf('Safari') !== -1);\n    }\n    /**\n     * @private\n     * @returns {void}\n     */\n    PdfViewerBase.prototype.initializeComponent = function () {\n        var element = document.getElementById(this.pdfViewer.element.id);\n        if (element) {\n            this.blazorUIAdaptor = isBlazor() ? new BlazorUiAdaptor(this.pdfViewer, this) : null;\n            if (Browser.isDevice && !this.pdfViewer.enableDesktopMode) {\n                this.pdfViewer.element.classList.add('e-pv-mobile-view');\n            }\n            var controlWidth = '100%';\n            var toolbarDiv = void 0;\n            this.viewerMainContainer = isBlazor() ? element.querySelector('.e-pv-viewer-main-container') : createElement('div', { id: this.pdfViewer.element.id + '_viewerMainContainer', className: 'e-pv-viewer-main-container' });\n            this.viewerContainer = isBlazor() ? element.querySelector('.e-pv-viewer-container') : createElement('div', { id: this.pdfViewer.element.id + '_viewerContainer', className: 'e-pv-viewer-container', attrs: { 'aria-label': 'pdfviewer scroll view' } });\n            if (Browser.isDevice && !this.pdfViewer.enableDesktopMode) {\n                this.createMobilePageNumberContainer();\n            }\n            // eslint-disable-next-line\n            this.viewerContainer.tabIndex = 0;\n            if (this.pdfViewer.enableRtl) {\n                this.viewerContainer.style.direction = 'rtl';\n            }\n            element.style.touchAction = 'pan-x pan-y';\n            this.setMaximumHeight(element);\n            this.mainContainer = isBlazor() ? element.querySelector('.e-pv-main-container') : createElement('div', { id: this.pdfViewer.element.id + '_mainContainer', className: 'e-pv-main-container' });\n            this.mainContainer.appendChild(this.viewerMainContainer);\n            element.appendChild(this.mainContainer);\n            this.applyViewerHeight(this.mainContainer);\n            if (this.pdfViewer.toolbarModule) {\n                this.navigationPane.initializeNavigationPane();\n                toolbarDiv = this.pdfViewer.toolbarModule.intializeToolbar(controlWidth);\n            }\n            else {\n                if (isBlazor()) {\n                    this.navigationPane.initializeNavigationPane();\n                    toolbarDiv = this.pdfViewer.element.querySelector('.e-pv-toolbar');\n                    if (!this.pdfViewer.enableToolbar) {\n                        this.toolbarHeight = 0;\n                        toolbarDiv.style.display = 'none';\n                    }\n                    if (!this.pdfViewer.enableNavigationToolbar && ((Browser.isDevice && this.pdfViewer.enableDesktopMode) || (!Browser.isDevice))) {\n                        this.navigationPane.sideBarToolbar.style.display = 'none';\n                        this.navigationPane.sideBarToolbarSplitter.style.display = 'none';\n                        if (this.navigationPane.isBookmarkOpen || this.navigationPane.isThumbnailOpen) {\n                            this.navigationPane.updateViewerContainerOnClose();\n                        }\n                    }\n                }\n            }\n            if (toolbarDiv) {\n                this.viewerContainer.style.height = this.updatePageHeight(this.pdfViewer.element.getBoundingClientRect().height, 56);\n            }\n            else {\n                this.viewerContainer.style.height = this.updatePageHeight(this.pdfViewer.element.getBoundingClientRect().height, 0);\n            }\n            var viewerWidth = this.pdfViewer.element.clientWidth;\n            if (!Browser.isDevice || this.pdfViewer.enableDesktopMode) {\n                viewerWidth = viewerWidth - (this.navigationPane.sideBarToolbar ? this.navigationPane.getViewerContainerLeft() : 0) -\n                    (this.navigationPane.commentPanelContainer ? this.navigationPane.getViewerContainerRight() : 0);\n            }\n            this.viewerContainer.style.width = viewerWidth + 'px';\n            this.viewerMainContainer.appendChild(this.viewerContainer);\n            if (Browser.isDevice && !this.pdfViewer.enableDesktopMode) {\n                this.mobileScrollerContainer.style.left = (viewerWidth - parseFloat(this.mobileScrollerContainer.style.width)) + 'px';\n                this.mobilePageNoContainer.style.left = (viewerWidth / 2) - (parseFloat(this.mobilePageNoContainer.style.width) / 2) + 'px';\n                this.mobilePageNoContainer.style.top = (this.pdfViewer.element.clientHeight / 2) + 'px';\n                this.mobilePageNoContainer.style.display = 'none';\n                this.mobilePageNoContainer.appendChild(this.mobilecurrentPageContainer);\n                this.mobilePageNoContainer.appendChild(this.mobilenumberContainer);\n                this.mobilePageNoContainer.appendChild(this.mobiletotalPageContainer);\n                this.viewerContainer.appendChild(this.mobilePageNoContainer);\n                this.viewerMainContainer.appendChild(this.mobileScrollerContainer);\n                this.mobileScrollerContainer.appendChild(this.mobileSpanContainer);\n            }\n            this.pageContainer = createElement('div', { id: this.pdfViewer.element.id + '_pageViewContainer', className: 'e-pv-page-container', attrs: { 'tabindex': '0', 'aria-label': 'pdfviewer Page View' } });\n            if (this.pdfViewer.enableRtl) {\n                this.pageContainer.style.direction = 'ltr';\n            }\n            this.viewerContainer.appendChild(this.pageContainer);\n            this.pageContainer.style.width = this.viewerContainer.clientWidth + 'px';\n            if (toolbarDiv && this.pdfViewer.thumbnailViewModule && (!Browser.isDevice || this.pdfViewer.enableDesktopMode)) {\n                this.pdfViewer.thumbnailViewModule.createThumbnailContainer();\n            }\n            this.createPrintPopup();\n            if (Browser.isDevice && !this.pdfViewer.enableDesktopMode) {\n                this.createGoToPagePopup();\n            }\n            var waitingPopup = createElement('div', { id: this.pdfViewer.element.id + '_loadingIndicator' });\n            this.viewerContainer.appendChild(waitingPopup);\n            createSpinner({ target: waitingPopup, cssClass: 'e-spin-center' });\n            this.setLoaderProperties(waitingPopup);\n            if (isBlazor()) {\n                this.contextMenuModule = new BlazorContextMenu(this.pdfViewer, this);\n                // eslint-disable-next-line\n                var spinnerElement = document.getElementsByClassName(this.pdfViewer.element.id + '_spinner');\n                if (spinnerElement && spinnerElement[0] && (!spinnerElement[0].classList.contains('e-spin-hide'))) {\n                    spinnerElement[0].classList.remove('e-spin-show');\n                    spinnerElement[0].classList.add('e-spin-hide');\n                }\n            }\n            else {\n                this.contextMenuModule = new ContextMenu(this.pdfViewer, this);\n            }\n            this.contextMenuModule.createContextMenu();\n            this.createFileInputElement();\n            this.wireEvents();\n            if (this.pdfViewer.textSearchModule && (!Browser.isDevice || this.pdfViewer.enableDesktopMode)) {\n                this.pdfViewer.textSearchModule.createTextSearchBox();\n            }\n            if (this.pdfViewer.documentPath) {\n                if (isBlazor()) {\n                    this.pdfViewer._dotnetInstance.invokeMethodAsync('LoadDocumentFromClient', this.pdfViewer.documentPath);\n                }\n                else {\n                    this.pdfViewer.load(this.pdfViewer.documentPath, null);\n                }\n            }\n            if (this.pdfViewer.annotationModule) {\n                this.pdfViewer.annotationModule.initializeCollection();\n            }\n        }\n    };\n    PdfViewerBase.prototype.createMobilePageNumberContainer = function () {\n        this.mobilePageNoContainer = createElement('div', { id: this.pdfViewer.element.id + '_mobilepagenoContainer', className: 'e-pv-mobilepagenoscroll-container' });\n        this.mobilecurrentPageContainer = createElement('span', { id: this.pdfViewer.element.id + '_mobilecurrentpageContainer', className: 'e-pv-mobilecurrentpage-container' });\n        this.mobilenumberContainer = createElement('span', { id: this.pdfViewer.element.id + '_mobiledashedlineContainer', className: 'e-pv-mobiledashedline-container' });\n        this.mobiletotalPageContainer = createElement('span', { id: this.pdfViewer.element.id + '_mobiletotalpageContainer', className: 'e-pv-mobiletotalpage-container' });\n        this.mobileScrollerContainer = createElement('div', { id: this.pdfViewer.element.id + '_mobilescrollContainer', className: 'e-pv-mobilescroll-container' });\n        this.mobileSpanContainer = createElement('span', { id: this.pdfViewer.element.id + '_mobilespanContainer', className: 'e-pv-mobilespanscroll-container' });\n        this.mobileSpanContainer.innerHTML = '1';\n        this.mobilecurrentPageContainer.innerHTML = '1';\n        this.mobilenumberContainer.innerHTML = '&#x2015;&#x2015;&#x2015;&#x2015;&#x2015;';\n        this.mobileScrollerContainer.style.cssFloat = 'right';\n        this.mobileScrollerContainer.style.width = '40px';\n        this.mobileScrollerContainer.style.height = '32px';\n        this.mobileScrollerContainer.style.zIndex = '100';\n        this.mobilePageNoContainer.style.width = '120px';\n        this.mobilePageNoContainer.style.height = '100px';\n        this.mobilePageNoContainer.style.zIndex = '100';\n        this.mobilePageNoContainer.style.position = 'fixed';\n        this.mobileScrollerContainer.addEventListener('touchstart', this.mobileScrollContainerDown.bind(this));\n        this.mobileScrollerContainer.addEventListener('touchend', this.mobileScrollContainerEnd.bind(this));\n        this.mobileScrollerContainer.style.display = 'none';\n    };\n    /**\n     * @private\n     * @param  {string} documentData - file name or base64 string.\n     * @param {string} password - password of the PDF document.\n     * @returns {void}\n     */\n    PdfViewerBase.prototype.initiatePageRender = function (documentData, password) {\n        this.loadedData = documentData;\n        this.documentId = this.createGUID();\n        if (this.viewerContainer) {\n            this.viewerContainer.scrollTop = 0;\n        }\n        this.showLoadingIndicator(true);\n        this.hashId = ' ';\n        this.isFileName = false;\n        this.saveDocumentInfo();\n        if (this.pdfViewer.interactionMode === 'Pan') {\n            this.initiatePanning();\n        }\n        documentData = this.checkDocumentData(documentData);\n        this.setFileName();\n        if (this.pdfViewer.downloadFileName) {\n            this.downloadFileName = this.pdfViewer.downloadFileName;\n        }\n        else {\n            this.downloadFileName = this.pdfViewer.fileName;\n        }\n        var jsonObject = this.constructJsonObject(documentData, password);\n        this.createAjaxRequest(jsonObject, documentData, password);\n    };\n    /**\n     * @private\n     */\n    PdfViewerBase.prototype.initiateLoadDocument = function (documentId, isFileName, fileName) {\n        if (documentId) {\n            this.documentId = documentId;\n        }\n        if (this.viewerContainer) {\n            this.viewerContainer.scrollTop = 0;\n        }\n        this.showLoadingIndicator(true);\n        this.hashId = ' ';\n        this.isFileName = isFileName;\n        this.saveDocumentInfo();\n        if (this.pdfViewer.interactionMode === 'Pan') {\n            this.initiatePanning();\n        }\n        this.setFileName();\n        if (this.pdfViewer.fileName === null) {\n            if (isFileName && fileName) {\n                this.pdfViewer.fileName = fileName;\n                this.jsonDocumentId = this.pdfViewer.fileName;\n            }\n            else {\n                this.pdfViewer.fileName = 'undefined.pdf';\n                this.jsonDocumentId = null;\n            }\n        }\n        if (this.pdfViewer.downloadFileName) {\n            this.downloadFileName = this.pdfViewer.downloadFileName;\n        }\n        else {\n            this.downloadFileName = this.pdfViewer.fileName;\n        }\n    };\n    /**\n     * @private\n     */\n    PdfViewerBase.prototype.loadSuccess = function (documentDetails, password) {\n        // eslint-disable-next-line\n        var data = documentDetails;\n        if (data) {\n            if (typeof data !== 'object') {\n                try {\n                    data = JSON.parse(data);\n                }\n                catch (error) {\n                    this.onControlError(500, data, this.pdfViewer.serverActionSettings.load);\n                    data = null;\n                }\n            }\n            if (data) {\n                while (typeof data !== 'object') {\n                    data = JSON.parse(data);\n                    // eslint-disable-next-line\n                    if (typeof parseInt(data) === 'number' && !isNaN(parseInt(data))) {\n                        // eslint-disable-next-line\n                        data = parseInt(data);\n                        break;\n                    }\n                }\n                if (data.StatusText && (data.StatusText === 'File Does not Exist')) {\n                    this.showLoadingIndicator(false);\n                }\n                // eslint-disable-next-line\n                if (data.uniqueId === this.documentId || (typeof parseInt(data) === 'number' && !isNaN(parseInt(data)))) {\n                    this.pdfViewer.fireAjaxRequestSuccess(this.pdfViewer.serverActionSettings.load, data);\n                    this.requestSuccess(data, null, password);\n                }\n            }\n        }\n    };\n    // eslint-disable-next-line\n    PdfViewerBase.prototype.mobileScrollContainerDown = function (event) {\n        this.ispageMoved = false;\n        this.isThumb = true;\n        if (this.isTextMarkupAnnotationModule()) {\n            // eslint-disable-next-line max-len\n            if (this.pdfViewer.annotationModule.textMarkupAnnotationModule.selectTextMarkupCurrentPage != null && (Browser.isDevice && !this.pdfViewer.enableDesktopMode)) {\n                var pageNumber = this.pdfViewer.annotationModule.textMarkupAnnotationModule.selectTextMarkupCurrentPage;\n                this.pdfViewer.annotationModule.textMarkupAnnotationModule.selectTextMarkupCurrentPage = null;\n                this.pdfViewer.annotationModule.textMarkupAnnotationModule.clearAnnotationSelection(pageNumber);\n                this.pdfViewer.toolbar.showToolbar(true);\n            }\n        }\n        this.mobileScrollerContainer.addEventListener('touchmove', this.viewerContainerOnScroll.bind(this), true);\n    };\n    /**\n     * @private\n     * @param {MouseEvent} e - default mouse event.\n     * @returns {PointModel} - retuns the bounds.\n     */\n    PdfViewerBase.prototype.relativePosition = function (e) {\n        // eslint-disable-next-line\n        var currentRect = this.viewerContainer.getBoundingClientRect();\n        var left = e.clientX - currentRect.left;\n        var top = e.clientY - currentRect.top;\n        return { x: left, y: top };\n    };\n    // eslint-disable-next-line\n    PdfViewerBase.prototype.setMaximumHeight = function (element) {\n        // eslint-disable-next-line\n        var currentRect = element.getBoundingClientRect();\n        if ((!Browser.isDevice || this.pdfViewer.enableDesktopMode) || (currentRect && currentRect.height === 0)) {\n            element.style.minHeight = '500px';\n        }\n        this.updateWidth();\n        this.updateHeight();\n    };\n    // eslint-disable-next-line\n    PdfViewerBase.prototype.applyViewerHeight = function (element) {\n        // eslint-disable-next-line\n        var currentRect = element.getBoundingClientRect();\n        if ((Browser.isDevice && !this.pdfViewer.enableDesktopMode) && currentRect && currentRect.height === 0) {\n            element.style.minHeight = '500px';\n        }\n    };\n    /**\n     * @private\n     * @returns {void}\n     */\n    PdfViewerBase.prototype.updateWidth = function () {\n        if (this.pdfViewer.width.toString() !== 'auto') {\n            // eslint-disable-next-line\n            this.pdfViewer.element.style.width = this.pdfViewer.width;\n        }\n    };\n    /**\n     * @private\n     * @returns {void}\n     */\n    PdfViewerBase.prototype.updateHeight = function () {\n        if (this.pdfViewer.height.toString() !== 'auto') {\n            // eslint-disable-next-line\n            this.pdfViewer.element.style.height = this.pdfViewer.height;\n        }\n    };\n    /**\n     * @private\n     * @returns {void}\n     */\n    PdfViewerBase.prototype.updateViewerContainer = function () {\n        var sideBarContentContainer = this.getElement('_sideBarContentContainer');\n        if (sideBarContentContainer && sideBarContentContainer.style.display === 'none') {\n            this.navigationPane.updateViewerContainerOnClose();\n        }\n        else if (sideBarContentContainer && sideBarContentContainer.style.display === 'block') {\n            this.navigationPane.updateViewerContainerOnExpand();\n        }\n        else {\n            this.updateViewerContainerSize();\n        }\n        // eslint-disable-next-line\n        var toolbarModule = this.pdfViewer.toolbarModule;\n        if (toolbarModule) {\n            if (isBlazor()) {\n                if (this.pdfViewer.enableToolbar || this.pdfViewer.enableAnnotationToolbar) {\n                    this.pdfViewer._dotnetInstance.invokeMethodAsync('RefreshToolbarItems');\n                }\n            }\n            else {\n                if (this.pdfViewer.enableToolbar) {\n                    toolbarModule.toolbar.refreshOverflow();\n                }\n                if (this.pdfViewer.enableAnnotationToolbar && toolbarModule.annotationToolbarModule) {\n                    toolbarModule.annotationToolbarModule.toolbar.refreshOverflow();\n                }\n            }\n        }\n    };\n    PdfViewerBase.prototype.updateViewerContainerSize = function () {\n        this.viewerContainer.style.width = this.pdfViewer.element.clientWidth + 'px';\n        this.pageContainer.style.width = this.viewerContainer.offsetWidth + 'px';\n        this.updateZoomValue();\n    };\n    // eslint-disable-next-line\n    PdfViewerBase.prototype.mobileScrollContainerEnd = function (event) {\n        if (!this.ispageMoved) {\n            this.goToPagePopup.show();\n        }\n        this.isThumb = false;\n        this.ispageMoved = false;\n        this.mobileScrollerContainer.removeEventListener('touchmove', this.viewerContainerOnScroll.bind(this), true);\n        this.mobilePageNoContainer.style.display = 'none';\n    };\n    // eslint-disable-next-line\n    PdfViewerBase.prototype.createAjaxRequest = function (jsonObject, documentData, password) {\n        var proxy = null;\n        proxy = this;\n        if (this.pdfViewer.serverActionSettings) {\n            this.loadRequestHandler = new AjaxHandler(this.pdfViewer);\n            this.loadRequestHandler.url = this.pdfViewer.serviceUrl + '/' + this.pdfViewer.serverActionSettings.load;\n            this.loadRequestHandler.responseType = 'json';\n            this.loadRequestHandler.mode = true;\n            // eslint-disable-next-line\n            jsonObject['action'] = 'Load';\n            // eslint-disable-next-line\n            jsonObject['elementId'] = this.pdfViewer.element.id;\n            this.loadRequestHandler.send(jsonObject);\n            // eslint-disable-next-line\n            this.loadRequestHandler.onSuccess = function (result) {\n                // eslint-disable-next-line\n                var data = result.data;\n                if (data) {\n                    if (typeof data !== 'object') {\n                        try {\n                            data = JSON.parse(data);\n                        }\n                        catch (error) {\n                            proxy.onControlError(500, data, this.pdfViewer.serverActionSettings.load);\n                            data = null;\n                        }\n                    }\n                    if (data) {\n                        while (typeof data !== 'object') {\n                            data = JSON.parse(data);\n                            // eslint-disable-next-line\n                            if (typeof parseInt(data) === 'number' && !isNaN(parseInt(data))) {\n                                // eslint-disable-next-line\n                                data = parseInt(data);\n                                break;\n                            }\n                        }\n                        // eslint-disable-next-line\n                        if (data.uniqueId === proxy.documentId || (typeof parseInt(data) === 'number' && !isNaN(parseInt(data)))) {\n                            proxy.pdfViewer.fireAjaxRequestSuccess(this.pdfViewer.serverActionSettings.load, data);\n                            proxy.requestSuccess(data, documentData, password);\n                        }\n                    }\n                }\n                else {\n                    proxy.showLoadingIndicator(false);\n                }\n            };\n            // eslint-disable-next-line\n            this.loadRequestHandler.onFailure = function (result) {\n                var statusString = result.status.toString().split('')[0];\n                if (statusString === '4') {\n                    proxy.openNotificationPopup('Client error');\n                }\n                else {\n                    proxy.openNotificationPopup();\n                }\n                proxy.showLoadingIndicator(false);\n                proxy.pdfViewer.fireAjaxRequestFailed(result.status, result.statusText, proxy.pdfViewer.serverActionSettings.load);\n            };\n            // eslint-disable-next-line\n            this.loadRequestHandler.onError = function (result) {\n                proxy.openNotificationPopup();\n                proxy.showLoadingIndicator(false);\n                // eslint-disable-next-line\n                proxy.pdfViewer.fireAjaxRequestFailed(result.status, result.statusText, proxy.pdfViewer.serverActionSettings.load);\n            };\n        }\n    };\n    /**\n     * @private\n     * @param {string} errorString - The message to be displayed.\n     * @returns {void}\n     */\n    PdfViewerBase.prototype.openNotificationPopup = function (errorString) {\n        var _this = this;\n        if (this.pdfViewer.showNotificationDialog) {\n            if (errorString === 'Client error') {\n                if (isBlazor()) {\n                    var promise = this.pdfViewer._dotnetInstance.invokeMethodAsync('GetLocaleText', 'PdfViewer_Clienterror');\n                    promise.then(function (value) {\n                        _this.textLayer.createNotificationPopup(value);\n                    });\n                }\n                else {\n                    this.textLayer.createNotificationPopup(this.pdfViewer.localeObj.getConstant('Client error'));\n                }\n            }\n            else {\n                if (isBlazor()) {\n                    var promise = this.pdfViewer._dotnetInstance.invokeMethodAsync('GetLocaleText', 'PdfViewer_Servererror');\n                    promise.then(function (value) {\n                        _this.textLayer.createNotificationPopup(value);\n                    });\n                }\n                else {\n                    this.textLayer.createNotificationPopup(this.pdfViewer.localeObj.getConstant('Server error'));\n                }\n            }\n            if (this.getElement('_notify')) {\n                this.getElement('_notify').classList.add('e-pv-notification-large-content');\n            }\n        }\n    };\n    /**\n     * @private\n     * @param {string} errorString - The message to be shown.\n     * @returns {void}\n     */\n    PdfViewerBase.prototype.showNotificationPopup = function (errorString) {\n        if (!this.pdfViewer.showNotificationDialog && errorString !== '') {\n            this.textLayer.createNotificationPopup(errorString);\n            if (this.getElement('_notify')) {\n                this.getElement('_notify').classList.add('e-pv-notification-large-content');\n            }\n        }\n    };\n    // eslint-disable-next-line\n    PdfViewerBase.prototype.requestSuccess = function (data, documentData, password) {\n        if (data && data.pageCount !== undefined) {\n            if (isBlazor() && this.isPassword) {\n                this.isPassword = false;\n                this.isPasswordAvailable = false;\n                this.pdfViewer._dotnetInstance.invokeMethodAsync('ClosePasswordDialog');\n            }\n            if (password && password != '') {\n                this.passwordData = password;\n            }\n            this.pdfViewer.allowServerDataBinding = false;\n            this.pageCount = data.pageCount;\n            this.pdfViewer.pageCount = data.pageCount;\n            this.hashId = data.hashId;\n            this.documentLiveCount = data.documentLiveCount;\n            this.isAnnotationCollectionRemoved = false;\n            this.saveDocumentHashData();\n            this.saveFormfieldsData(data);\n            this.pdfViewer.allowServerDataBinding = true;\n            this.pageRender(data);\n            // eslint-disable-next-line\n            var pageData = { pageCount: data.pageCount, pageSizes: data.pageSizes };\n            window.sessionStorage.setItem(this.documentId + '_pagedata', JSON.stringify(pageData));\n            if (Browser.isDevice && !this.pdfViewer.enableDesktopMode) {\n                this.mobileScrollerContainer.style.display = '';\n                // eslint-disable-next-line\n                var toolbarHeight = this.pdfViewer.toolbarModule ? this.toolbarHeight : 0;\n                this.mobileScrollerContainer.style.top = (toolbarHeight) + 'px';\n            }\n            this.restrictionList = data.RestrictionSummary;\n            this.RestrictionEnabled(this.restrictionList, false);\n        }\n        else {\n            this.pageCount = 0;\n            this.currentPageNumber = 0;\n            if (Browser.isDevice && !this.pdfViewer.enableDesktopMode) {\n                this.mobileScrollerContainer.style.display = 'none';\n            }\n            if (data === 4) {\n                if (!isBlazor()) {\n                    // 4 is error code for encrypted document.\n                    this.renderPasswordPopup(documentData, password);\n                }\n            }\n            else if (data === 3) {\n                if (!isBlazor()) {\n                    // 3 is error code for corrupted document.\n                    this.renderCorruptPopup();\n                }\n            }\n            if (this.pdfViewer.toolbarModule) {\n                this.pdfViewer.toolbarModule.updateToolbarItems();\n            }\n        }\n        // eslint-disable-next-line\n        var annotationModule = this.pdfViewer.annotationModule;\n        // eslint-disable-next-line max-len\n        if (annotationModule && annotationModule.textMarkupAnnotationModule && annotationModule.textMarkupAnnotationModule.isEnableTextMarkupResizer(annotationModule.textMarkupAnnotationModule.currentTextMarkupAddMode)) {\n            annotationModule.textMarkupAnnotationModule.createAnnotationSelectElement();\n        }\n    };\n    // eslint-disable-next-line\n    PdfViewerBase.prototype.RestrictionEnabled = function (restrictionSummary, isEnable) {\n        if (restrictionSummary) {\n            for (var i = 0; i < restrictionSummary.length; i++) {\n                this.EnableRestriction(restrictionSummary[i], isEnable);\n                if (!isBlazor()) {\n                    if (this.pdfViewer.toolbarModule) {\n                        this.pdfViewer.toolbarModule.DisableToolbarItems(restrictionSummary[i], isEnable);\n                    }\n                }\n                else {\n                    if (this.pdfViewer.toolbarModule) {\n                        this.pdfViewer._dotnetInstance.invokeMethodAsync('RestrictToolbarItems', restrictionSummary, isEnable);\n                    }\n                }\n            }\n        }\n    };\n    // eslint-disable-next-line\n    PdfViewerBase.prototype.EnableRestriction = function (restrictionSummary, isEnable) {\n        switch (restrictionSummary) {\n            case 'Print':\n                this.pdfViewer.enablePrint = isEnable;\n                break;\n            case 'CopyContent':\n                this.pdfViewer.enableTextSelection = isEnable;\n                break;\n            case 'FillFields':\n                this.pdfViewer.enableFormFields = isEnable;\n                this.enableFormFieldButton(isEnable);\n                break;\n            case 'EditAnnotations':\n                this.pdfViewer.enableAnnotation = isEnable;\n                break;\n        }\n    };\n    // eslint-disable-next-line\n    PdfViewerBase.prototype.pageRender = function (data) {\n        this.document = null;\n        this.passwordDialogReset();\n        if (this.passwordPopup) {\n            this.passwordPopup.hide();\n        }\n        var pageIndex = 0;\n        this.initPageDiv(data);\n        this.currentPageNumber = pageIndex + 1;\n        this.pdfViewer.currentPageNumber = pageIndex + 1;\n        this.previousZoomValue = this.pdfViewer.zoomValue;\n        var isZoomMode = false;\n        if (this.pdfViewer.magnificationModule) {\n            this.pdfViewer.magnificationModule.isAutoZoom = true;\n            if (this.pdfViewer.zoomValue && this.pdfViewer.zoomValue > 0) {\n                if (this.pdfViewer.zoomValue !== 100) {\n                    isZoomMode = true;\n                }\n                this.isInitialPageMode = true;\n                this.pdfViewer.magnification.zoomTo(this.pdfViewer.zoomValue);\n            }\n            if (this.pdfViewer.zoomMode === 'FitToWidth') {\n                this.isInitialPageMode = true;\n                this.pdfViewer.magnificationModule.fitToWidth();\n            }\n            else if (this.pdfViewer.zoomMode === 'FitToPage') {\n                this.isInitialPageMode = true;\n                this.pdfViewer.magnificationModule.fitToPage();\n            }\n            this.documentLoaded = true;\n            this.pdfViewer.magnificationModule.isInitialLoading = true;\n            this.onWindowResize();\n            this.documentLoaded = false;\n            this.pdfViewer.magnificationModule.isInitialLoading = false;\n        }\n        this.isDocumentLoaded = true;\n        // eslint-disable-next-line\n        var viewPortWidth = 816;\n        // eslint-disable-next-line radix\n        viewPortWidth = parseInt(viewPortWidth);\n        var pageWidth = this.pageSize[pageIndex].width;\n        if (this.renderedPagesList.indexOf(pageIndex) === -1 && !isZoomMode) {\n            this.createRequestForRender(pageIndex);\n            var pageNumber = pageIndex + 1;\n            if (pageNumber < this.pageCount) {\n                this.createRequestForRender(pageNumber);\n                pageNumber = pageNumber + 1;\n            }\n            if (this.pageSize[pageNumber]) {\n                var pageTop = this.getPageTop(pageNumber);\n                var viewerHeight = this.viewerContainer.clientHeight;\n                while (viewerHeight > pageTop) {\n                    if (this.pageSize[pageNumber]) {\n                        this.renderPageElement(pageNumber);\n                        this.createRequestForRender(pageNumber);\n                        pageTop = this.getPageTop(pageNumber);\n                        pageNumber = pageNumber + 1;\n                    }\n                    else {\n                        break;\n                    }\n                }\n            }\n        }\n        this.showLoadingIndicator(false);\n        if (!isBlazor()) {\n            if (this.pdfViewer.toolbarModule) {\n                this.pdfViewer.toolbarModule.uploadedDocumentName = null;\n                this.pdfViewer.toolbarModule.updateCurrentPage(this.currentPageNumber);\n                this.pdfViewer.toolbarModule.updateToolbarItems();\n                if (this.pdfViewer.toolbar && this.pdfViewer.toolbar.annotationToolbarModule) {\n                    this.pdfViewer.toolbar.annotationToolbarModule.enableAnnotationAddTools(true);\n                }\n                // eslint-disable-next-line max-len\n                this.viewerContainer.setAttribute('aria-labelledby', this.pdfViewer.element.id + '_pageDiv_' + (this.currentPageNumber - 1));\n            }\n        }\n        if (Browser.isDevice && !this.pdfViewer.enableDesktopMode) {\n            this.mobileSpanContainer.innerHTML = this.currentPageNumber.toString();\n            this.mobilecurrentPageContainer.innerHTML = this.currentPageNumber.toString();\n        }\n    };\n    PdfViewerBase.prototype.renderPasswordPopup = function (documentData, password) {\n        var _this = this;\n        if (!isBlazor()) {\n            if (!this.isPasswordAvailable) {\n                if (this.isFileName) {\n                    this.document = documentData;\n                }\n                else {\n                    this.document = 'data:application/pdf;base64,' + documentData;\n                }\n                this.isPasswordAvailable = true;\n                this.createPasswordPopup();\n                this.pdfViewer.fireDocumentLoadFailed(true, null);\n                this.passwordPopup.show();\n            }\n            else {\n                this.pdfViewer.fireDocumentLoadFailed(true, password);\n                this.promptElement.classList.add('e-pv-password-error');\n                this.promptElement.textContent = this.pdfViewer.localeObj.getConstant('Invalid Password');\n                this.promptElement.focus();\n                if (this.isFileName) {\n                    this.document = documentData;\n                }\n                else {\n                    this.document = 'data:application/pdf;base64,' + documentData;\n                }\n                this.passwordPopup.show();\n            }\n        }\n        else {\n            // eslint-disable-next-line\n            var promptElement_1 = document.getElementById(this.pdfViewer.element.id + '_prompt');\n            var promise = this.pdfViewer._dotnetInstance.invokeMethodAsync('GetLocaleText', 'PdfViewer_EnterPassword');\n            promise.then(function (value) {\n                promptElement_1.textContent = value;\n            });\n            // eslint-disable-next-line\n            var passwordInput_1 = document.querySelector('#' + this.pdfViewer.element.id + '_password_input');\n            passwordInput_1.addEventListener('keyup', function () {\n                if (passwordInput_1.value === '') {\n                    _this.passwordDialogReset();\n                }\n            });\n            passwordInput_1.addEventListener('focus', function () {\n                passwordInput_1.parentElement.classList.add('e-input-focus');\n            });\n            passwordInput_1.addEventListener('blur', function () {\n                passwordInput_1.parentElement.classList.remove('e-input-focus');\n            });\n            if (!this.isPasswordAvailable) {\n                if (this.isFileName) {\n                    this.document = documentData;\n                }\n                else {\n                    this.document = 'data:application/pdf;base64,' + documentData;\n                }\n                this.isPasswordAvailable = true;\n                this.pdfViewer.fireDocumentLoadFailed(true, null);\n            }\n            else {\n                this.pdfViewer.fireDocumentLoadFailed(true, password);\n                promptElement_1.classList.add('e-pv-password-error');\n                var promise_1 = this.pdfViewer._dotnetInstance.invokeMethodAsync('GetLocaleText', 'PdfViewer_InvalidPassword');\n                promise_1.then(function (value) {\n                    promptElement_1.textContent = value;\n                });\n                promptElement_1.focus();\n                if (this.isFileName) {\n                    this.document = documentData;\n                }\n                else {\n                    this.document = 'data:application/pdf;base64,' + documentData;\n                }\n            }\n            this.pdfViewer._dotnetInstance.invokeMethodAsync('OpenPasswordDialog');\n        }\n    };\n    PdfViewerBase.prototype.renderCorruptPopup = function () {\n        this.pdfViewer.fireDocumentLoadFailed(false, null);\n        this.documentId = null;\n        if (this.pdfViewer.showNotificationDialog) {\n            if (!isBlazor()) {\n                this.createCorruptedPopup();\n                this.corruptPopup.show();\n            }\n            else {\n                this.pdfViewer._dotnetInstance.invokeMethodAsync('OpenCorruptedDialog');\n            }\n        }\n    };\n    PdfViewerBase.prototype.constructJsonObject = function (documentData, password) {\n        var jsonObject;\n        if (password) {\n            this.isPasswordAvailable = true;\n            this.passwordData = password;\n            // eslint-disable-next-line max-len\n            jsonObject = { document: documentData, password: password, zoomFactor: \"1\", isFileName: this.isFileName.toString(), uniqueId: this.documentId };\n        }\n        else {\n            this.isPasswordAvailable = false;\n            this.passwordData = '';\n            jsonObject = { document: documentData, zoomFactor: \"1\", isFileName: this.isFileName.toString(), uniqueId: this.documentId };\n        }\n        return jsonObject;\n    };\n    PdfViewerBase.prototype.checkDocumentData = function (documentData) {\n        var base64String = documentData.split('base64,')[1];\n        if (base64String === undefined) {\n            this.isFileName = true;\n            this.jsonDocumentId = documentData;\n            if (this.pdfViewer.fileName === null) {\n                // eslint-disable-next-line max-len\n                var documentStringArray = (documentData.indexOf('\\\\') !== -1) ? documentData.split('\\\\') : documentData.split('/');\n                this.pdfViewer.fileName = documentStringArray[documentStringArray.length - 1];\n                this.jsonDocumentId = this.pdfViewer.fileName;\n                base64String = documentData;\n            }\n        }\n        else {\n            this.jsonDocumentId = null;\n        }\n        return base64String;\n    };\n    PdfViewerBase.prototype.setFileName = function () {\n        if (this.pdfViewer.fileName === null) {\n            if (this.pdfViewer.toolbarModule && this.pdfViewer.toolbarModule.uploadedDocumentName) {\n                this.pdfViewer.fileName = this.pdfViewer.toolbarModule.uploadedDocumentName;\n                this.jsonDocumentId = this.pdfViewer.fileName;\n            }\n            else {\n                this.pdfViewer.fileName = 'undefined.pdf';\n                this.jsonDocumentId = null;\n            }\n        }\n    };\n    PdfViewerBase.prototype.saveDocumentInfo = function () {\n        window.sessionStorage.setItem('currentDocument', this.documentId);\n        window.sessionStorage.setItem('serviceURL', this.pdfViewer.serviceUrl);\n        if (this.pdfViewer.serverActionSettings) {\n            window.sessionStorage.setItem('unload', this.pdfViewer.serverActionSettings.unload);\n        }\n    };\n    PdfViewerBase.prototype.saveDocumentHashData = function () {\n        var hashId = '';\n        if (Browser.isIE || Browser.info.name === 'edge') {\n            hashId = encodeURI(this.hashId);\n        }\n        else {\n            hashId = this.hashId;\n        }\n        window.sessionStorage.setItem('hashId', hashId);\n        if (this.documentLiveCount) {\n            window.sessionStorage.setItem('documentLiveCount', this.documentLiveCount.toString());\n        }\n    };\n    // eslint-disable-next-line\n    PdfViewerBase.prototype.saveFormfieldsData = function (data) {\n        this.pdfViewer.isFormFieldDocument = false;\n        this.enableFormFieldButton(false);\n        if (data && data.PdfRenderedFormFields && data.PdfRenderedFormFields.length > 0) {\n            if (this.formfieldvalue) {\n                if (this.pdfViewer.formFieldsModule) {\n                    this.setItemInSessionStorage(this.formfieldvalue, '_formfields');\n                }\n                this.formfieldvalue = null;\n            }\n            else if (this.pdfViewer.formFieldsModule) {\n                for (var i = 0; i < data.PdfRenderedFormFields.length; i++) {\n                    if (data.PdfRenderedFormFields[i].FieldName == '') {\n                        data.PdfRenderedFormFields.splice(i, 1);\n                    }\n                }\n                this.setItemInSessionStorage(data.PdfRenderedFormFields, '_formfields');\n            }\n            if (this.pdfViewer.enableFormFields && this.pdfViewer.formFieldsModule) {\n                this.pdfViewer.formFieldsModule.formFieldCollections();\n            }\n            if (this.pdfViewer.formFieldCollections.length > 0) {\n                this.pdfViewer.isFormFieldDocument = true;\n                this.enableFormFieldButton(true);\n            }\n        }\n    };\n    /**\n     * @param {boolean} isEnable - Enable or disable the toolbar itema.\n     * @returns {void}\n     * @private\n     */\n    PdfViewerBase.prototype.enableFormFieldButton = function (isEnable) {\n        if (isEnable) {\n            this.pdfViewer.isFormFieldDocument = true;\n        }\n        if (this.pdfViewer.toolbarModule && this.pdfViewer.toolbarModule.submitItem) {\n            this.pdfViewer.toolbarModule.toolbar.enableItems(this.pdfViewer.toolbarModule.submitItem.parentElement, isEnable);\n        }\n    };\n    PdfViewerBase.prototype.updateWaitingPopup = function (pageNumber) {\n        if (this.pageSize[pageNumber].top != null) {\n            // eslint-disable-next-line max-len\n            var pageCurrentRect = this.getElement('_pageDiv_' + pageNumber).getBoundingClientRect();\n            var waitingPopup = this.getElement('_pageDiv_' + pageNumber).firstChild.firstChild;\n            if (pageCurrentRect.top < 0) {\n                if (this.toolbarHeight + (this.viewerContainer.clientHeight / 2) - pageCurrentRect.top < pageCurrentRect.height) {\n                    waitingPopup.style.top = ((this.viewerContainer.clientHeight / 2) - pageCurrentRect.top) - this.toolbarHeight + 'px';\n                }\n                else {\n                    if (this.toolbarHeight + (pageCurrentRect.bottom / 2) - pageCurrentRect.top < pageCurrentRect.height) {\n                        waitingPopup.style.top = ((pageCurrentRect.bottom / 2) - pageCurrentRect.top) - this.toolbarHeight + 'px';\n                    }\n                }\n            }\n            else {\n                waitingPopup.style.top = this.viewerContainer.clientHeight / 2 + 'px';\n            }\n            if ((Browser.isDevice && !this.pdfViewer.enableDesktopMode) && pageCurrentRect.width > this.viewerContainer.clientWidth) {\n                waitingPopup.style.left = (this.viewerContainer.clientWidth / 2) + (this.viewerContainer.scrollLeft) + 'px';\n            }\n            else if (this.getZoomFactor() > 1.25 && pageCurrentRect.width > this.viewerContainer.clientWidth) {\n                waitingPopup.style.left = this.viewerContainer.clientWidth / 2 + 'px';\n            }\n            else {\n                waitingPopup.style.left = pageCurrentRect.width / 2 + 'px';\n            }\n        }\n    };\n    /**\n     * @private\n     * @returns {number} - returned the page value.\n     */\n    PdfViewerBase.prototype.getActivePage = function (isPageNumber) {\n        if (this.activeElements && !isNullOrUndefined(this.activeElements.activePageID)) {\n            if (isPageNumber) {\n                return this.activeElements.activePageID + 1;\n            }\n            else {\n                return this.activeElements.activePageID;\n            }\n        }\n        else {\n            if (isPageNumber) {\n                return this.currentPageNumber;\n            }\n            else {\n                return this.currentPageNumber - 1;\n            }\n        }\n    };\n    PdfViewerBase.prototype.createWaitingPopup = function (pageNumber) {\n        // eslint-disable-next-line max-len\n        var waitingPopup = document.getElementById(this.pdfViewer.element.id + '_pageDiv_' + pageNumber);\n        if (waitingPopup) {\n            createSpinner({ target: waitingPopup });\n            this.setLoaderProperties(waitingPopup);\n        }\n    };\n    PdfViewerBase.prototype.showLoadingIndicator = function (isShow) {\n        var waitingPopup = this.getElement('_loadingIndicator');\n        if (waitingPopup) {\n            if (isShow) {\n                waitingPopup.style.display = 'block';\n                showSpinner(waitingPopup);\n            }\n            else {\n                waitingPopup.style.display = 'none';\n                hideSpinner(waitingPopup);\n            }\n        }\n    };\n    PdfViewerBase.prototype.showPageLoadingIndicator = function (pageIndex, isShow) {\n        var waitingPopup = this.getElement('_pageDiv_' + pageIndex);\n        if (waitingPopup != null) {\n            if (isShow) {\n                showSpinner(waitingPopup);\n            }\n            else {\n                hideSpinner(waitingPopup);\n            }\n            this.updateWaitingPopup(pageIndex);\n        }\n    };\n    /**\n     * @param {boolean} isShow - Show or hide print loading indicator.\n     * @returns {void}\n     * @private\n     */\n    PdfViewerBase.prototype.showPrintLoadingIndicator = function (isShow) {\n        var printWaitingPopup = this.getElement('_printLoadingIndicator');\n        if (printWaitingPopup != null) {\n            if (isShow) {\n                this.printMainContainer.style.display = 'block';\n                showSpinner(printWaitingPopup);\n            }\n            else {\n                this.printMainContainer.style.display = 'none';\n                hideSpinner(printWaitingPopup);\n            }\n        }\n    };\n    PdfViewerBase.prototype.setLoaderProperties = function (element) {\n        var spinnerElement = element.firstChild.firstChild.firstChild;\n        if (spinnerElement) {\n            spinnerElement.style.height = '48px';\n            spinnerElement.style.width = '48px';\n            spinnerElement.style.transformOrigin = '24px 24px 24px';\n        }\n    };\n    /**\n     * @param {number} pageNumber - Specify the pageNumber.\n     * @returns {void}\n     * @private\n     */\n    PdfViewerBase.prototype.updateScrollTop = function (pageNumber) {\n        var _this = this;\n        // eslint-disable-next-line\n        if (this.pageSize[pageNumber] != null) {\n            this.renderElementsVirtualScroll(pageNumber);\n            this.viewerContainer.scrollTop = this.getPageTop(pageNumber);\n            if (this.renderedPagesList.indexOf(pageNumber) === -1) {\n                this.createRequestForRender(pageNumber);\n            }\n            setTimeout(function () {\n                var currentPageNumber = pageNumber + 1;\n                if (currentPageNumber !== _this.currentPageNumber) {\n                    _this.pdfViewer.currentPageNumber = currentPageNumber;\n                    _this.currentPageNumber = currentPageNumber;\n                    if (_this.pdfViewer.toolbarModule) {\n                        _this.pdfViewer.toolbarModule.updateCurrentPage(currentPageNumber);\n                    }\n                }\n            }, 100);\n        }\n    };\n    /**\n     * @private\n     * @returns {number} - Returns the zoom factor value.\n     */\n    PdfViewerBase.prototype.getZoomFactor = function () {\n        if (this.pdfViewer.magnificationModule) {\n            return this.pdfViewer.magnificationModule.zoomFactor;\n        }\n        else {\n            // default value\n            return 1;\n        }\n    };\n    /**\n     * @private\n     * @returns {boolean} - Returns whether the pinch zoom is performed or not.\n     */\n    PdfViewerBase.prototype.getPinchZoomed = function () {\n        if (this.pdfViewer.magnificationModule) {\n            return this.pdfViewer.magnificationModule.isPinchZoomed;\n        }\n        else {\n            // default value\n            return false;\n        }\n    };\n    /**\n     * @private\n     * @returns {boolean} -Returns whether the zoom is performed or not.\n     */\n    PdfViewerBase.prototype.getMagnified = function () {\n        if (this.pdfViewer.magnificationModule) {\n            return this.pdfViewer.magnificationModule.isMagnified;\n        }\n        else {\n            // default value\n            return false;\n        }\n    };\n    PdfViewerBase.prototype.getPinchScrolled = function () {\n        if (this.pdfViewer.magnificationModule) {\n            return this.pdfViewer.magnificationModule.isPinchScrolled;\n        }\n        else {\n            // default value\n            return false;\n        }\n    };\n    PdfViewerBase.prototype.getPagesPinchZoomed = function () {\n        if (this.pdfViewer.magnificationModule) {\n            return this.pdfViewer.magnificationModule.isPagePinchZoomed;\n        }\n        else {\n            // default value\n            return false;\n        }\n    };\n    PdfViewerBase.prototype.getPagesZoomed = function () {\n        if (this.pdfViewer.magnificationModule) {\n            return this.pdfViewer.magnificationModule.isPagesZoomed;\n        }\n        else {\n            // default value\n            return false;\n        }\n    };\n    PdfViewerBase.prototype.getRerenderCanvasCreated = function () {\n        if (this.pdfViewer.magnificationModule) {\n            return this.pdfViewer.magnificationModule.isRerenderCanvasCreated;\n        }\n        else {\n            // default value\n            return false;\n        }\n    };\n    /**\n     * @private\n     * @returns {string} - retrun the docuumentid.\n     */\n    PdfViewerBase.prototype.getDocumentId = function () {\n        return this.documentId;\n    };\n    /**\n     * @private\n     * @returns {void}\n     */\n    PdfViewerBase.prototype.download = function () {\n        if (this.pageCount > 0) {\n            this.createRequestForDownload();\n        }\n    };\n    /**\n     * @private\n     * @returns {promise<Blob>} - Returns the blob object.\n     */\n    PdfViewerBase.prototype.saveAsBlob = function () {\n        var _this = this;\n        if (this.pageCount > 0) {\n            return new Promise(function (resolve, reject) {\n                _this.saveAsBlobRequest().then(function (value) {\n                    resolve(value);\n                });\n            });\n        }\n        return null;\n    };\n    PdfViewerBase.prototype.saveAsBlobRequest = function () {\n        var _this = this;\n        var proxy = null;\n        proxy = this;\n        var promise = new Promise(function (resolve, reject) {\n            // eslint-disable-next-line\n            var jsonObject = proxy.constructJsonDownload();\n            _this.dowonloadRequestHandler = new AjaxHandler(_this.pdfViewer);\n            _this.dowonloadRequestHandler.url = proxy.pdfViewer.serviceUrl + '/' + proxy.pdfViewer.serverActionSettings.download;\n            _this.dowonloadRequestHandler.responseType = 'text';\n            _this.dowonloadRequestHandler.send(jsonObject);\n            // eslint-disable-next-line\n            _this.dowonloadRequestHandler.onSuccess = function (result) {\n                // eslint-disable-next-line\n                var data = result.data;\n                if (data) {\n                    if (typeof data === 'object') {\n                        data = JSON.parse(data);\n                    }\n                    if (typeof data !== 'object' && data.indexOf('data:application/pdf') === -1) {\n                        proxy.onControlError(500, data, proxy.pdfViewer.serverActionSettings.download);\n                        data = null;\n                    }\n                    if (data) {\n                        proxy.pdfViewer.fireAjaxRequestSuccess(proxy.pdfViewer.serverActionSettings.download, data);\n                        var blobUrl = proxy.createBlobUrl(data.split('base64,')[1], 'application/pdf');\n                        resolve(blobUrl);\n                    }\n                }\n            };\n            // eslint-disable-next-line\n            _this.dowonloadRequestHandler.onFailure = function (result) {\n                proxy.pdfViewer.fireAjaxRequestFailed(result.status, result.statusText, proxy.pdfViewer.serverActionSettings.download);\n            };\n            // eslint-disable-next-line\n            _this.dowonloadRequestHandler.onError = function (result) {\n                proxy.openNotificationPopup();\n                proxy.pdfViewer.fireAjaxRequestFailed(result.status, result.statusText, proxy.pdfViewer.serverActionSettings.download);\n            };\n        });\n        return promise;\n    };\n    /**\n     * @param {boolean} isTriggerEvent - check to trigger the event.\n     * @returns {void}\n     * @private\n     */\n    PdfViewerBase.prototype.clear = function (isTriggerEvent) {\n        var proxy = this;\n        var pdfViewer = proxy.pdfViewer;\n        var printModule = pdfViewer.printModule;\n        var textSearchModule = pdfViewer.textSearchModule;\n        var bookmarkViewModule = pdfViewer.bookmarkViewModule;\n        var thumbnailViewModule = pdfViewer.thumbnailView;\n        var annotationModule = pdfViewer.annotation;\n        var magnificationModule = pdfViewer.magnificationModule;\n        var textSelectionModule = pdfViewer.textSelectionModule;\n        var formFieldsModule = pdfViewer.formFieldsModule;\n        var signatureModule = proxy.signatureModule;\n        proxy.isPasswordAvailable = false;\n        proxy.isDocumentLoaded = false;\n        proxy.isInitialLoaded = false;\n        proxy.isImportAction = false;\n        proxy.annotationPageList = [];\n        proxy.annotationComments = null;\n        pdfViewer.annotationCollection = [];\n        pdfViewer.signatureCollection = [];\n        pdfViewer.formFieldCollection = [];\n        proxy.isAnnotationCollectionRemoved = false;\n        proxy.documentAnnotationCollections = null;\n        proxy.isDrawnCompletely = false;\n        proxy.annotationRenderredList = [];\n        proxy.isImportAction = false;\n        proxy.isImportedAnnotation = false;\n        proxy.importedAnnotation = [];\n        proxy.isStorageExceed = false;\n        proxy.annotationStorage = {};\n        proxy.formFieldStorage = {};\n        proxy.downloadCollections = {};\n        proxy.annotationEvent = null;\n        proxy.highestWidth = 0;\n        proxy.highestHeight = 0;\n        proxy.requestLists = [];\n        proxy.tilerequestLists = [];\n        proxy.isToolbarInkClicked = false;\n        pdfViewer.formFieldCollections = [];\n        proxy.passwordData = '';\n        proxy.isFocusField = false;\n        proxy.focusField = [];\n        proxy.updateDocumentEditedProperty(false);\n        if (pdfViewer.formDesignerModule) {\n            pdfViewer.formDesignerModule.formFieldIndex = 0;\n            if (proxy.activeElements) {\n                pdfViewer.clearSelection(proxy.activeElements.activePageID);\n            }\n            pdfViewer.zIndexTable = [];\n        }\n        proxy.initiateTextSelectMode();\n        proxy.RestrictionEnabled(proxy.restrictionList, true);\n        proxy.restrictionList = null;\n        if (!Browser.isDevice || pdfViewer.enableDesktopMode) {\n            if (proxy.navigationPane.sideBarToolbar) {\n                proxy.navigationPane.clear();\n            }\n        }\n        if (!isBlazor() && Browser.isDevice || !pdfViewer.enableDesktopMode) {\n            proxy.navigationPane.clear();\n        }\n        if (thumbnailViewModule) {\n            thumbnailViewModule.clear();\n        }\n        if (bookmarkViewModule) {\n            bookmarkViewModule.clear();\n        }\n        if (magnificationModule) {\n            magnificationModule.isMagnified = false;\n            magnificationModule.clearIntervalTimer();\n        }\n        if (textSelectionModule) {\n            textSelectionModule.clearTextSelection();\n        }\n        if (textSearchModule) {\n            textSearchModule.resetTextSearch();\n        }\n        if (annotationModule) {\n            annotationModule.clear();\n            annotationModule.initializeCollection();\n        }\n        if (formFieldsModule) {\n            formFieldsModule.readOnlyCollection = [];\n            formFieldsModule.signatureFieldCollection = [];\n            formFieldsModule.currentTarget = null;\n        }\n        if (signatureModule) {\n            signatureModule.signaturecollection = [];\n            signatureModule.outputcollection = [];\n        }\n        if (proxy.pageSize) {\n            proxy.pageSize = [];\n        }\n        if (proxy.renderedPagesList) {\n            proxy.renderedPagesList = [];\n        }\n        if (proxy.pageContainer) {\n            while (proxy.pageContainer.hasChildNodes()) {\n                proxy.pageContainer.removeChild(proxy.pageContainer.lastChild);\n            }\n        }\n        if (proxy.pageCount > 0) {\n            proxy.unloadDocument(proxy);\n            // eslint-disable-next-line\n            proxy.textLayer.characterBound = new Array();\n            proxy.loadRequestHandler && proxy.loadRequestHandler.clear();\n            proxy.virtualLoadRequestHandler && proxy.virtualLoadRequestHandler.clear();\n            proxy.pageRequestHandler && proxy.pageRequestHandler.clear();\n            proxy.dowonloadRequestHandler && proxy.dowonloadRequestHandler.clear();\n            proxy.importAnnotationRequestHandler && proxy.importAnnotationRequestHandler.clear();\n            proxy.exportAnnotationRequestHandler && proxy.exportAnnotationRequestHandler.clear();\n            proxy.importFormFieldsRequestHandler && proxy.importFormFieldsRequestHandler.clear();\n            proxy.exportFormFieldsRequestHandler && proxy.exportFormFieldsRequestHandler.clear();\n            if (printModule && printModule.printRequestHandler) {\n                printModule.printRequestHandler.clear();\n            }\n        }\n        proxy.windowSessionStorageClear();\n        if (proxy.pinchZoomStorage) {\n            proxy.pinchZoomStorage = [];\n        }\n        if ((proxy.previousZoomValue || proxy.previousZoomValue === 0) && proxy.previousZoomValue !== pdfViewer.zoomValue) {\n            pdfViewer.zoomValue = proxy.previousZoomValue;\n        }\n        if (isTriggerEvent && proxy.pageCount > 0) {\n            pdfViewer.fireDocumentUnload(this.pdfViewer.fileName);\n        }\n        this.pdfViewer.fileName = null;\n    };\n    /**\n     * @private\n     * @returns {void}\n     */\n    PdfViewerBase.prototype.destroy = function () {\n        if (Browser.isDevice && !this.pdfViewer.enableDesktopMode) {\n            this.pdfViewer.element.classList.remove('e-pv-mobile-view');\n        }\n        this.unWireEvents();\n        this.clear(false);\n        this.pageContainer.parentNode ? this.pageContainer.parentNode.removeChild(this.pageContainer) : null;\n        this.viewerContainer.parentNode ? this.viewerContainer.parentNode.removeChild(this.viewerContainer) : null;\n        if (this.contextMenuModule) {\n            var contextMenuElement = this.contextMenuModule.contextMenuElement;\n            contextMenuElement && contextMenuElement.ej2_instances && contextMenuElement.ej2_instances.length > 0 ? this.contextMenuModule.destroy() : null;\n        }\n        if (this.pdfViewer.toolbarModule) {\n            this.navigationPane.destroy();\n        }\n        var measureElement = document.getElementById('measureElement');\n        if (measureElement) {\n            measureElement = undefined;\n        }\n    };\n    /**\n     * @param {PdfViewerBase} proxy - PdfviewerBase class.\n     * @returns {void}\n     * @private\n     */\n    // eslint-disable-next-line\n    PdfViewerBase.prototype.unloadDocument = function (proxy) {\n        var documentId = '';\n        if (Browser.isIE || Browser.info.name === 'edge') {\n            documentId = decodeURI(window.sessionStorage.getItem('hashId'));\n        }\n        else {\n            documentId = window.sessionStorage.getItem('hashId');\n        }\n        var documentLiveCount = window.sessionStorage.getItem('documentLiveCount');\n        if (documentId !== null) {\n            // eslint-disable-next-line max-len\n            var jsonObject = { hashId: documentId, documentLiveCount: documentLiveCount, action: 'Unload', elementId: proxy.pdfViewer.element.id };\n            var actionName = window.sessionStorage.getItem('unload');\n            if (window.sessionStorage.getItem('serviceURL') && window.sessionStorage.getItem('serviceURL') !== 'undefined') {\n                try {\n                    // eslint-disable-next-line\n                    var browserSupportsKeepalive = 'keepalive' in new Request('');\n                    if (browserSupportsKeepalive) {\n                        // eslint-disable-next-line\n                        var headerValue = this.setUnloadRequestHeaders();\n                        var credentialsData = this.pdfViewer.ajaxRequestSettings.withCredentials ? 'include' : 'omit';\n                        fetch(window.sessionStorage.getItem('serviceURL') + '/' + actionName, {\n                            method: 'POST',\n                            credentials: credentialsData,\n                            headers: headerValue,\n                            body: JSON.stringify(jsonObject)\n                        });\n                    }\n                }\n                catch (error) {\n                    this.unloadRequestHandler = new AjaxHandler(this.pdfViewer);\n                    this.unloadRequestHandler.send(jsonObject);\n                }\n            }\n            else if (isBlazor()) {\n                this.clearCache(actionName, jsonObject, proxy);\n            }\n        }\n        if (this.pdfViewer.magnificationModule) {\n            this.pdfViewer.magnificationModule.zoomFactor = 1;\n        }\n        this.formFieldCollection = [];\n        window.sessionStorage.removeItem('hashId');\n        window.sessionStorage.removeItem('documentLiveCount');\n        if (this.documentId) {\n            window.sessionStorage.removeItem(this.documentId + '_formfields');\n            window.sessionStorage.removeItem(this.documentId + '_formDesigner');\n            window.sessionStorage.removeItem(this.documentId + '_annotations_shape');\n            window.sessionStorage.removeItem(this.documentId + '_annotations_shape_measure');\n            window.sessionStorage.removeItem(this.documentId + '_annotations_stamp');\n            window.sessionStorage.removeItem(this.documentId + '_annotations_sticky');\n            window.sessionStorage.removeItem(this.documentId + '_annotations_textMarkup');\n            window.sessionStorage.removeItem(this.documentId + '_annotations_freetext');\n            window.sessionStorage.removeItem(this.documentId + '_formfields');\n            window.sessionStorage.removeItem(this.documentId + '_annotations_sign');\n            window.sessionStorage.removeItem(this.documentId + '_annotations_ink');\n        }\n    };\n    PdfViewerBase.prototype.clearCache = function (actionName, jsonObject, proxy) {\n        this.unloadRequestHandler = new AjaxHandler(this.pdfViewer);\n        this.unloadRequestHandler.url = window.sessionStorage.getItem('serviceURL') + '/' + actionName;\n        this.unloadRequestHandler.mode = false;\n        this.unloadRequestHandler.responseType = null;\n        this.unloadRequestHandler.send(jsonObject);\n        // eslint-disable-next-line\n        this.unloadRequestHandler.onSuccess = function (result) {\n            // eslint-disable-next-line\n            var data = result.data;\n            if (data) {\n                if (typeof data !== 'object') {\n                    if (data.indexOf('Document') === -1) {\n                        proxy.onControlError(500, data, actionName);\n                        data = null;\n                    }\n                }\n                if (data) {\n                    proxy.pdfViewer.fireAjaxRequestSuccess(proxy.pdfViewer.serverActionSettings.unload, data);\n                }\n            }\n        };\n        // eslint-disable-next-line\n        this.unloadRequestHandler.onFailure = function (result) {\n            proxy.pdfViewer.fireAjaxRequestFailed(result.status, result.statusText, actionName);\n        };\n        // eslint-disable-next-line\n        this.unloadRequestHandler.onError = function (result) {\n            proxy.pdfViewer.fireAjaxRequestFailed(result.status, result.statusText, actionName);\n        };\n    };\n    // eslint-disable-next-line\n    PdfViewerBase.prototype.setUnloadRequestHeaders = function () {\n        // eslint-disable-next-line\n        var myHeaders = new Headers();\n        myHeaders.append('Content-Type', 'application/json;charset=UTF-8');\n        for (var i = 0; i < this.pdfViewer.ajaxRequestSettings.ajaxHeaders.length; i++) {\n            // eslint-disable-next-line max-len\n            myHeaders.append(this.pdfViewer.ajaxRequestSettings.ajaxHeaders[i].headerName, this.pdfViewer.ajaxRequestSettings.ajaxHeaders[i].headerValue);\n        }\n        return myHeaders;\n    };\n    PdfViewerBase.prototype.windowSessionStorageClear = function () {\n        window.sessionStorage.removeItem('currentDocument');\n        window.sessionStorage.removeItem('serviceURL');\n        window.sessionStorage.removeItem('unload');\n        for (var i = 0; i < this.sessionStorage.length; i++) {\n            window.sessionStorage.removeItem(this.sessionStorage[i]);\n        }\n    };\n    PdfViewerBase.prototype.updateCommentPanel = function () {\n        // eslint-disable-next-line\n        var moreOptionsButton = document.querySelectorAll('#' + this.pdfViewer.element.id + '_more-options');\n        for (var i = 0; i < moreOptionsButton.length; i++) {\n            moreOptionsButton[i].style.visibility = 'hidden';\n        }\n        // eslint-disable-next-line\n        var commentTextBox = document.querySelectorAll('.e-pv-new-comments-div');\n        for (var j = 0; j < commentTextBox.length; j++) {\n            commentTextBox[j].style.display = 'none';\n        }\n        // eslint-disable-next-line\n        var commentContainer = document.querySelectorAll('.e-pv-comments-border');\n        for (var j = 0; j < commentContainer.length; j++) {\n            commentContainer[j].classList.remove('e-pv-comments-border');\n        }\n        // eslint-disable-next-line\n        var editableElement = document.querySelectorAll('.e-editable-inline');\n        for (var j = 0; j < editableElement.length; j++) {\n            editableElement[j].style.display = 'none';\n        }\n        // eslint-disable-next-line\n        var commentSelect = document.querySelectorAll('.e-pv-comments-select');\n        for (var z = 0; z < commentSelect.length; z++) {\n            commentSelect[z].classList.remove('e-pv-comments-select');\n        }\n        // eslint-disable-next-line\n        var commentsDiv = document.querySelectorAll('.e-pv-comments-div');\n        for (var j = 0; j < commentsDiv.length; j++) {\n            commentsDiv[j].style.minHeight = 60 + 'px';\n        }\n    };\n    /**\n     * @param {boolean} isMouseDown - check whether the mouse down is triggered.\n     * @returns {void}\n     * @private\n     */\n    PdfViewerBase.prototype.focusViewerContainer = function (isMouseDown) {\n        var scrollX = window.scrollX;\n        var scrollY = window.scrollY;\n        // eslint-disable-next-line\n        var parentNode = this.getScrollParent(this.viewerContainer);\n        var scrollNodeX = 0;\n        var scrollNodeY = 0;\n        if (parentNode !== null) {\n            scrollNodeX = parentNode.scrollLeft;\n            scrollNodeY = parentNode.scrollTop;\n        }\n        this.viewerContainer.focus();\n        if (this.currentPageNumber > 0) {\n            this.viewerContainer.setAttribute('aria-labelledby', this.pdfViewer.element.id + '_pageDiv_' + (this.currentPageNumber - 1));\n        }\n        if (this.pdfViewer.annotation && this.pdfViewer.annotation.stickyNotesAnnotationModule.accordionContainer) {\n            this.updateCommentPanel();\n        }\n        // eslint-disable-next-line max-len\n        if ((navigator.userAgent.indexOf('MSIE') !== -1 || navigator.appVersion.indexOf('Trident/') > -1 || navigator.userAgent.indexOf('Edge') !== -1) && parentNode !== null) {\n            parentNode.scrollLeft = scrollNodeX;\n            parentNode.scrollTop = scrollNodeY;\n        }\n        else if (parentNode !== null) {\n            parentNode.scrollTo(scrollNodeX, scrollNodeY);\n        }\n        window.scrollTo(scrollX, scrollY);\n    };\n    // eslint-disable-next-line\n    PdfViewerBase.prototype.getScrollParent = function (node) {\n        if (node === null || node.nodeName === 'HTML') {\n            return null;\n        }\n        var style = getComputedStyle(node);\n        if (this.viewerContainer.id !== node.id && (style.overflowY === 'scroll' || style.overflowY === 'auto')) {\n            return node;\n        }\n        else {\n            return this.getScrollParent(node.parentNode);\n        }\n    };\n    PdfViewerBase.prototype.createCorruptedPopup = function () {\n        var _this = this;\n        // eslint-disable-next-line max-len\n        var popupElement = createElement('div', { id: this.pdfViewer.element.id + '_corrupted_popup', className: 'e-pv-corrupted-popup' });\n        this.pageContainer.appendChild(popupElement);\n        this.corruptPopup = new Dialog({\n            showCloseIcon: true, closeOnEscape: true, isModal: true,\n            // eslint-disable-next-line max-len\n            header: '<div class=\"e-pv-corrupted-popup-header\"> ' + this.pdfViewer.localeObj.getConstant('File Corrupted') + '</div>', visible: false,\n            // eslint-disable-next-line max-len\n            buttons: [{ buttonModel: { content: this.pdfViewer.localeObj.getConstant('OK'), isPrimary: true }, click: this.closeCorruptPopup.bind(this) }],\n            target: this.pdfViewer.element, beforeClose: function () {\n                _this.corruptPopup.destroy();\n                _this.getElement('_corrupted_popup').remove();\n                _this.corruptPopup = null;\n                var waitingPopup = _this.getElement('_loadingIndicator');\n                if (waitingPopup != null) {\n                    hideSpinner(waitingPopup);\n                }\n            }\n        });\n        if (this.pdfViewer.enableRtl) {\n            // eslint-disable-next-line max-len\n            this.corruptPopup.content = '<div id=\"templatertl\" class=\"e-pv-notification-icon-rtl\"> <div class=\"e-pv-corrupted-popup-content-rtl\" tabindex=\"0\">' + this.pdfViewer.localeObj.getConstant('File Corrupted Content') + '</div></div>';\n            this.corruptPopup.enableRtl = true;\n        }\n        else {\n            // eslint-disable-next-line max-len\n            this.corruptPopup.content = '<div id=\"template\" class=\"e-pv-notification-icon\"> <div class=\"e-pv-corrupted-popup-content\" tabindex=\"0\">' + this.pdfViewer.localeObj.getConstant('File Corrupted Content') + '</div></div>';\n        }\n        this.corruptPopup.appendTo(popupElement);\n    };\n    /**\n     * @private\n     * @returns {void}\n     */\n    PdfViewerBase.prototype.hideLoadingIndicator = function () {\n        var waitingPopup = this.getElement('_loadingIndicator');\n        if (waitingPopup !== null) {\n            hideSpinner(waitingPopup);\n        }\n    };\n    PdfViewerBase.prototype.closeCorruptPopup = function () {\n        this.corruptPopup.hide();\n        var waitingPopup = this.getElement('_loadingIndicator');\n        if (waitingPopup !== null) {\n            hideSpinner(waitingPopup);\n        }\n    };\n    PdfViewerBase.prototype.createPrintPopup = function () {\n        var element = document.getElementById(this.pdfViewer.element.id);\n        this.printMainContainer = createElement('div', {\n            id: this.pdfViewer.element.id + '_printcontainer',\n            className: 'e-pv-print-popup-container'\n        });\n        element.appendChild(this.printMainContainer);\n        this.printMainContainer.style.display = 'none';\n        var printWaitingPopup = createElement('div', {\n            id: this.pdfViewer.element.id + '_printLoadingIndicator',\n            className: 'e-pv-print-loading-container'\n        });\n        this.printMainContainer.appendChild(printWaitingPopup);\n        createSpinner({ target: printWaitingPopup, cssClass: 'e-spin-center' });\n        this.setLoaderProperties(printWaitingPopup);\n    };\n    PdfViewerBase.prototype.createGoToPagePopup = function () {\n        var _this = this;\n        // eslint-disable-next-line max-len\n        var popupElement = createElement('div', { id: this.pdfViewer.element.id + '_goTopage_popup', className: 'e-pv-gotopage-popup' });\n        this.goToPageElement = createElement('span', { id: this.pdfViewer.element.id + '_prompt' });\n        this.goToPageElement.textContent = this.pdfViewer.localeObj.getConstant('Enter pagenumber');\n        popupElement.appendChild(this.goToPageElement);\n        var inputContainer = createElement('span', { className: 'e-pv-text-input' });\n        // eslint-disable-next-line max-len\n        this.goToPageInput = createElement('input', { id: this.pdfViewer.element.id + '_page_input', className: 'e-input' });\n        this.goToPageInput.type = 'text';\n        this.goToPageInput.style.maxWidth = '80%';\n        this.pageNoContainer = createElement('span', { className: '.e-pv-number-ofpages' });\n        inputContainer.appendChild(this.goToPageInput);\n        inputContainer.appendChild(this.pageNoContainer);\n        popupElement.appendChild(inputContainer);\n        this.pageContainer.appendChild(popupElement);\n        this.goToPagePopup = new Dialog({\n            showCloseIcon: true, closeOnEscape: false, isModal: true,\n            header: this.pdfViewer.localeObj.getConstant('GoToPage'), visible: false, buttons: [\n                {\n                    buttonModel: { content: this.pdfViewer.localeObj.getConstant('Cancel') },\n                    click: this.GoToPageCancelClick.bind(this)\n                },\n                // eslint-disable-next-line max-len\n                {\n                    buttonModel: { content: this.pdfViewer.localeObj.getConstant('Apply'), disabled: true, cssClass: 'e-pv-gotopage-apply-btn', isPrimary: true },\n                    click: this.GoToPageApplyClick.bind(this)\n                }\n            ], close: this.closeGoToPagePopUp.bind(this)\n        });\n        if (this.pdfViewer.enableRtl) {\n            this.goToPagePopup.enableRtl = true;\n        }\n        this.goToPagePopup.appendTo(popupElement);\n        if (!isBlazor()) {\n            var goToPageTextBox = new NumericTextBox({ format: '##', showSpinButton: false });\n            goToPageTextBox.appendTo(this.goToPageInput);\n        }\n        this.goToPageInput.addEventListener('keyup', function () {\n            // eslint-disable-next-line\n            var inputValue = _this.goToPageInput.value;\n            if (inputValue !== '' && parseFloat(inputValue) > 0 && (_this.pdfViewer.pageCount + 1) > parseFloat(inputValue)) {\n                _this.EnableApplyButton();\n            }\n            else {\n                _this.DisableApplyButton();\n            }\n        });\n    };\n    PdfViewerBase.prototype.closeGoToPagePopUp = function () {\n        this.goToPageInput.value = '';\n        this.DisableApplyButton();\n    };\n    PdfViewerBase.prototype.EnableApplyButton = function () {\n        // eslint-disable-next-line\n        var popupElements = document.getElementsByClassName('e-pv-gotopage-apply-btn')[0];\n        popupElements.removeAttribute('disabled');\n    };\n    PdfViewerBase.prototype.DisableApplyButton = function () {\n        // eslint-disable-next-line\n        var popupElements = document.getElementsByClassName('e-pv-gotopage-apply-btn')[0];\n        popupElements.setAttribute('disabled', true);\n    };\n    PdfViewerBase.prototype.GoToPageCancelClick = function () {\n        this.goToPagePopup.hide();\n    };\n    PdfViewerBase.prototype.GoToPageApplyClick = function () {\n        this.goToPagePopup.hide();\n        // eslint-disable-next-line\n        var pageNumber = this.goToPageInput.value;\n        this.pdfViewer.navigation.goToPage(pageNumber);\n        this.updateMobileScrollerPosition();\n    };\n    /**\n     * @private\n     * @returns {void}\n     */\n    PdfViewerBase.prototype.updateMobileScrollerPosition = function () {\n        if ((Browser.isDevice && !this.pdfViewer.enableDesktopMode) && this.mobileScrollerContainer) {\n            // eslint-disable-next-line\n            var ratio = (this.viewerContainer.scrollHeight - this.viewerContainer.clientHeight) / (this.viewerContainer.clientHeight - 56);\n            // eslint-disable-next-line\n            var differenceRatio = (this.viewerContainer.scrollTop) / ratio;\n            // eslint-disable-next-line\n            var toolbarHeight = this.pdfViewer.toolbarModule ? this.toolbarHeight : 0;\n            this.mobileScrollerContainer.style.top = (toolbarHeight + differenceRatio) + 'px';\n        }\n    };\n    PdfViewerBase.prototype.createPasswordPopup = function () {\n        var _this = this;\n        // eslint-disable-next-line max-len\n        var popupElement = createElement('div', { id: this.pdfViewer.element.id + '_password_popup', className: 'e-pv-password-popup', attrs: { 'tabindex': '-1' } });\n        this.promptElement = createElement('span', { id: this.pdfViewer.element.id + '_prompt', attrs: { 'tabindex': '-1' } });\n        this.promptElement.textContent = this.pdfViewer.localeObj.getConstant('Enter Password');\n        popupElement.appendChild(this.promptElement);\n        var inputContainer = createElement('span', { className: 'e-input-group e-pv-password-input' });\n        // eslint-disable-next-line max-len\n        this.passwordInput = createElement('input', { id: this.pdfViewer.element.id + '_password_input', className: 'e-input' });\n        this.passwordInput.type = 'password';\n        this.passwordInput.name = 'Required';\n        inputContainer.appendChild(this.passwordInput);\n        popupElement.appendChild(inputContainer);\n        this.pageContainer.appendChild(popupElement);\n        this.passwordPopup = new Dialog({\n            showCloseIcon: true, closeOnEscape: false, isModal: true,\n            header: this.pdfViewer.localeObj.getConstant('Password Protected'), visible: false,\n            close: this.passwordCancel.bind(this), target: this.pdfViewer.element, beforeClose: function () {\n                _this.passwordPopup.destroy();\n                _this.getElement('_password_popup').remove();\n                _this.passwordPopup = null;\n                var waitingPopup = _this.getElement('_loadingIndicator');\n                if (waitingPopup != null) {\n                    hideSpinner(waitingPopup);\n                }\n            }\n        });\n        if (!Browser.isDevice || this.pdfViewer.enableDesktopMode) {\n            this.passwordPopup.buttons = [\n                {\n                    buttonModel: { content: this.pdfViewer.localeObj.getConstant('OK'), isPrimary: true },\n                    click: this.applyPassword.bind(this)\n                },\n                { buttonModel: { content: this.pdfViewer.localeObj.getConstant('Cancel') }, click: this.passwordCancelClick.bind(this) }\n            ];\n        }\n        else {\n            this.passwordPopup.buttons = [\n                { buttonModel: { content: this.pdfViewer.localeObj.getConstant('Cancel') }, click: this.passwordCancelClick.bind(this) },\n                {\n                    buttonModel: { content: this.pdfViewer.localeObj.getConstant('OK'), isPrimary: true },\n                    click: this.applyPassword.bind(this)\n                }\n            ];\n        }\n        if (this.pdfViewer.enableRtl) {\n            this.passwordPopup.enableRtl = true;\n        }\n        this.passwordPopup.appendTo(popupElement);\n        this.passwordInput.addEventListener('keyup', function () {\n            if (_this.passwordInput.value === '') {\n                _this.passwordDialogReset();\n            }\n        });\n        this.passwordInput.addEventListener('focus', function () {\n            _this.passwordInput.parentElement.classList.add('e-input-focus');\n        });\n        this.passwordInput.addEventListener('blur', function () {\n            _this.passwordInput.parentElement.classList.remove('e-input-focus');\n        });\n    };\n    // eslint-disable-next-line\n    PdfViewerBase.prototype.passwordCancel = function (args) {\n        if (args.isInteraction) {\n            this.clear(false);\n            this.passwordDialogReset();\n            this.passwordInput.value = '';\n        }\n        var waitingPopup = this.getElement('_loadingIndicator');\n        if (waitingPopup !== null) {\n            hideSpinner(waitingPopup);\n        }\n    };\n    PdfViewerBase.prototype.passwordCancelClick = function () {\n        this.clear(false);\n        this.passwordDialogReset();\n        this.passwordPopup.hide();\n        var waitingPopup = this.getElement('_loadingIndicator');\n        if (waitingPopup !== null) {\n            hideSpinner(waitingPopup);\n        }\n    };\n    PdfViewerBase.prototype.passwordDialogReset = function () {\n        if (!isBlazor()) {\n            if (this.promptElement) {\n                this.promptElement.classList.remove('e-pv-password-error');\n                this.promptElement.textContent = this.pdfViewer.localeObj.getConstant('Enter Password');\n                this.passwordInput.value = '';\n            }\n        }\n    };\n    /**\n     * @private\n     * @returns {void}\n     */\n    PdfViewerBase.prototype.applyPassword = function () {\n        if (!isBlazor()) {\n            var password = this.passwordInput.value;\n            if (password !== '') {\n                this.pdfViewer.load(this.document, password);\n            }\n        }\n        this.focusViewerContainer();\n    };\n    PdfViewerBase.prototype.createFileInputElement = function () {\n        if (Browser.isDevice || !this.pdfViewer.enableDesktopMode) {\n            // eslint-disable-next-line max-len\n            if (this.pdfViewer.enableAnnotationToolbar && this.pdfViewer.toolbarModule && this.pdfViewer.toolbarModule.annotationToolbarModule) {\n                this.pdfViewer.toolbarModule.annotationToolbarModule.createCustomStampElement();\n            }\n            if (this.signatureModule) {\n                this.signatureModule.createSignatureFileElement();\n            }\n        }\n    };\n    PdfViewerBase.prototype.wireEvents = function () {\n        var _this = this;\n        this.viewerContainer.addEventListener('scroll', this.viewerContainerOnScroll, true);\n        if (Browser.isDevice && !this.pdfViewer.enableDesktopMode) {\n            this.viewerContainer.addEventListener('touchmove', this.viewerContainerOnScroll, true);\n        }\n        this.viewerContainer.addEventListener('mousedown', this.viewerContainerOnMousedown);\n        this.viewerContainer.addEventListener('mouseup', this.viewerContainerOnMouseup);\n        this.viewerContainer.addEventListener('wheel', this.viewerContainerOnMouseWheel);\n        this.viewerContainer.addEventListener('mousemove', this.viewerContainerOnMousemove);\n        this.viewerContainer.addEventListener('mouseleave', this.viewerContainerOnMouseLeave);\n        this.viewerContainer.addEventListener('mouseenter', this.viewerContainerOnMouseEnter);\n        this.viewerContainer.addEventListener('mouseover', this.viewerContainerOnMouseOver);\n        this.viewerContainer.addEventListener('click', this.viewerContainerOnClick);\n        this.viewerContainer.addEventListener('dblclick', this.viewerContainerOnClick);\n        this.viewerContainer.addEventListener('dragstart', this.viewerContainerOnDragStart);\n        this.pdfViewer.element.addEventListener('keydown', this.viewerContainerOnKeyDown);\n        window.addEventListener('keydown', this.onWindowKeyDown);\n        window.addEventListener('mouseup', this.onWindowMouseUp);\n        window.addEventListener('touchend', this.onWindowTouchEnd);\n        this.unload = function () { return _this.unloadDocument(_this); };\n        window.addEventListener('unload', this.unload);\n        window.addEventListener('beforeunload', this.clearSessionStorage);\n        window.addEventListener('resize', this.onWindowResize);\n        // eslint-disable-next-line max-len\n        if (navigator.userAgent.indexOf('MSIE') !== -1 || navigator.userAgent.indexOf('Edge') !== -1 || navigator.userAgent.indexOf('Trident') !== -1) {\n            this.viewerContainer.addEventListener('pointerdown', this.viewerContainerOnPointerDown);\n            this.viewerContainer.addEventListener('pointermove', this.viewerContainerOnPointerMove);\n            this.viewerContainer.addEventListener('pointerup', this.viewerContainerOnPointerEnd);\n            this.viewerContainer.addEventListener('pointerleave', this.viewerContainerOnPointerEnd);\n        }\n        else {\n            this.viewerContainer.addEventListener('touchstart', this.viewerContainerOnTouchStart);\n            this.viewerContainer.addEventListener('touchmove', this.viewerContainerOnTouchMove);\n            this.viewerContainer.addEventListener('touchend', this.viewerContainerOnTouchEnd);\n            this.viewerContainer.addEventListener('touchleave', this.viewerContainerOnTouchEnd);\n            this.viewerContainer.addEventListener('touchcancel', this.viewerContainerOnTouchEnd);\n        }\n    };\n    PdfViewerBase.prototype.unWireEvents = function () {\n        this.viewerContainer.removeEventListener('scroll', this.viewerContainerOnScroll, true);\n        if (Browser.isDevice && !this.pdfViewer.enableDesktopMode) {\n            this.viewerContainer.removeEventListener('touchmove', this.viewerContainerOnScroll, true);\n        }\n        this.viewerContainer.removeEventListener('mousedown', this.viewerContainerOnMousedown);\n        this.viewerContainer.removeEventListener('mouseup', this.viewerContainerOnMouseup);\n        this.viewerContainer.removeEventListener('wheel', this.viewerContainerOnMouseWheel);\n        this.viewerContainer.removeEventListener('mousemove', this.viewerContainerOnMousemove);\n        this.viewerContainer.removeEventListener('mouseleave', this.viewerContainerOnMouseLeave);\n        this.viewerContainer.removeEventListener('mouseenter', this.viewerContainerOnMouseEnter);\n        this.viewerContainer.removeEventListener('mouseover', this.viewerContainerOnMouseOver);\n        this.viewerContainer.removeEventListener('click', this.viewerContainerOnClick);\n        this.viewerContainer.removeEventListener('dragstart', this.viewerContainerOnDragStart);\n        this.viewerContainer.removeEventListener('contextmenu', this.viewerContainerOnContextMenuClick);\n        this.pdfViewer.element.removeEventListener('keydown', this.viewerContainerOnKeyDown);\n        window.addEventListener('keydown', this.onWindowKeyDown);\n        window.removeEventListener('mouseup', this.onWindowMouseUp);\n        window.removeEventListener('unload', this.unload);\n        window.removeEventListener('resize', this.onWindowResize);\n        // eslint-disable-next-line max-len\n        if (navigator.userAgent.indexOf('MSIE') !== -1 || navigator.userAgent.indexOf('Edge') !== -1 || navigator.userAgent.indexOf('Trident') !== -1) {\n            this.viewerContainer.removeEventListener('pointerdown', this.viewerContainerOnPointerDown);\n            this.viewerContainer.removeEventListener('pointermove', this.viewerContainerOnPointerMove);\n            this.viewerContainer.removeEventListener('pointerup', this.viewerContainerOnPointerEnd);\n            this.viewerContainer.removeEventListener('pointerleave', this.viewerContainerOnPointerEnd);\n        }\n        else {\n            this.viewerContainer.removeEventListener('touchstart', this.viewerContainerOnTouchStart);\n            this.viewerContainer.removeEventListener('touchmove', this.viewerContainerOnTouchMove);\n            this.viewerContainer.removeEventListener('touchend', this.viewerContainerOnTouchEnd);\n            this.viewerContainer.removeEventListener('touchleave', this.viewerContainerOnTouchEnd);\n            this.viewerContainer.removeEventListener('touchcancel', this.viewerContainerOnTouchEnd);\n        }\n    };\n    /**\n     * @private\n     * @returns {void}\n     */\n    PdfViewerBase.prototype.updateZoomValue = function () {\n        if (this.pdfViewer.magnificationModule) {\n            if (this.pdfViewer.magnificationModule.isAutoZoom) {\n                this.pdfViewer.magnificationModule.fitToAuto();\n            }\n            else if (this.pdfViewer.zoomMode !== 'FitToWidth' && this.pdfViewer.magnificationModule.fitType === 'fitToWidth') {\n                this.pdfViewer.magnificationModule.fitToWidth();\n            }\n            else if (this.pdfViewer.magnificationModule.fitType === 'fitToPage') {\n                this.pdfViewer.magnificationModule.fitToPage();\n            }\n        }\n        for (var i = 0; i < this.pageCount; i++) {\n            this.applyLeftPosition(i);\n        }\n    };\n    /**\n     * @private\n     * @param {any} annotation - The annotation type of any.\n     * @returns {void}\n     */\n    // eslint-disable-next-line\n    PdfViewerBase.prototype.updateFreeTextProperties = function (annotation) {\n        if (this.pdfViewer.enableShapeLabel) {\n            if (this.pdfViewer.shapeLabelSettings.fillColor) {\n                annotation.labelFillColor = this.pdfViewer.shapeLabelSettings.fillColor;\n            }\n            if (this.pdfViewer.shapeLabelSettings.fontColor) {\n                annotation.fontColor = this.pdfViewer.shapeLabelSettings.fontColor;\n            }\n            if (this.pdfViewer.shapeLabelSettings.fontSize) {\n                annotation.fontSize = this.pdfViewer.shapeLabelSettings.fontSize;\n            }\n            if (this.pdfViewer.shapeLabelSettings.fontFamily) {\n                annotation.fontFamily = this.pdfViewer.shapeLabelSettings.fontFamily;\n            }\n            if (this.pdfViewer.shapeLabelSettings.opacity) {\n                annotation.labelOpacity = this.pdfViewer.shapeLabelSettings.opacity;\n            }\n            if (this.pdfViewer.shapeLabelSettings.labelContent) {\n                annotation.labelContent = this.pdfViewer.shapeLabelSettings.labelContent;\n            }\n        }\n    };\n    /**\n     * @private\n     * @param {MouseEvent} event - The mouse event.\n     * @returns {void}\n     */\n    // eslint-disable-next-line\n    PdfViewerBase.prototype.mouseDownHandler = function (event) {\n        var isEnableDelete = false;\n        var isCancel;\n        var hidenItems = [];\n        var disabledItems = [];\n        if (event && event.target) {\n            this.mouseDownEvent = event;\n            this.contextMenuModule.currentTarget = event.target;\n        }\n        if (this.pdfViewer.annotationModule) {\n            isEnableDelete = this.pdfViewer.annotationModule.isEnableDelete();\n        }\n        if (!isEnableDelete) {\n            disabledItems.push('DeleteContext');\n        }\n        if (this.pdfViewer.contextMenuOption === 'None') {\n            isCancel = true;\n        }\n        else if (this.pdfViewer.textSelectionModule || this.isShapeBasedAnnotationsEnabled()) {\n            if (event) {\n                var isClickWithinSelectionBounds = this.isClickWithinSelectionBounds(event);\n                // eslint-disable-next-line max-len\n                if (this.pdfViewer.annotationModule && this.pdfViewer.annotationModule.freeTextAnnotationModule && this.pdfViewer.annotationModule.freeTextAnnotationModule.isInuptBoxInFocus) {\n                    this.isFreeTextContextMenu = true;\n                    // eslint-disable-next-line max-len\n                    if (this.pdfViewer.annotation.freeTextAnnotationModule && !this.pdfViewer.annotation.freeTextAnnotationModule.isTextSelected) {\n                        disabledItems.push('Cut');\n                        disabledItems.push('Copy');\n                    }\n                    // eslint-disable-next-line max-len\n                    if (this.pdfViewer.annotation.freeTextAnnotationModule && this.pdfViewer.annotation.freeTextAnnotationModule.selectedText === '') {\n                        disabledItems.push('Paste');\n                    }\n                    hidenItems.push('HighlightContext');\n                    hidenItems.push('UnderlineContext');\n                    hidenItems.push('StrikethroughContext');\n                    hidenItems.push('ScaleRatio');\n                    hidenItems.push('Properties');\n                    hidenItems.push('Comment');\n                    hidenItems.push('DeleteContext');\n                }\n                else if (isClickWithinSelectionBounds && this.pdfViewer.textSelectionModule) {\n                    // eslint-disable-next-line max-len\n                    if ((!event.target.classList.contains('e-pv-maintaincontent') && event.target.classList.contains('e-pv-text') || event.target.classList.contains('e-pv-text-layer'))) {\n                        if (this.checkIsNormalText()) {\n                            isCancel = true;\n                        }\n                        // eslint-disable-next-line max-len\n                    }\n                    else if ((Browser.isIE || Browser.info.name === 'edge') && event.target.classList.contains('e-pv-page-container')) {\n                        isCancel = true;\n                    }\n                    hidenItems.push('Cut');\n                    hidenItems.push('Paste');\n                    hidenItems.push('DeleteContext');\n                    hidenItems.push('ScaleRatio');\n                    hidenItems.push('Comment');\n                    hidenItems.push('Properties');\n                    // eslint-disable-next-line max-len\n                }\n                else if (this.pdfViewer.selectedItems.annotations.length !== 0 && (this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType === 'HandWrittenSignature' || this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType === 'SignatureText' || this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType === 'SignatureImage')) {\n                    this.shapeMenuItems(hidenItems, disabledItems, false, true);\n                    // eslint-disable-next-line max-len\n                }\n                else if (this.pdfViewer.selectedItems.annotations.length !== 0 && this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType !== 'Path') {\n                    this.shapeMenuItems(hidenItems, disabledItems, true);\n                }\n                else {\n                    // eslint-disable-next-line max-len\n                    if (this.pdfViewer.annotation && this.pdfViewer.annotation.isShapeCopied && (event.target.classList.contains('e-pv-text-layer') ||\n                        event.target.classList.contains('e-pv-text')) && !this.pdfViewer.annotationModule.textMarkupAnnotationModule.currentTextMarkupAnnotation) {\n                        hidenItems.push('Properties');\n                        this.shapeMenuItems(hidenItems, disabledItems, false);\n                        // eslint-disable-next-line max-len\n                    }\n                    else if (this.isCalibrateAnnotationModule() && this.pdfViewer.annotationModule.measureAnnotationModule.currentAnnotationMode) {\n                        hidenItems.push('HighlightContext');\n                        hidenItems.push('UnderlineContext');\n                        hidenItems.push('StrikethroughContext');\n                        hidenItems.push('Properties');\n                        disabledItems.push('Cut');\n                        disabledItems.push('Copy');\n                        disabledItems.push('Paste');\n                        disabledItems.push('DeleteContext');\n                        disabledItems.push('Comment');\n                        // eslint-disable-next-line max-len\n                    }\n                    else if (this.pdfViewer.annotationModule && this.pdfViewer.annotationModule.textMarkupAnnotationModule.currentTextMarkupAnnotation) {\n                        hidenItems.push('HighlightContext');\n                        hidenItems.push('UnderlineContext');\n                        hidenItems.push('StrikethroughContext');\n                        hidenItems.push('Properties');\n                        hidenItems.push('Cut');\n                        hidenItems.push('Copy');\n                        hidenItems.push('Paste');\n                        hidenItems.push('ScaleRatio');\n                    }\n                    else {\n                        isCancel = true;\n                    }\n                }\n            }\n            else if (this.pdfViewer.textSelectionModule && (this.pdfViewer.contextMenuOption === 'MouseUp')) {\n                hidenItems.push('Cut');\n                hidenItems.push('Paste');\n                hidenItems.push('DeleteContext');\n                hidenItems.push('ScaleRatio');\n                hidenItems.push('Comment');\n                hidenItems.push('Properties');\n            }\n            else if (this.pdfViewer.selectedItems.annotations.length === 0) {\n                hidenItems.push('Cut');\n                hidenItems.push('Paste');\n                hidenItems.push('DeleteContext');\n                hidenItems.push('ScaleRatio');\n                hidenItems.push('Properties');\n            }\n            if (!this.pdfViewer.enableCommentPanel) {\n                disabledItems.push('Comment');\n            }\n        }\n        else {\n            isCancel = true;\n        }\n        var eventArgs = { hidenItems: hidenItems, disabledItems: disabledItems, isCancel: isCancel };\n        this.pdfViewer._dotnetInstance.invokeMethodAsync('MouseDownHandler', eventArgs);\n    };\n    /**\n     * @private\n     * @param {string} selectedMenu - The selected menu.\n     * @returns {void}\n     */\n    // eslint-disable-next-line\n    PdfViewerBase.prototype.OnItemSelected = function (selectedMenu) {\n        // eslint-disable-next-line\n        var target = this.contextMenuModule.currentTarget;\n        switch (selectedMenu) {\n            case this.pdfViewer.localeObj.getConstant('Copy'):\n                this.CopyItemSelected();\n                break;\n            case this.pdfViewer.localeObj.getConstant('Highlight context'):\n                this.TextMarkUpSelected('Highlight');\n                break;\n            case this.pdfViewer.localeObj.getConstant('Underline context'):\n                this.TextMarkUpSelected('Underline');\n                break;\n            case this.pdfViewer.localeObj.getConstant('Strikethrough context'):\n                this.TextMarkUpSelected('Strikethrough');\n                break;\n            case this.pdfViewer.localeObj.getConstant('Properties'):\n                this.PropertiesItemSelected();\n                break;\n            case this.pdfViewer.localeObj.getConstant('Cut'):\n                this.CutItemSelected(target);\n                break;\n            case this.pdfViewer.localeObj.getConstant('Paste'):\n                this.pasteItemSelected(target);\n                break;\n            case this.pdfViewer.localeObj.getConstant('Delete Context'):\n                this.DeleteItemSelected();\n                break;\n            case this.pdfViewer.localeObj.getConstant('Scale Ratio'):\n                this.ScaleRatioSelected();\n                break;\n            case this.pdfViewer.localeObj.getConstant('Comment'):\n                this.CommentItemSelected();\n                break;\n            default:\n                break;\n        }\n    };\n    PdfViewerBase.prototype.CommentItemSelected = function () {\n        if (this.pdfViewer.annotation) {\n            this.pdfViewer.annotation.showCommentsPanel();\n            if (this.pdfViewer.selectedItems.annotations.length !== 0 ||\n                this.pdfViewer.annotationModule.textMarkupAnnotationModule.currentTextMarkupAnnotation) {\n                // eslint-disable-next-line\n                var currentAnnotation = void 0;\n                if (this.pdfViewer.annotationModule.textMarkupAnnotationModule.currentTextMarkupAnnotation) {\n                    currentAnnotation = this.pdfViewer.annotationModule.textMarkupAnnotationModule.currentTextMarkupAnnotation;\n                }\n                else {\n                    currentAnnotation = this.pdfViewer.selectedItems.annotations[0];\n                }\n                // eslint-disable-next-line\n                var accordionExpand = document.getElementById(this.pdfViewer.element.id + '_accordionContainer' + this.pdfViewer.currentPageNumber);\n                if (accordionExpand) {\n                    accordionExpand.ej2_instances[0].expandItem(true);\n                }\n                // eslint-disable-next-line\n                var commentsDiv = document.getElementById(currentAnnotation.annotName);\n                if (commentsDiv) {\n                    if (!commentsDiv.classList.contains('e-pv-comments-border')) {\n                        commentsDiv.firstChild.click();\n                    }\n                }\n            }\n        }\n    };\n    PdfViewerBase.prototype.ScaleRatioSelected = function () {\n        if (this.isCalibrateAnnotationModule()) {\n            this.pdfViewer.annotation.measureAnnotationModule.createScaleRatioWindow();\n        }\n    };\n    PdfViewerBase.prototype.DeleteItemSelected = function () {\n        if (this.pdfViewer.formDesignerModule && this.pdfViewer.selectedItems.formFields.length !== 0) {\n            this.pdfViewer.formDesignerModule.deleteFormField(this.pdfViewer.selectedItems.formFields[0].id);\n        }\n        else if (this.pdfViewer.annotation) {\n            this.pdfViewer.annotation.deleteAnnotation();\n        }\n    };\n    // eslint-disable-next-line\n    PdfViewerBase.prototype.pasteItemSelected = function (target) {\n        // eslint-disable-next-line max-len\n        if (this.isFreeTextContextMenu || (this.pdfViewer.annotationModule && this.pdfViewer.annotationModule.freeTextAnnotationModule.isInuptBoxInFocus) && (target && target.className === 'free-text-input' && target.tagName === 'TEXTAREA')) {\n            this.pdfViewer.annotation.freeTextAnnotationModule.pasteSelectedText(target);\n            this.contextMenuModule.close();\n        }\n        else {\n            this.pdfViewer.paste();\n            this.contextMenuModule.previousAction = 'Paste';\n        }\n    };\n    // eslint-disable-next-line\n    PdfViewerBase.prototype.CutItemSelected = function (target) {\n        // eslint-disable-next-line max-len\n        if (this.isFreeTextContextMenu || (this.pdfViewer.annotationModule && this.pdfViewer.annotationModule.freeTextAnnotationModule.isInuptBoxInFocus) && (target && target.className === 'free-text-input' && target.tagName === 'TEXTAREA')) {\n            this.pdfViewer.annotation.freeTextAnnotationModule.cutSelectedText(target);\n            this.contextMenuModule.close();\n        }\n        else if (this.pdfViewer.selectedItems.annotations.length === 1) {\n            var pageIndex = this.pdfViewer.selectedItems.annotations[0].pageIndex;\n            this.pdfViewer.cut();\n            this.contextMenuModule.previousAction = 'Cut';\n        }\n        else if (this.pdfViewer.selectedItems.formFields.length === 1) {\n            this.pdfViewer.cut();\n            this.contextMenuModule.previousAction = 'Cut';\n        }\n    };\n    PdfViewerBase.prototype.CopyItemSelected = function () {\n        var isSkip = false;\n        // eslint-disable-next-line max-len\n        if (this.isFreeTextContextMenu || (this.pdfViewer.annotationModule && this.pdfViewer.annotationModule.freeTextAnnotationModule.isInuptBoxInFocus)) {\n            this.pdfViewer.annotation.freeTextAnnotationModule.copySelectedText();\n            this.contextMenuModule.close();\n            isSkip = true;\n        }\n        else if (this.pdfViewer.textSelectionModule) {\n            this.pdfViewer.textSelectionModule.copyText();\n            this.contextMenuModule.close();\n        }\n        if (this.pdfViewer.selectedItems.annotations.length && !isSkip) {\n            this.pdfViewer.copy();\n            this.contextMenuModule.previousAction = 'Copy';\n        }\n        else if (this.pdfViewer.selectedItems.formFields.length > 0) {\n            this.pdfViewer.copy();\n            this.contextMenuModule.previousAction = 'Copy';\n        }\n    };\n    PdfViewerBase.prototype.PropertiesItemSelected = function () {\n        // eslint-disable-next-line max-len\n        if (this.pdfViewer.selectedItems.annotations.length !== 0 && (this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType === 'Line' || this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType === 'LineWidthArrowHead' ||\n            this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType === 'Distance')) {\n            this.pdfViewer.annotation.createPropertiesWindow();\n            // eslint-disable-next-line max-len\n        }\n        else if (this.pdfViewer.selectedItems.formFields.length !== 0 && this.pdfViewer.selectedItems.formFields[0].formFieldAnnotationType) {\n            this.pdfViewer.formDesigner.createPropertiesWindow();\n        }\n    };\n    PdfViewerBase.prototype.TextMarkUpSelected = function (type) {\n        if (this.pdfViewer.annotation && this.pdfViewer.annotation.textMarkupAnnotationModule) {\n            this.pdfViewer.annotation.textMarkupAnnotationModule.isSelectionMaintained = false;\n            this.pdfViewer.annotation.textMarkupAnnotationModule.drawTextMarkupAnnotations(type);\n            this.pdfViewer.annotation.textMarkupAnnotationModule.isTextMarkupAnnotationMode = false;\n            this.pdfViewer.annotation.textMarkupAnnotationModule.currentTextMarkupAddMode = '';\n            this.pdfViewer.annotation.textMarkupAnnotationModule.isSelectionMaintained = true;\n        }\n    };\n    PdfViewerBase.prototype.shapeMenuItems = function (hidenItems, disabledItems, enableProperties, isSignature) {\n        if (this.pdfViewer.annotation && !this.pdfViewer.annotation.isShapeCopied) {\n            disabledItems.push('Paste');\n        }\n        hidenItems.push('HighlightContext');\n        hidenItems.push('UnderlineContext');\n        hidenItems.push('StrikethroughContext');\n        hidenItems.push('ScaleRatio');\n        if (enableProperties) {\n            // eslint-disable-next-line max-len\n            if (!(this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType === 'Line' || this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType === 'LineWidthArrowHead' ||\n                this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType === 'Distance')) {\n                hidenItems.push('Properties');\n            }\n        }\n        else if (isSignature) {\n            hidenItems.push('Properties');\n            hidenItems.push('Comment');\n        }\n        else {\n            hidenItems.push('Cut');\n            hidenItems.push('Copy');\n            hidenItems.push('DeleteContext');\n            hidenItems.push('Comment');\n        }\n    };\n    PdfViewerBase.prototype.checkIsRtlText = function (text) {\n        // eslint-disable-next-line max-len\n        var ltrChars = 'A-Za-z\\\\u00C0-\\\\u00D6\\\\u00D8-\\\\u00F6\\\\u00F8-\\\\u02B8\\\\u0300-\\\\u0590\\\\u0800-\\\\u1FFF' + '\\\\u2C00-\\\\uFB1C\\\\uFDFE-\\\\uFE6F\\\\uFEFD-\\\\uFFFF';\n        var rtlChars = '\\\\u0591-\\\\u07FF\\\\uFB1D-\\\\uFDFD\\\\uFE70-\\\\uFEFC';\n        // eslint-disable-next-line\n        var rtlDirCheck = new RegExp('^[^' + ltrChars + ']*[' + rtlChars + ']');\n        return rtlDirCheck.test(text);\n    };\n    /**\n     * @private\n     * @param {any} event - Specifies the event.\n     * @returns {boolean} - retruned the beolean value.\n     */\n    // eslint-disable-next-line\n    PdfViewerBase.prototype.isClickWithinSelectionBounds = function (event) {\n        var isWithin = false;\n        if (this.pdfViewer.textSelectionModule) {\n            var bounds = this.pdfViewer.textSelectionModule.getCurrentSelectionBounds(this.currentPageNumber - 1);\n            if (bounds) {\n                var currentBound = bounds;\n                if (this.getHorizontalValue(currentBound.left) < event.clientX && this.getHorizontalValue(currentBound.right) >\n                    event.clientX && this.getVerticalValue(currentBound.top) < event.clientY &&\n                    this.getVerticalValue(currentBound.bottom) > event.clientY) {\n                    isWithin = true;\n                }\n            }\n            if ((Browser.isIE || Browser.info.name === 'edge') && bounds) {\n                isWithin = true;\n            }\n        }\n        return isWithin;\n    };\n    PdfViewerBase.prototype.getHorizontalClientValue = function (value) {\n        var pageDiv = this.getElement('_pageDiv_' + (this.currentPageNumber - 1));\n        var pageBounds = pageDiv.getBoundingClientRect();\n        return (value - pageBounds.left);\n    };\n    PdfViewerBase.prototype.getVerticalClientValue = function (value) {\n        var pageDiv = this.getElement('_pageDiv_' + (this.currentPageNumber - 1));\n        var pageBounds = pageDiv.getBoundingClientRect();\n        return (value - pageBounds.top);\n    };\n    PdfViewerBase.prototype.getHorizontalValue = function (value) {\n        var pageDiv = this.getElement('_pageDiv_' + (this.currentPageNumber - 1));\n        var pageBounds = pageDiv.getBoundingClientRect();\n        return (value * this.getZoomFactor()) + pageBounds.left;\n    };\n    PdfViewerBase.prototype.getVerticalValue = function (value) {\n        var pageDiv = this.getElement('_pageDiv_' + (this.currentPageNumber - 1));\n        var pageBounds = pageDiv.getBoundingClientRect();\n        return (value * this.getZoomFactor()) + pageBounds.top;\n    };\n    /**\n     * @private\n     * @returns {boolean} - retruned the beolean value.\n     */\n    PdfViewerBase.prototype.checkIsNormalText = function () {\n        var isText = true;\n        var currentText = '';\n        // eslint-disable-next-line\n        var textSelectionModule = this.pdfViewer.textSelectionModule;\n        if (textSelectionModule && textSelectionModule.selectionRangeArray && textSelectionModule.selectionRangeArray.length === 1) {\n            currentText = textSelectionModule.selectionRangeArray[0].textContent;\n        }\n        else if (window.getSelection() && window.getSelection().anchorNode) {\n            currentText = window.getSelection().toString();\n        }\n        if (currentText !== '' && this.checkIsRtlText(currentText)) {\n            isText = false;\n        }\n        return isText;\n    };\n    PdfViewerBase.prototype.DeleteKeyPressed = function (event) {\n        if (this.pdfViewer.formDesignerModule && this.pdfViewer.designerMode && this.pdfViewer.selectedItems.formFields.length !== 0) {\n            this.pdfViewer.formDesignerModule.deleteFormField(this.pdfViewer.selectedItems.formFields[0].id);\n        }\n        else if (this.pdfViewer.annotation && !this.pdfViewer.designerMode) {\n            if (this.isTextMarkupAnnotationModule() && !this.getPopupNoteVisibleStatus()) {\n                this.pdfViewer.annotationModule.deleteAnnotation();\n            }\n            if (this.pdfViewer.selectedItems.annotations.length > 0) {\n                // eslint-disable-next-line\n                var annotation = this.pdfViewer.selectedItems.annotations[0];\n                var isReadOnly = true;\n                var type = annotation.shapeAnnotationType;\n                if (type === 'Path' || annotation.formFieldAnnotationType === 'SignatureField' || annotation.formFieldAnnotationType === 'InitialField' || type === 'HandWrittenSignature' || type === 'SignatureText' || type === 'SignatureImage') {\n                    var inputFields = document.getElementById(annotation.id);\n                    if (inputFields && inputFields.disabled) {\n                        isReadOnly = true;\n                    }\n                }\n                if (!isReadOnly) {\n                    if (annotation.annotationSettings && annotation.annotationSettings.isLock) {\n                        if (this.pdfViewer.annotationModule.checkAllowedInteractions('Delete', annotation)) {\n                            this.pdfViewer.remove(annotation);\n                            this.pdfViewer.renderSelector(this.pdfViewer.annotation.getEventPageNumber(event));\n                        }\n                    }\n                    else {\n                        this.pdfViewer.remove(annotation);\n                        this.pdfViewer.renderSelector(this.pdfViewer.annotation.getEventPageNumber(event));\n                    }\n                }\n            }\n        }\n    };\n    /**\n     * @private\n     * @returns {void}\n     */\n    PdfViewerBase.prototype.initiatePanning = function () {\n        this.isPanMode = true;\n        this.textLayer.modifyTextCursor(false);\n        this.disableTextSelectionMode();\n        if (this.pdfViewer.toolbar && this.pdfViewer.toolbar.annotationToolbarModule) {\n            this.pdfViewer.toolbar.annotationToolbarModule.deselectAllItems();\n        }\n    };\n    /**\n     * @private\n     * @returns {void}\n     */\n    PdfViewerBase.prototype.initiateTextSelectMode = function () {\n        this.isPanMode = false;\n        if (this.viewerContainer) {\n            this.viewerContainer.style.cursor = 'auto';\n            if (this.pdfViewer.textSelectionModule) {\n                this.textLayer.modifyTextCursor(true);\n                this.pdfViewer.textSelectionModule.enableTextSelectionMode();\n            }\n            if ((!Browser.isDevice || this.pdfViewer.enableDesktopMode) && !isBlazor()) {\n                this.enableAnnotationAddTools(true);\n            }\n        }\n    };\n    /**\n     * @private\n     * @returns {void}\n    */\n    PdfViewerBase.prototype.initiateTextSelection = function () {\n        if (this.pdfViewer.toolbar && !this.pdfViewer.toolbar.isSelectionToolDisabled) {\n            this.initiateTextSelectMode();\n            this.pdfViewer.toolbar.updateInteractionTools(true);\n        }\n    };\n    PdfViewerBase.prototype.enableAnnotationAddTools = function (isEnable) {\n        if (this.pdfViewer.toolbarModule) {\n            if (this.pdfViewer.toolbarModule.annotationToolbarModule) {\n                this.pdfViewer.toolbarModule.annotationToolbarModule.enableAnnotationAddTools(isEnable);\n            }\n        }\n    };\n    PdfViewerBase.prototype.applySelection = function () {\n        if (window.getSelection().anchorNode !== null) {\n            this.pdfViewer.textSelectionModule.applySpanForSelection();\n        }\n        this.isViewerContainerDoubleClick = false;\n    };\n    // eslint-disable-next-line\n    PdfViewerBase.prototype.isDesignerMode = function (target) {\n        var isDesignerMode = false;\n        if (this.pdfViewer.selectedItems.annotations.length !== 0 && (this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType === 'HandWrittenSignature' || this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType === 'SignatureText' || this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType === 'SignatureImage')) {\n            isDesignerMode = true;\n            // eslint-disable-next-line max-len\n        }\n        else if (this.pdfViewer.selectedItems.annotations.length !== 0 && this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType !== 'Path') {\n            isDesignerMode = true;\n            // eslint-disable-next-line max-len\n        }\n        else if (this.pdfViewer.selectedItems.formFields.length !== 0 && this.pdfViewer.selectedItems.formFields[0].formFieldAnnotationType && this.pdfViewer.designerMode) {\n            isDesignerMode = true;\n        }\n        else {\n            // eslint-disable-next-line max-len\n            if (this.pdfViewer.annotation && this.pdfViewer.annotation.isShapeCopied && (target.classList.contains('e-pv-text-layer') ||\n                // eslint-disable-next-line max-len\n                target.classList.contains('e-pv-text')) && !this.pdfViewer.annotationModule.textMarkupAnnotationModule.currentTextMarkupAnnotation) {\n                isDesignerMode = true;\n                // eslint-disable-next-line max-len\n            }\n            else if (this.pdfViewer.formDesigner && this.pdfViewer.formDesigner.isShapeCopied && (target.classList.contains('e-pv-text-layer') ||\n                target.classList.contains('e-pv-text'))) {\n                isDesignerMode = true;\n            }\n        }\n        this.designerModetarget = target;\n        return isDesignerMode;\n    };\n    PdfViewerBase.prototype.handleTaps = function (touchPoints) {\n        var _this = this;\n        if (!this.singleTapTimer) {\n            this.singleTapTimer = setTimeout(function () {\n                _this.onSingleTap(touchPoints);\n                // eslint-disable-next-line\n            }, 300);\n            this.tapCount++;\n        }\n        else {\n            if (this.pdfViewer.enablePinchZoom) {\n                this.tapCount++;\n                clearTimeout(this.singleTapTimer);\n                this.singleTapTimer = null;\n                this.onDoubleTap(touchPoints);\n            }\n        }\n    };\n    PdfViewerBase.prototype.handleTextBoxTaps = function (touchPoints) {\n        var _this = this;\n        setTimeout(function () {\n            _this.inputTapCount = 0;\n        }, 300);\n        this.inputTapCount++;\n        // eslint-disable-next-line\n        var timer = setTimeout(function () {\n            _this.onTextBoxDoubleTap(touchPoints);\n        }, 200);\n        if (this.inputTapCount > 2) {\n            this.inputTapCount = 0;\n        }\n    };\n    PdfViewerBase.prototype.onTextBoxDoubleTap = function (touches) {\n        var target = touches[0].target;\n        if (this.inputTapCount === 2) {\n            if (this.pdfViewer.selectedItems.annotations.length !== 0) {\n                if (this.pdfViewer.annotationModule) {\n                    var currentAnnotation = this.pdfViewer.selectedItems.annotations[0];\n                    this.pdfViewer.annotationModule.annotationSelect(currentAnnotation.annotName, currentAnnotation.pageIndex, currentAnnotation, null, true);\n                }\n                if (this.isFreeTextAnnotation(this.pdfViewer.selectedItems.annotations) === true) {\n                    var elmtPosition = {};\n                    elmtPosition.x = this.pdfViewer.selectedItems.annotations[0].bounds.x;\n                    elmtPosition.y = this.pdfViewer.selectedItems.annotations[0].bounds.y;\n                    // eslint-disable-next-line max-len\n                    this.pdfViewer.annotation.freeTextAnnotationModule.addInuptElemet(elmtPosition, this.pdfViewer.selectedItems.annotations[0]);\n                }\n                else if (this.pdfViewer.selectedItems.annotations[0].enableShapeLabel === true) {\n                    var elmtPosition = {};\n                    elmtPosition.x = this.pdfViewer.selectedItems.annotations[0].bounds.x;\n                    elmtPosition.y = this.pdfViewer.selectedItems.annotations[0].bounds.y;\n                    this.pdfViewer.annotation.inputElementModule.editLabel(elmtPosition, this.pdfViewer.selectedItems.annotations[0]);\n                }\n            }\n        }\n    };\n    PdfViewerBase.prototype.onSingleTap = function (touches) {\n        var target = touches[0].target;\n        var isFormfields = false;\n        this.singleTapTimer = null;\n        if (target && (target.classList.contains('e-pdfviewer-formFields')\n            || target.classList.contains('e-pdfviewer-ListBox') || target.classList.contains('e-pdfviewer-signatureformfields'))) {\n            isFormfields = true;\n        }\n        if (!this.isLongTouchPropagated && !this.navigationPane.isNavigationToolbarVisible && !isFormfields) {\n            if (this.pdfViewer.toolbarModule) {\n                if ((this.touchClientX >= touches[0].clientX - 10) && (this.touchClientX <= touches[0].clientX + 10) &&\n                    (this.touchClientY >= touches[0].clientY - 10) && (this.touchClientY <= touches[0].clientY + 10)) {\n                    if (!this.isTapHidden) {\n                        if (isBlazor()) {\n                            // eslint-disable-next-line max-len\n                            this.viewerContainer.scrollTop -= this.pdfViewer.element.querySelector('.e-pv-mobile-toolbar').clientHeight * this.getZoomFactor();\n                        }\n                        if (this.pdfViewer.toolbar.moreDropDown) {\n                            var dropDown = this.getElement('_more_option-popup');\n                            if (dropDown.firstElementChild) {\n                                dropDown.classList.remove('e-popup-open');\n                                dropDown.classList.add('e-popup-close');\n                                dropDown.removeChild(dropDown.firstElementChild);\n                            }\n                        }\n                    }\n                    else {\n                        if (isBlazor()) {\n                            // eslint-disable-next-line max-len\n                            this.viewerContainer.scrollTop += this.pdfViewer.element.querySelector('.e-pv-mobile-toolbar').clientHeight * this.getZoomFactor();\n                        }\n                    }\n                    if (this.isTapHidden && (Browser.isDevice && !this.pdfViewer.enableDesktopMode)) {\n                        this.mobileScrollerContainer.style.display = '';\n                        this.updateMobileScrollerPosition();\n                        // eslint-disable-next-line max-len\n                    }\n                    else if ((Browser.isDevice && !this.pdfViewer.enableDesktopMode) && this.getSelectTextMarkupCurrentPage() == null) {\n                        this.mobileScrollerContainer.style.display = 'none';\n                    }\n                    if (this.getSelectTextMarkupCurrentPage() == null) {\n                        if (!isBlazor()) {\n                            if (this.pdfViewer.enableToolbar) {\n                                this.pdfViewer.toolbarModule.showToolbar(true);\n                            }\n                        }\n                        else {\n                            //this.pdfViewer._dotnetInstance.invokeMethodAsync('TapOnMobileDevice', this.isTapHidden);\n                            this.blazorUIAdaptor.tapOnMobileDevice(this.isTapHidden);\n                        }\n                        this.isTapHidden = !this.isTapHidden;\n                    }\n                }\n                this.tapCount = 0;\n            }\n        }\n    };\n    PdfViewerBase.prototype.onDoubleTap = function (touches) {\n        var target = touches[0].target;\n        var isFormfields = false;\n        if (target && (target.classList.contains('e-pdfviewer-formFields')\n            || target.classList.contains('e-pdfviewer-ListBox') || target.classList.contains('e-pdfviewer-signatureformfields'))) {\n            isFormfields = true;\n        }\n        if (this.tapCount === 2 && !isFormfields) {\n            this.tapCount = 0;\n            /**\n             * Sometimes the values gets differ by some decimal points. So converted the decimal points values to Integer values.\n             */\n            // eslint-disable-next-line\n            if ((this.touchClientX >= parseInt((touches[0].clientX - 10).toString())) && (this.touchClientX <= touches[0].clientX + 10) &&\n                (this.touchClientY >= touches[0].clientY - 10) && (this.touchClientY <= touches[0].clientY + 30)) {\n                if (this.pdfViewer.magnification && this.pdfViewer.selectedItems.annotations.length !== 1) {\n                    this.pdfViewer.magnification.onDoubleTapMagnification();\n                }\n                this.viewerContainer.style.height = this.updatePageHeight(this.pdfViewer.element.getBoundingClientRect().height, this.toolbarHeight);\n                this.isTapHidden = false;\n                clearTimeout(this.singleTapTimer);\n            }\n        }\n    };\n    PdfViewerBase.prototype.preventTouchEvent = function (event) {\n        if (this.pdfViewer.textSelectionModule) {\n            // eslint-disable-next-line max-len\n            if (!this.isPanMode && this.pdfViewer.enableTextSelection && !this.isTextSelectionDisabled && this.getSelectTextMarkupCurrentPage() == null) {\n                if (!(this.isWebkitMobile && (Browser.isDevice && !this.pdfViewer.enableDesktopMode))) {\n                    event.preventDefault();\n                    event.stopPropagation();\n                }\n            }\n        }\n    };\n    PdfViewerBase.prototype.renderStampAnnotation = function (event) {\n        if (this.pdfViewer.annotation) {\n            var zoomFactor = this.getZoomFactor();\n            var pageIndex = this.pdfViewer.annotation.getEventPageNumber(event);\n            var pageDiv = this.getElement('_pageDiv_' + pageIndex);\n            if (this.pdfViewer.enableStampAnnotations) {\n                var stampModule = this.pdfViewer.annotationModule.stampAnnotationModule;\n                if (stampModule && stampModule.isStampAnnotSelected) {\n                    if (pageDiv) {\n                        var pageCurrentRect = pageDiv.getBoundingClientRect();\n                        // eslint-disable-next-line max-len\n                        if (Browser.isDevice && event.type === 'touchend' && this.pdfViewer.annotationModule.stampAnnotationModule.currentStampAnnotation.shapeAnnotationType === 'Image') {\n                            var currentStampObj = this.pdfViewer.annotationModule.stampAnnotationModule.currentStampAnnotation;\n                            currentStampObj.pageIndex = pageIndex;\n                            currentStampObj.bounds.x = (event.changedTouches[0].clientX - pageCurrentRect.left) / zoomFactor;\n                            currentStampObj.bounds.y = (event.changedTouches[0].clientY - pageCurrentRect.top) / zoomFactor;\n                            stampModule.updateDeleteItems(pageIndex, currentStampObj, currentStampObj.opacity);\n                            this.pdfViewer.add(currentStampObj);\n                        }\n                        else {\n                            // eslint-disable-next-line max-len\n                            stampModule.renderStamp((event.changedTouches[0].clientX - pageCurrentRect.left) / zoomFactor, (event.changedTouches[0].clientY - pageCurrentRect.top) / zoomFactor, null, null, pageIndex, null, null, null, null);\n                        }\n                        stampModule.isStampAnnotSelected = false;\n                    }\n                }\n                this.pdfViewer.annotation.onAnnotationMouseDown();\n            }\n            if (this.pdfViewer.enableHandwrittenSignature && this.isSignatureAdded && pageDiv) {\n                var pageCurrentRect = pageDiv.getBoundingClientRect();\n                this.currentSignatureAnnot.pageIndex = pageIndex;\n                // eslint-disable-next-line max-len\n                this.signatureModule.renderSignature((event.changedTouches[0].clientX - pageCurrentRect.left) / zoomFactor, (event.changedTouches[0].clientY - pageCurrentRect.top) / zoomFactor);\n                this.isSignatureAdded = false;\n            }\n            if (event.touches.length === 1 && this.isTextMarkupAnnotationModule() && !this.getPopupNoteVisibleStatus()) {\n                this.pdfViewer.annotationModule.textMarkupAnnotationModule.onTextMarkupAnnotationTouchEnd(event);\n            }\n        }\n    };\n    // eslint-disable-next-line\n    PdfViewerBase.prototype.initPageDiv = function (pageValues) {\n        if (!isBlazor()) {\n            if (this.pdfViewer.toolbarModule) {\n                this.pdfViewer.toolbarModule.updateTotalPage();\n            }\n        }\n        if ((Browser.isDevice && !this.pdfViewer.enableDesktopMode) && this.mobiletotalPageContainer) {\n            this.mobiletotalPageContainer.innerHTML = this.pageCount.toString();\n            this.pageNoContainer.innerHTML = '(1-' + this.pageCount.toString() + ')';\n        }\n        if (this.pageCount > 0) {\n            var topValue = 0;\n            var pageLimit = 0;\n            this.isMixedSizeDocument = false;\n            if (this.pageCount > 100) {\n                // to render 100 pages intially.\n                pageLimit = 100;\n                this.pageLimit = pageLimit;\n            }\n            else {\n                pageLimit = this.pageCount;\n            }\n            var isPortrait = false;\n            var isLandscape = false;\n            var differentPageSize = false;\n            for (var i = 0; i < pageLimit; i++) {\n                if (typeof pageValues.pageSizes[i] !== 'object') {\n                    var pageSize = pageValues.pageSizes[i].split(',');\n                    if (pageValues.pageSizes[i - 1] !== null && i !== 0) {\n                        var previousPageHeight = pageValues.pageSizes[i - 1].split(',');\n                        topValue = this.pageGap + parseFloat(previousPageHeight[1]) + topValue;\n                    }\n                    else {\n                        topValue = this.pageGap;\n                    }\n                    var size = { width: parseFloat(pageSize[0]), height: parseFloat(pageSize[1]), top: topValue };\n                    this.pageSize.push(size);\n                }\n                else {\n                    if (pageValues.pageSizes[i - 1] !== null && i !== 0) {\n                        // eslint-disable-next-line\n                        var previousPageHeight = pageValues.pageSizes[i - 1];\n                        topValue = this.pageGap + parseFloat(previousPageHeight.Height) + topValue;\n                    }\n                    else {\n                        topValue = this.pageGap;\n                    }\n                    var size = { width: pageValues.pageSizes[i].Width, height: pageValues.pageSizes[i].Height, top: topValue };\n                    this.pageSize.push(size);\n                }\n                if (this.pageSize[i].height > this.pageSize[i].width) {\n                    isPortrait = true;\n                }\n                if (this.pageSize[i].width > this.pageSize[i].height) {\n                    isLandscape = true;\n                }\n                if (i > 0 && this.pageSize[i].width !== this.pageSize[i - 1].width) {\n                    differentPageSize = true;\n                }\n                var pageWidth = this.pageSize[i].width;\n                if (pageWidth > this.highestWidth) {\n                    this.highestWidth = pageWidth;\n                }\n                var pageHeight = this.pageSize[i].height;\n                if (pageHeight > this.highestHeight) {\n                    this.highestHeight = pageHeight;\n                }\n            }\n            if ((isPortrait && isLandscape) || differentPageSize) {\n                this.isMixedSizeDocument = true;\n            }\n            var limit = this.pageCount < 10 ? this.pageCount : 10;\n            for (var i = 0; i < limit; i++) {\n                this.renderPageContainer(i, this.getPageWidth(i), this.getPageHeight(i), this.getPageTop(i));\n            }\n            // eslint-disable-next-line max-len\n            this.pageContainer.style.height = this.getPageTop(this.pageSize.length - 1) + this.getPageHeight(this.pageSize.length - 1) + 'px';\n            this.pageContainer.style.position = 'relative';\n            if (this.pageLimit === 100) {\n                var pageDiv = this.getElement('_pageDiv_' + this.pageLimit);\n                if (pageDiv === null && this.pageLimit < this.pageCount) {\n                    Promise.all([this.renderPagesVirtually()]);\n                }\n            }\n        }\n    };\n    PdfViewerBase.prototype.renderElementsVirtualScroll = function (pageNumber) {\n        var lowerLimit = 1;\n        var higherLimit = 3;\n        if (this.pageStopValue <= 200) {\n            lowerLimit = 4;\n            higherLimit = 4;\n        }\n        else {\n            lowerLimit = 2;\n            higherLimit = 3;\n        }\n        var pageValue = pageNumber + lowerLimit;\n        if (pageValue > this.pageCount) {\n            pageValue = this.pageCount;\n        }\n        for (var i = pageNumber - 1; i <= pageValue; i++) {\n            if (i !== -1) {\n                this.renderPageElement(i);\n            }\n        }\n        var lowerPageValue = pageNumber - 3;\n        if (lowerPageValue < 0) {\n            lowerPageValue = 0;\n        }\n        for (var i = pageNumber - 1; i >= lowerPageValue; i--) {\n            if (i !== -1) {\n                this.renderPageElement(i);\n            }\n        }\n        for (var j = 0; j < this.pageCount; j++) {\n            if (!((lowerPageValue <= j) && (j <= pageValue))) {\n                var pageDiv = this.getElement('_pageDiv_' + j);\n                var pageCanvas = this.getElement('_pageCanvas_' + j);\n                var textLayer = this.getElement('_textLayer_' + j);\n                if (pageCanvas) {\n                    pageCanvas.parentNode.removeChild(pageCanvas);\n                    if (textLayer) {\n                        if (this.pdfViewer.textSelectionModule && textLayer.childNodes.length !== 0 && !this.isTextSelectionDisabled) {\n                            this.pdfViewer.textSelectionModule.maintainSelectionOnScroll(j, true);\n                        }\n                        textLayer.parentNode.removeChild(textLayer);\n                    }\n                    var indexInArray = this.renderedPagesList.indexOf(j);\n                    if (indexInArray !== -1) {\n                        this.renderedPagesList.splice(indexInArray, 1);\n                    }\n                }\n                if (pageDiv) {\n                    pageDiv.parentNode.removeChild(pageDiv);\n                    var indexInArray = this.renderedPagesList.indexOf(j);\n                    if (indexInArray !== -1) {\n                        this.renderedPagesList.splice(indexInArray, 1);\n                    }\n                }\n            }\n        }\n        if (isBlazor())\n            this.pdfViewer._dotnetInstance.invokeMethodAsync('UpdateCurrentPageNumber', this.currentPageNumber);\n    };\n    PdfViewerBase.prototype.renderPageElement = function (i) {\n        var pageDiv = this.getElement('_pageDiv_' + i);\n        var canvas = this.getElement('_pageCanvas_' + i);\n        if (canvas == null && pageDiv == null && i < this.pageSize.length) {\n            // eslint-disable-next-line\n            this.renderPageContainer(i, this.getPageWidth(i), this.getPageHeight(i), this.getPageTop(i));\n        }\n    };\n    PdfViewerBase.prototype.renderPagesVirtually = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var proxy;\n            var _this = this;\n            return __generator(this, function (_a) {\n                proxy = this;\n                setTimeout(function () {\n                    _this.initiateRenderPagesVirtually(proxy);\n                }, 500);\n                return [2 /*return*/];\n            });\n        });\n    };\n    // eslint-disable-next-line\n    PdfViewerBase.prototype.initiateRenderPagesVirtually = function (proxy) {\n        var jsonObject = { hashId: proxy.hashId, isCompletePageSizeNotReceived: true, action: 'VirtualLoad', elementId: proxy.pdfViewer.element.id, uniqueId: proxy.documentId, password: proxy.passwordData };\n        if (proxy.jsonDocumentId) {\n            // eslint-disable-next-line\n            jsonObject.documentId = proxy.jsonDocumentId;\n        }\n        this.virtualLoadRequestHandler = new AjaxHandler(this.pdfViewer);\n        this.virtualLoadRequestHandler.url = proxy.pdfViewer.serviceUrl + '/' + proxy.pdfViewer.serverActionSettings.load;\n        this.virtualLoadRequestHandler.responseType = 'json';\n        this.virtualLoadRequestHandler.mode = true;\n        this.virtualLoadRequestHandler.send(jsonObject);\n        // eslint-disable-next-line\n        this.virtualLoadRequestHandler.onSuccess = function (result) {\n            // eslint-disable-next-line\n            var data = result.data;\n            if (data) {\n                if (typeof data !== 'object') {\n                    try {\n                        data = JSON.parse(data);\n                    }\n                    catch (error) {\n                        proxy.onControlError(500, data, 'VirtualLoad');\n                    }\n                }\n            }\n            if (data) {\n                while (typeof data !== 'object') {\n                    data = JSON.parse(data);\n                }\n                if (proxy.documentId === data.uniqueId) {\n                    proxy.pdfViewer.fireAjaxRequestSuccess('VirtualLoad', data);\n                    // eslint-disable-next-line\n                    var pageValues = data;\n                    if (proxy.pageSize[proxy.pageLimit - 1]) {\n                        var topValue = proxy.pageSize[proxy.pageLimit - 1].top;\n                        for (var i = proxy.pageLimit; i < proxy.pageCount; i++) {\n                            if (typeof (pageValues.pageSizes[i]) !== 'object') {\n                                var pageSize = pageValues.pageSizes[i].split(',');\n                                if (proxy.pageSize[i - 1] !== null && i !== 0) {\n                                    var previousPageHeight = proxy.pageSize[i - 1].height;\n                                    topValue = proxy.pageGap + parseFloat(previousPageHeight) + topValue;\n                                }\n                                var size = { width: parseFloat(pageSize[0]), height: parseFloat(pageSize[1]), top: topValue };\n                                proxy.pageSize.push(size);\n                            }\n                            else {\n                                if (proxy.pageSize[i - 1] !== null && i !== 0) {\n                                    var previousPageHeight = proxy.pageSize[i - 1].height;\n                                    topValue = proxy.pageGap + parseFloat(previousPageHeight) + topValue;\n                                }\n                                var size = { width: parseFloat(pageValues.pageSizes[i].Width), height: parseFloat(pageValues.pageSizes[i].Height), top: topValue };\n                                proxy.pageSize.push(size);\n                            }\n                        }\n                        // eslint-disable-next-line max-len\n                        proxy.pageContainer.style.height = proxy.getPageTop(proxy.pageSize.length - 1) + proxy.getPageHeight(proxy.pageSize.length - 1) + 'px';\n                        // eslint-disable-next-line\n                        var pageData = window.sessionStorage.getItem(proxy.documentId + '_pagedata');\n                        if (proxy.pageCount > 100) {\n                            proxy.pdfViewer.fireDocumentLoad(pageData);\n                            var linkAnnotationModule = proxy.pdfViewer.linkAnnotationModule;\n                            if (linkAnnotationModule && linkAnnotationModule.linkAnnotation && linkAnnotationModule.linkAnnotation.length > 0 && linkAnnotationModule.linkPage.length > 0) {\n                                linkAnnotationModule.renderDocumentLink(linkAnnotationModule.linkAnnotation, linkAnnotationModule.linkPage, linkAnnotationModule.annotationY, proxy.currentPageNumber - 1);\n                            }\n                        }\n                    }\n                }\n            }\n        };\n        // eslint-disable-next-line\n        this.virtualLoadRequestHandler.onFailure = function (result) {\n            proxy.pdfViewer.fireAjaxRequestFailed(result.status, result.statusText);\n        };\n        // eslint-disable-next-line\n        this.virtualLoadRequestHandler.onError = function (result) {\n            proxy.openNotificationPopup();\n            proxy.pdfViewer.fireAjaxRequestFailed(result.status, result.statusText);\n        };\n    };\n    // eslint-disable-next-line\n    PdfViewerBase.prototype.tileRenderPage = function (data, pageIndex) {\n        var _this = this;\n        var proxy = null;\n        proxy = this;\n        if (data && this.pageSize[pageIndex]) {\n            var pageWidth = this.getPageWidth(pageIndex);\n            var pageHeight = this.getPageHeight(pageIndex);\n            // eslint-disable-next-line max-len\n            var canvas_1 = this.getElement('_pageCanvas_' + pageIndex);\n            var pageDiv_1 = this.getElement('_pageDiv_' + pageIndex);\n            var tileX = data.tileX ? data.tileX : 0;\n            var tileY = data.tileY ? data.tileY : 0;\n            if (pageDiv_1) {\n                pageDiv_1.style.width = pageWidth + 'px';\n                pageDiv_1.style.height = pageHeight + 'px';\n                pageDiv_1.style.background = '#fff';\n                pageDiv_1.style.top = this.getPageTop(pageIndex) + 'px';\n                if (this.pdfViewer.enableRtl) {\n                    pageDiv_1.style.right = this.updateLeftPosition(pageIndex) + 'px';\n                }\n                else {\n                    pageDiv_1.style.left = this.updateLeftPosition(pageIndex) + 'px';\n                }\n            }\n            if (canvas_1) {\n                canvas_1.style.background = '#fff';\n            }\n            var imageData = data['image'];\n            var zoomFactor = this.retrieveCurrentZoomFactor();\n            if (this.isReRenderRequired) {\n                if (data.zoomFactor) {\n                    zoomFactor = data.zoomFactor;\n                }\n                var currentString = this.documentId + '_' + pageIndex + '_' + zoomFactor + '_' + data.tileX + '_' + data.tileY;\n                // eslint-disable-next-line max-len\n                this.tilerequestLists.push(currentString);\n                // eslint-disable-next-line\n                var matrix = data['transformationMatrix'];\n                // eslint-disable-next-line\n                var width = data['width'];\n                if (imageData) {\n                    var tileX_1 = data.tileX ? data.tileX : 0;\n                    var tileY_1 = data.tileY ? data.tileY : 0;\n                    var scaleFactor = (!isNullOrUndefined(data.scaleFactor)) ? data.scaleFactor : 1.5;\n                    var image = document.getElementById(this.pdfViewer.element.id + '_tileimg_' + pageIndex + '_' + this.getZoomFactor() + '_' + tileX_1 + '_' + tileY_1);\n                    if (!image) {\n                        image = new Image();\n                        image.id = this.pdfViewer.element.id + '_tileimg_' + pageIndex + '_' + this.getZoomFactor() + '_' + tileX_1 + '_' + tileY_1;\n                        if (pageDiv_1) {\n                            pageDiv_1.append(image);\n                        }\n                    }\n                    image.src = imageData;\n                    image.onload = function () {\n                        proxy.showPageLoadingIndicator(pageIndex, false);\n                        proxy.tileRenderCount = proxy.tileRenderCount + 1;\n                        if ((tileX_1 === 0) && (tileY_1 === 0)) {\n                            if (pageIndex === 0 && _this.isDocumentLoaded) {\n                                proxy.renderPDFInformations();\n                                proxy.isInitialLoaded = true;\n                                // eslint-disable-next-line\n                                var pageData = window.sessionStorage.getItem(proxy.documentId + '_pagedata');\n                                if (proxy.pageCount <= 100) {\n                                    proxy.pdfViewer.fireDocumentLoad(pageData);\n                                }\n                                proxy.isDocumentLoaded = false;\n                                if (proxy.pdfViewer.textSearch && proxy.pdfViewer.isExtractText) {\n                                    proxy.pdfViewer.textSearchModule.getPDFDocumentTexts();\n                                }\n                            }\n                        }\n                        if (proxy.tileRenderCount === proxy.tileRequestCount) {\n                            if (proxy.isTextMarkupAnnotationModule()) {\n                                proxy.pdfViewer.annotationModule.textMarkupAnnotationModule.rerenderAnnotations(pageIndex);\n                            }\n                            if (canvas_1) {\n                                canvas_1.style.display = 'none';\n                                canvas_1.src = '#';\n                            }\n                            var oldPageDiv = document.querySelectorAll('img[id*=\"' + proxy.pdfViewer.element.id + '_oldCanvas\"]');\n                            for (var i = 0; i < oldPageDiv.length; i++) {\n                                pageDiv_1.removeChild(oldPageDiv[i]);\n                            }\n                            proxy.isTileImageRendered = false;\n                            proxy.tileRenderCount = 0;\n                            if (proxy.pdfViewer.magnificationModule) {\n                                proxy.pdfViewer.magnificationModule.rerenderCountIncrement();\n                            }\n                            proxy.isDrawnCompletely = true;\n                        }\n                    };\n                    var currentImageWidth = (((width * this.getZoomFactor()) / zoomFactor) / scaleFactor);\n                    var matrixElements = matrix.Elements ? matrix.Elements : matrix.Values;\n                    var currentImageTop = (((matrixElements[5] * this.getZoomFactor()) / zoomFactor) / scaleFactor);\n                    var currentImageLeft = (((matrixElements[4] * this.getZoomFactor()) / zoomFactor) / scaleFactor);\n                    image.width = currentImageWidth;\n                    image.style.width = currentImageWidth + 'px';\n                    image.style.top = currentImageTop + 'px';\n                    image.style.left = currentImageLeft + 'px';\n                    image.style.position = 'absolute';\n                }\n                if ((tileX === 0) && (tileY === 0)) {\n                    this.onPageRender(data, pageIndex, pageDiv_1);\n                }\n            }\n            else {\n                var oldCanvases = document.querySelectorAll('img[id*=\"' + proxy.pdfViewer.element.id + '_tileimg_' + pageIndex + '_\"]');\n                for (var l = 0; l < oldCanvases.length; l++) {\n                    var tileImgId = oldCanvases[l].id.split('_');\n                    var zoomFactor_1 = proxy.retrieveCurrentZoomFactor();\n                    // eslint-disable-next-line\n                    var tileData = JSON.parse(proxy.getWindowSessionStorageTile(pageIndex, parseFloat(tileImgId[tileImgId.length - 2]), parseFloat(tileImgId[tileImgId.length - 1]), zoomFactor_1));\n                    if (tileData && tileData.zoomFactor) {\n                        zoomFactor_1 = tileData.zoomFactor;\n                    }\n                    if (parseFloat(tileImgId[tileImgId.length - 4]) === pageIndex) {\n                        var node = oldCanvases[l];\n                        // Make sure it's really an Element\n                        if (node.nodeType == Node.ELEMENT_NODE) {\n                            node.onload = function () {\n                                proxy.showPageLoadingIndicator(pageIndex, false);\n                                proxy.tileRenderCount = proxy.tileRenderCount + 1;\n                                if ((tileX_2 === 0) && (tileY_2 === 0)) {\n                                    if (pageIndex === 0 && _this.isDocumentLoaded) {\n                                        _this.renderPDFInformations();\n                                        _this.isInitialLoaded = true;\n                                        // eslint-disable-next-line\n                                        var pageData = window.sessionStorage.getItem(proxy.documentId + '_pagedata');\n                                        if (proxy.pageCount <= 100) {\n                                            proxy.pdfViewer.fireDocumentLoad(pageData);\n                                        }\n                                        proxy.isDocumentLoaded = false;\n                                        if (proxy.pdfViewer.textSearch && proxy.pdfViewer.isExtractText) {\n                                            proxy.pdfViewer.textSearchModule.getPDFDocumentTexts();\n                                        }\n                                    }\n                                }\n                                if (proxy.tileRenderCount === proxy.tileRequestCount) {\n                                    canvas_1.style.display = 'none';\n                                    canvas_1.src = '#';\n                                    if (proxy.isTextMarkupAnnotationModule()) {\n                                        proxy.pdfViewer.annotationModule.textMarkupAnnotationModule.rerenderAnnotations(pageIndex);\n                                    }\n                                    var oldPageDiv = document.querySelectorAll('img[id*=\"' + proxy.pdfViewer.element.id + '_oldCanvas\"]');\n                                    for (var i = 0; i < oldPageDiv.length; i++) {\n                                        pageDiv_1.removeChild(oldPageDiv[i]);\n                                    }\n                                    proxy.isTileImageRendered = false;\n                                    proxy.tileRenderCount = 0;\n                                    if (proxy.pdfViewer.magnificationModule) {\n                                        proxy.pdfViewer.magnificationModule.rerenderCountIncrement();\n                                    }\n                                    proxy.isDrawnCompletely = true;\n                                }\n                            };\n                            if (tileData)\n                                node.src = tileData.image;\n                        }\n                    }\n                }\n                var tileX_2 = data.tileX ? data.tileX : 0;\n                var tileY_2 = data.tileY ? data.tileY : 0;\n                if ((tileX_2 === 0) && (tileY_2 === 0)) {\n                    this.onPageRender(data, pageIndex, pageDiv_1);\n                }\n            }\n        }\n    };\n    PdfViewerBase.prototype.renderTileCanvas = function (pageWidth, pageHeight, pageIndex, pageDiv, zoomFactor, scaleFactor) {\n        var pageCanvas = this.getElement('_pageTileCanvas_' + pageIndex);\n        if (!pageCanvas) {\n            pageCanvas = createElement('canvas', { id: this.pdfViewer.element.id + '_pageTileCanvas_' + pageIndex, className: 'e-pv-pageTile-canvas' });\n            pageCanvas.style.width = pageWidth + 'px';\n            pageCanvas.style.height = pageHeight + 'px';\n            pageCanvas.style.display = 'none';\n            pageCanvas.style.backgroundColor = '#fff';\n            if (this.isMixedSizeDocument && this.highestWidth > 0) {\n                pageCanvas.style.marginLeft = 'auto';\n                pageCanvas.style.marginRight = 'auto';\n            }\n            pageDiv.appendChild(pageCanvas);\n        }\n        return pageCanvas;\n    };\n    PdfViewerBase.prototype.calculateImageWidth = function (pageWidth, zoomFactor, scaleFactor, imageWidth) {\n        var width = (pageWidth / this.getZoomFactor()) * zoomFactor * scaleFactor;\n        // eslint-disable-next-line\n        if ((parseInt(imageWidth.toString())) === (parseInt(width.toString()))) {\n            imageWidth = width;\n        }\n        imageWidth = ((imageWidth * this.getZoomFactor()) / zoomFactor);\n        return imageWidth;\n    };\n    // eslint-disable-next-line\n    PdfViewerBase.prototype.renderPage = function (data, pageIndex) {\n        var _this = this;\n        var proxy = this;\n        if (data && this.pageSize[pageIndex]) {\n            var pageWidth = this.getPageWidth(pageIndex);\n            var pageHeight = this.getPageHeight(pageIndex);\n            // eslint-disable-next-line max-len\n            var canvas_2 = this.getElement('_pageCanvas_' + pageIndex);\n            var pageDiv_2 = this.getElement('_pageDiv_' + pageIndex);\n            if (pageDiv_2) {\n                pageDiv_2.style.width = pageWidth + 'px';\n                pageDiv_2.style.height = pageHeight + 'px';\n                pageDiv_2.style.top = this.getPageTop(pageIndex) + 'px';\n                if (this.pdfViewer.enableRtl) {\n                    pageDiv_2.style.right = this.updateLeftPosition(pageIndex) + 'px';\n                }\n                else {\n                    pageDiv_2.style.left = this.updateLeftPosition(pageIndex) + 'px';\n                }\n            }\n            if (canvas_2) {\n                canvas_2.style.background = '#fff';\n                canvas_2.style.display = 'block';\n                canvas_2.style.width = pageWidth + 'px';\n                canvas_2.style.height = pageHeight + 'px';\n                if (pageWidth < parseFloat(pageDiv_2.style.width)) {\n                    pageDiv_2.style.boxShadow = 'none';\n                }\n                // eslint-disable-next-line\n                var imageData = data['image'];\n                if (imageData) {\n                    canvas_2.onload = function () {\n                        var oldCanvases = document.querySelectorAll('img[id*=\"' + proxy.pdfViewer.element.id + '_tileimg_' + pageIndex + '_\"]');\n                        var pageCanvas = proxy.getElement('_pageDiv_' + pageIndex);\n                        for (var i = 0; i < oldCanvases.length; i++) {\n                            var tileImgId = oldCanvases[i].id.split('_');\n                            if (parseFloat(tileImgId[tileImgId.length - 3]) != proxy.getZoomFactor())\n                                pageCanvas.removeChild(oldCanvases[i]);\n                        }\n                        var oldPageDiv = document.querySelectorAll('img[id*=\"' + proxy.pdfViewer.element.id + '_oldCanvas\"]');\n                        for (var i = 0; i < oldPageDiv.length; i++) {\n                            pageDiv_2.removeChild(oldPageDiv[i]);\n                        }\n                        if (_this.pdfViewer.magnificationModule) {\n                            _this.pdfViewer.magnificationModule.rerenderCountIncrement();\n                        }\n                        _this.showPageLoadingIndicator(pageIndex, false);\n                        if (pageIndex === 0 && _this.isDocumentLoaded) {\n                            _this.renderPDFInformations();\n                            _this.isInitialLoaded = true;\n                            // eslint-disable-next-line\n                            var pageData = window.sessionStorage.getItem(_this.documentId + '_pagedata');\n                            if (_this.pageCount <= 100) {\n                                _this.pdfViewer.fireDocumentLoad(pageData);\n                            }\n                            _this.isDocumentLoaded = false;\n                            if (_this.pdfViewer.textSearch && _this.pdfViewer.isExtractText) {\n                                _this.pdfViewer.textSearchModule.getPDFDocumentTexts();\n                            }\n                        }\n                        if (_this.pdfViewer.magnificationModule) {\n                            _this.pdfViewer.magnificationModule.pushImageObjects(canvas_2);\n                        }\n                    };\n                    canvas_2.src = imageData;\n                }\n                this.onPageRender(data, pageIndex, pageDiv_2);\n            }\n        }\n    };\n    // eslint-disable-next-line\n    PdfViewerBase.prototype.onPageRender = function (data, pageIndex, pageDiv) {\n        // eslint-disable-next-line\n        var aElement = pageDiv && pageDiv.getElementsByTagName('a');\n        var isAnnotationRendered = false;\n        if (aElement && aElement.length !== 0) {\n            for (var index = aElement.length - 1; index >= 0; index--) {\n                aElement[index].parentNode.removeChild(aElement[index]);\n            }\n        }\n        if (this.pdfViewer.textSearchModule || this.pdfViewer.textSelectionModule || this.pdfViewer.annotationModule) {\n            this.renderTextContent(data, pageIndex);\n        }\n        if (this.pdfViewer.formFieldsModule && !this.pdfViewer.magnificationModule.isFormFieldPageZoomed) {\n            this.pdfViewer.formFieldsModule.renderFormFields(pageIndex);\n        }\n        if (this.pdfViewer.formDesignerModule && !this.isDocumentLoaded) {\n            this.pdfViewer.formDesignerModule.rerenderFormFields(pageIndex);\n        }\n        if (this.pdfViewer.formDesignerModule && this.isDocumentLoaded && this.pdfViewer.magnificationModule.isFormFieldPageZoomed) {\n            this.pdfViewer.formFieldsModule.renderFormFields(pageIndex);\n            this.pdfViewer.magnificationModule.isFormFieldPageZoomed = false;\n        }\n        if (this.pdfViewer.enableHyperlink && this.pdfViewer.linkAnnotationModule) {\n            this.pdfViewer.linkAnnotationModule.renderHyperlinkContent(data, pageIndex);\n        }\n        if (this.pdfViewer.textSelectionModule && !this.isTextSelectionDisabled) {\n            this.pdfViewer.textSelectionModule.applySelectionRangeOnScroll(pageIndex);\n        }\n        if (this.documentAnnotationCollections) {\n            var isAnnotationAdded = false;\n            for (var i = 0; i < this.annotationRenderredList.length; i++) {\n                if (this.annotationRenderredList[i] === pageIndex) {\n                    isAnnotationAdded = true;\n                }\n            }\n            // eslint-disable-next-line\n            var pageAnnotations = this.documentAnnotationCollections[pageIndex];\n            if (pageAnnotations && !isAnnotationAdded) {\n                data.shapeAnnotation = pageAnnotations.shapeAnnotation;\n                data.measureShapeAnnotation = pageAnnotations.measureShapeAnnotation;\n                data.textMarkupAnnotation = pageAnnotations.textMarkupAnnotation;\n                data.freeTextAnnotation = pageAnnotations.freeTextAnnotation;\n                data.stampAnnotations = pageAnnotations.stampAnnotations;\n                data.stickyNotesAnnotation = pageAnnotations.stickyNotesAnnotation;\n                data.signatureInkAnnotation = pageAnnotations.signatureInkAnnotation;\n                this.annotationRenderredList.push(pageIndex);\n            }\n        }\n        if (this.isImportAction) {\n            // eslint-disable-next-line\n            var pageAnnotations = this.checkDocumentCollectionData(pageIndex);\n            if (pageAnnotations) {\n                data.shapeAnnotation = pageAnnotations.shapeAnnotation;\n                data.measureShapeAnnotation = pageAnnotations.measureShapeAnnotation;\n                data.textMarkupAnnotation = pageAnnotations.textMarkupAnnotation;\n                data.freeTextAnnotation = pageAnnotations.freeTextAnnotation;\n                data.stampAnnotations = pageAnnotations.stampAnnotations;\n                data.stickyNotesAnnotation = pageAnnotations.stickyNotesAnnotation;\n                data.signatureInkAnnotation = pageAnnotations.signatureInkAnnotation;\n                isAnnotationRendered = true;\n            }\n        }\n        if (this.pdfViewer.annotationModule && (this.isTextMarkupAnnotationModule() || this.isShapeBasedAnnotationsEnabled())) {\n            if (this.isStampAnnotationModule()) {\n                // eslint-disable-next-line\n                var stampData = data['stampAnnotations'];\n                if (isAnnotationRendered) {\n                    // eslint-disable-next-line max-len\n                    this.pdfViewer.annotationModule.stampAnnotationModule.renderStampAnnotations(stampData, pageIndex, null, true);\n                }\n                else {\n                    // eslint-disable-next-line max-len\n                    this.pdfViewer.annotationModule.stampAnnotationModule.renderStampAnnotations(stampData, pageIndex);\n                }\n            }\n            if (isAnnotationRendered) {\n                // eslint-disable-next-line max-len\n                this.pdfViewer.annotationModule.renderAnnotations(pageIndex, data.shapeAnnotation, data.measureShapeAnnotation, data.textMarkupAnnotation, null, true);\n            }\n            else {\n                // eslint-disable-next-line max-len\n                this.pdfViewer.annotationModule.renderAnnotations(pageIndex, data.shapeAnnotation, data.measureShapeAnnotation, data.textMarkupAnnotation);\n            }\n            this.pdfViewer.annotationModule.stickyNotesAnnotationModule.renderStickyNotesAnnotations(data.stickyNotesAnnotation, pageIndex);\n        }\n        if (this.pdfViewer.formDesignerModule && !this.pdfViewer.annotationModule) {\n            this.pdfViewer.formDesignerModule.updateCanvas(pageIndex);\n        }\n        if (this.pdfViewer.textSearchModule) {\n            if (this.pdfViewer.textSearchModule.isTextSearch) {\n                this.pdfViewer.textSearchModule.highlightOtherOccurrences(pageIndex);\n            }\n        }\n        if (this.isShapeBasedAnnotationsEnabled()) {\n            var canvas1 = this.getElement('_annotationCanvas_' + pageIndex);\n            var commonStyle = 'position:absolute;top:0px;left:0px;overflow:hidden;pointer-events:none;z-index:1000';\n            if (canvas1) {\n                var bounds = canvas1.getBoundingClientRect();\n                renderAdornerLayer(bounds, commonStyle, canvas1, pageIndex, this.pdfViewer);\n                this.pdfViewer.renderSelector(pageIndex, this.pdfViewer.annotationSelectorSettings);\n            }\n        }\n        if (this.pdfViewer.annotationModule) {\n            this.pdfViewer.annotationModule.stickyNotesAnnotationModule.selectCommentsAnnotation(pageIndex);\n        }\n        if (this.isFreeTextAnnotationModule() && data.freeTextAnnotation) {\n            if (isAnnotationRendered) {\n                // eslint-disable-next-line max-len\n                this.pdfViewer.annotationModule.freeTextAnnotationModule.renderFreeTextAnnotations(data.freeTextAnnotation, pageIndex, true);\n            }\n            else {\n                this.pdfViewer.annotationModule.freeTextAnnotationModule.renderFreeTextAnnotations(data.freeTextAnnotation, pageIndex);\n            }\n        }\n        if (this.isInkAnnotationModule() && data && data.signatureInkAnnotation) {\n            // eslint-disable-next-line max-len\n            this.pdfViewer.annotationModule.inkAnnotationModule.renderExistingInkSignature(data.signatureInkAnnotation, pageIndex, isAnnotationRendered);\n        }\n        // eslint-disable-next-line max-len\n        if (this.pdfViewer.annotationModule && this.pdfViewer.annotationModule.isAnnotationSelected && this.pdfViewer.annotationModule.annotationPageIndex === pageIndex) {\n            this.pdfViewer.annotationModule.selectAnnotationFromCodeBehind();\n        }\n        this.isLoadedFormFieldAdded = false;\n    };\n    /**\n     * @private\n     * @param {number} pageIndex - page index for rendering the annotation.\n     * @returns {void}\n     */\n    PdfViewerBase.prototype.renderAnnotations = function (pageIndex, isAddedProgrammatically) {\n        // eslint-disable-next-line\n        var data = {};\n        if (this.documentAnnotationCollections) {\n            var isAnnotationAdded = false;\n            for (var i = 0; i < this.annotationRenderredList.length; i++) {\n                if (this.annotationRenderredList[i] === pageIndex) {\n                    isAnnotationAdded = true;\n                }\n            }\n            // eslint-disable-next-line\n            var pageAnnotations = this.documentAnnotationCollections[pageIndex];\n            if (pageAnnotations && !isAnnotationAdded) {\n                data.shapeAnnotation = pageAnnotations.shapeAnnotation;\n                data.measureShapeAnnotation = pageAnnotations.measureShapeAnnotation;\n                data.textMarkupAnnotation = pageAnnotations.textMarkupAnnotation;\n                data.freeTextAnnotation = pageAnnotations.freeTextAnnotation;\n                data.stampAnnotations = pageAnnotations.stampAnnotations;\n                data.stickyNotesAnnotation = pageAnnotations.stickyNotesAnnotation;\n                data.signatureAnnotation = pageAnnotations.signatureAnnotation;\n                data.signatureInkAnnotation = pageAnnotations.signatureInkAnnotation;\n                this.annotationRenderredList.push(pageIndex);\n            }\n        }\n        if (this.isAnnotationCollectionRemoved) {\n            data.shapeAnnotation = [];\n            data.measureShapeAnnotation = [];\n            data.textMarkupAnnotation = [];\n            data.freeTextAnnotation = [];\n            data.stampAnnotations = [];\n            data.stickyNotesAnnotation = [];\n            data.signatureInkAnnotation = [];\n        }\n        if (this.isTextMarkupAnnotationModule() || this.isShapeBasedAnnotationsEnabled()) {\n            if (this.isStampAnnotationModule()) {\n                // eslint-disable-next-line\n                var stampData = data['stampAnnotations'];\n                // eslint-disable-next-line max-len\n                this.pdfViewer.annotationModule.stampAnnotationModule.renderStampAnnotations(stampData, pageIndex);\n            }\n            // eslint-disable-next-line max-len\n            this.pdfViewer.annotationModule.renderAnnotations(pageIndex, data.shapeAnnotation, data.measureShapeAnnotation, data.textMarkupAnnotation);\n            this.pdfViewer.annotationModule.stickyNotesAnnotationModule.renderStickyNotesAnnotations(data.stickyNotesAnnotation, pageIndex);\n        }\n        if (this.pdfViewer.textSearchModule) {\n            if (this.pdfViewer.textSearchModule.isTextSearch) {\n                this.pdfViewer.textSearchModule.highlightOtherOccurrences(pageIndex);\n            }\n        }\n        if (this.isImportAction) {\n            var isAnnotationAdded = false;\n            for (var i = 0; i < this.annotationPageList.length; i++) {\n                if (this.annotationPageList[i] === pageIndex) {\n                    isAnnotationAdded = true;\n                }\n            }\n            if (!isAnnotationAdded) {\n                if (this.importedAnnotation) {\n                    this.drawPageAnnotations(this.importedAnnotation, pageIndex, true);\n                    this.annotationPageList[this.annotationPageList.length] = pageIndex;\n                }\n            }\n        }\n        if (this.isShapeBasedAnnotationsEnabled()) {\n            var canvas1 = this.getElement('_annotationCanvas_' + pageIndex);\n            var commonStyle = 'position:absolute;top:0px;left:0px;overflow:hidden;pointer-events:none;z-index:1000';\n            if (canvas1) {\n                var bounds = canvas1.getBoundingClientRect();\n                renderAdornerLayer(bounds, commonStyle, canvas1, pageIndex, this.pdfViewer);\n                this.pdfViewer.renderSelector(pageIndex);\n            }\n        }\n        if (this.pdfViewer.annotationModule) {\n            this.pdfViewer.annotationModule.stickyNotesAnnotationModule.selectCommentsAnnotation(pageIndex);\n        }\n        if (this.isFreeTextAnnotationModule() && data.freeTextAnnotation) {\n            this.pdfViewer.annotationModule.freeTextAnnotationModule.renderFreeTextAnnotations(data.freeTextAnnotation, pageIndex, undefined, isAddedProgrammatically);\n        }\n        if (data && data.signatureAnnotation) {\n            this.signatureModule.renderExistingSignature(data.signatureAnnotation, pageIndex, false);\n        }\n        if (this.isInkAnnotationModule() && data && data.signatureInkAnnotation) {\n            this.pdfViewer.annotationModule.inkAnnotationModule.renderExistingInkSignature(data.signatureInkAnnotation, pageIndex, false);\n        }\n        if (this.pdfViewer.annotationModule && this.pdfViewer.annotationModule.isAnnotationSelected) {\n            this.pdfViewer.annotationModule.selectAnnotationFromCodeBehind();\n        }\n    };\n    // eslint-disable-next-line\n    PdfViewerBase.prototype.renderTextContent = function (data, pageIndex) {\n        // eslint-disable-next-line\n        var texts = data['textContent'];\n        // eslint-disable-next-line\n        var bounds = data['textBounds'];\n        // eslint-disable-next-line\n        var rotation = data['rotation'];\n        var textLayer = this.getElement('_textLayer_' + pageIndex);\n        if (!textLayer) {\n            // eslint-disable-next-line max-len\n            textLayer = this.textLayer.addTextLayer(pageIndex, this.getPageWidth(pageIndex), this.getPageHeight(pageIndex), this.getElement('_pageDiv_' + pageIndex));\n        }\n        if (textLayer && texts && bounds) {\n            textLayer.style.display = 'block';\n            if (textLayer.childNodes.length === 0) {\n                this.textLayer.renderTextContents(pageIndex, texts, bounds, rotation);\n            }\n            else {\n                this.textLayer.resizeTextContents(pageIndex, texts, bounds, rotation, true);\n            }\n        }\n    };\n    PdfViewerBase.prototype.renderPageContainer = function (pageNumber, pageWidth, pageHeight, topValue) {\n        // eslint-disable-next-line max-len\n        var pageDiv = createElement('div', { id: this.pdfViewer.element.id + '_pageDiv_' + pageNumber, className: 'e-pv-page-div', attrs: { 'tabindex': '0' } });\n        pageDiv.style.width = pageWidth + 'px';\n        pageDiv.style.height = pageHeight + 'px';\n        if (this.pdfViewer.enableRtl) {\n            pageDiv.style.right = this.updateLeftPosition(pageNumber) + 'px';\n        }\n        else {\n            pageDiv.style.left = this.updateLeftPosition(pageNumber) + 'px';\n        }\n        pageDiv.style.top = topValue + 'px';\n        this.pageContainer.appendChild(pageDiv);\n        this.pageContainer.style.width = this.viewerContainer.clientWidth + 'px';\n        this.createWaitingPopup(pageNumber);\n        this.orderPageDivElements(pageDiv, pageNumber);\n        this.renderPageCanvas(pageDiv, pageWidth, pageHeight, pageNumber, 'block');\n        if ((Browser.isDevice && !this.pdfViewer.enableDesktopMode) && !this.isThumb) {\n            this.updateMobileScrollerPosition();\n        }\n    };\n    PdfViewerBase.prototype.renderPDFInformations = function () {\n        if (this.pdfViewer.thumbnailViewModule && (!Browser.isDevice || this.pdfViewer.enableDesktopMode)) {\n            this.pdfViewer.thumbnailViewModule.createRequestForThumbnails();\n        }\n        if (this.pdfViewer.bookmarkViewModule) {\n            this.pdfViewer.bookmarkViewModule.createRequestForBookmarks();\n        }\n        if (this.pdfViewer.annotationModule) {\n            if (this.pdfViewer.toolbarModule) {\n                this.pdfViewer.annotationModule.stickyNotesAnnotationModule.initializeAcccordionContainer();\n            }\n            if (this.pdfViewer.isCommandPanelOpen) {\n                this.pdfViewer.annotation.showCommentsPanel();\n            }\n            this.pdfViewer.annotationModule.stickyNotesAnnotationModule.createRequestForComments();\n        }\n    };\n    PdfViewerBase.prototype.orderPageDivElements = function (pageDiv, pageIndex) {\n        var nextElement = this.getElement('_pageDiv_' + (pageIndex + 1));\n        if (nextElement) {\n            this.pageContainer.insertBefore(pageDiv, nextElement);\n        }\n        else {\n            this.pageContainer.appendChild(pageDiv);\n        }\n    };\n    /**\n     * @param pageDiv\n     * @param pageWidth\n     * @param pageHeight\n     * @param pageNumber\n     * @param displayMode\n     * @param pageDiv\n     * @param pageWidth\n     * @param pageHeight\n     * @param pageNumber\n     * @param displayMode\n     * @param pageDiv\n     * @param pageWidth\n     * @param pageHeight\n     * @param pageNumber\n     * @param displayMode\n     * @private\n     */\n    // eslint-disable-next-line\n    PdfViewerBase.prototype.renderPageCanvas = function (pageDiv, pageWidth, pageHeight, pageNumber, displayMode) {\n        if (pageDiv) {\n            // eslint-disable-next-line\n            var pageCanvas = this.getElement('_pageCanvas_' + pageNumber);\n            if (pageCanvas) {\n                pageCanvas.width = pageWidth;\n                pageCanvas.height = pageHeight;\n                pageCanvas.style.display = 'block';\n                if (this.isMixedSizeDocument && this.highestWidth > 0) {\n                    pageCanvas.style.marginLeft = 'auto';\n                    pageCanvas.style.marginRight = 'auto';\n                }\n            }\n            else {\n                // eslint-disable-next-line max-len\n                pageCanvas = createElement('img', { id: this.pdfViewer.element.id + '_pageCanvas_' + pageNumber, className: 'e-pv-page-canvas' });\n                pageCanvas.width = pageWidth;\n                pageCanvas.height = pageHeight;\n                pageCanvas.style.display = displayMode;\n                if (this.isMixedSizeDocument && this.highestWidth > 0) {\n                    pageCanvas.style.marginLeft = 'auto';\n                    pageCanvas.style.marginRight = 'auto';\n                }\n                pageDiv.appendChild(pageCanvas);\n            }\n            if (this.pdfViewer.annotationModule && this.pdfViewer.annotation) {\n                // eslint-disable-next-line max-len\n                this.pdfViewer.annotationModule.createAnnotationLayer(pageDiv, pageWidth, pageHeight, pageNumber, displayMode);\n            }\n            if (this.pdfViewer.textSearchModule || this.pdfViewer.textSelectionModule || this.pdfViewer.annotationModule) {\n                this.textLayer.addTextLayer(pageNumber, pageWidth, pageHeight, pageDiv);\n            }\n            if (this.pdfViewer.formDesignerModule && !this.pdfViewer.annotationModule) {\n                this.pdfViewer.formDesignerModule.createAnnotationLayer(pageDiv, pageWidth, pageHeight, pageNumber, displayMode);\n            }\n            return pageCanvas;\n        }\n    };\n    /**\n     * @private\n     * @param {any} pageCanvas - The canvas for rendering the page.\n     * @param {any} pageNumber - The page number for adding styles.\n     * @returns {void}\n     */\n    // eslint-disable-next-line\n    PdfViewerBase.prototype.applyElementStyles = function (pageCanvas, pageNumber) {\n        if (this.isMixedSizeDocument && pageCanvas) {\n            var canvasElement = document.getElementById(this.pdfViewer.element.id + '_pageCanvas_' + pageNumber);\n            var oldCanvas = document.getElementById(this.pdfViewer.element.id + '_oldCanvas_' + pageNumber);\n            if (pageCanvas && canvasElement && canvasElement.offsetLeft > 0) {\n                pageCanvas.style.marginLeft = canvasElement.offsetLeft + 'px';\n                pageCanvas.style.marginRight = canvasElement.offsetLeft + 'px';\n            }\n            else if (oldCanvas && oldCanvas.offsetLeft > 0) {\n                pageCanvas.style.marginLeft = oldCanvas.offsetLeft + 'px';\n                pageCanvas.style.marginRight = oldCanvas.offsetLeft + 'px';\n            }\n            else {\n                pageCanvas.style.marginLeft = 'auto';\n                pageCanvas.style.marginRight = 'auto';\n            }\n        }\n    };\n    /**\n     * @private\n     * @param  {number} pageIndex - page index for updating positon.\n     * @returns {void}\n     */\n    PdfViewerBase.prototype.updateLeftPosition = function (pageIndex) {\n        var leftPosition;\n        var width = this.viewerContainer.getBoundingClientRect().width;\n        if (width === 0) {\n            width = parseFloat(this.pdfViewer.width.toString());\n        }\n        // eslint-disable-next-line max-len\n        if (this.isMixedSizeDocument && this.highestWidth > 0) {\n            if (this.viewerContainer.clientWidth > 0) {\n                leftPosition = (this.viewerContainer.clientWidth - (this.highestWidth * this.getZoomFactor())) / 2;\n            }\n            else {\n                leftPosition = (width - (this.highestWidth * this.getZoomFactor())) / 2;\n            }\n            var pageDiff = (this.highestWidth * this.getZoomFactor() - this.getPageWidth(pageIndex)) / 2;\n            if (leftPosition > 0) {\n                leftPosition += pageDiff;\n            }\n            else {\n                leftPosition = pageDiff;\n            }\n        }\n        else {\n            if (this.viewerContainer.clientWidth > 0) {\n                leftPosition = (this.viewerContainer.clientWidth - this.getPageWidth(pageIndex)) / 2;\n            }\n            else {\n                leftPosition = (width - this.getPageWidth(pageIndex)) / 2;\n            }\n        }\n        var isLandscape = false;\n        if (this.pageSize[pageIndex].width > this.pageSize[pageIndex].height) {\n            isLandscape = true;\n        }\n        // eslint-disable-next-line max-len\n        if (leftPosition < 0 || (this.pdfViewer.magnificationModule ? ((this.pdfViewer.magnificationModule.isAutoZoom && this.getZoomFactor() < 1) || this.pdfViewer.magnificationModule.fitType === 'fitToWidth') : false)) {\n            var leftValue = leftPosition;\n            if (leftPosition > 0 && (Browser.isDevice && !this.pdfViewer.enableDesktopMode)) {\n                // eslint-disable-next-line\n                leftPosition = leftValue;\n            }\n            else {\n                leftPosition = this.pageLeft;\n            }\n            if ((leftPosition > 0) && this.isMixedSizeDocument) {\n                if (leftValue > 0) {\n                    leftPosition = leftValue;\n                }\n            }\n        }\n        return leftPosition;\n    };\n    /**\n     * @private\n     * @param {number} pageIndex - The page index for positon.\n     * @returns {void}\n     */\n    PdfViewerBase.prototype.applyLeftPosition = function (pageIndex) {\n        var leftPosition;\n        if (this.pageSize[pageIndex]) {\n            if (this.isMixedSizeDocument && this.highestWidth > 0) {\n                if (this.viewerContainer.clientWidth > 0) {\n                    // eslint-disable-next-line max-len\n                    leftPosition = (this.viewerContainer.clientWidth - (this.highestWidth * this.getZoomFactor())) / 2;\n                }\n                else {\n                    // eslint-disable-next-line max-len\n                    leftPosition = (this.viewerContainer.getBoundingClientRect().width - (this.highestWidth * this.getZoomFactor())) / 2;\n                }\n                var pageDiff = (this.highestWidth * this.getZoomFactor() - this.getPageWidth(pageIndex)) / 2;\n                if (leftPosition > 0) {\n                    leftPosition += pageDiff;\n                }\n                else {\n                    leftPosition = pageDiff;\n                }\n            }\n            else {\n                if (this.viewerContainer.clientWidth > 0) {\n                    // eslint-disable-next-line max-len\n                    leftPosition = (this.viewerContainer.clientWidth - this.pageSize[pageIndex].width * this.getZoomFactor()) / 2;\n                }\n                else {\n                    // eslint-disable-next-line max-len\n                    leftPosition = (this.viewerContainer.getBoundingClientRect().width - this.pageSize[pageIndex].width * this.getZoomFactor()) / 2;\n                }\n            }\n            var isLandscape = false;\n            if (this.pageSize[pageIndex].width > this.pageSize[pageIndex].height) {\n                isLandscape = true;\n            }\n            // eslint-disable-next-line max-len\n            if (leftPosition < 0 || (this.pdfViewer.magnificationModule ? ((this.pdfViewer.magnificationModule.isAutoZoom && this.getZoomFactor() < 1) || this.pdfViewer.magnificationModule.fitType === 'fitToWidth') : false)) {\n                var leftValue = leftPosition;\n                leftPosition = this.pageLeft;\n                // eslint-disable-next-line max-len\n                if ((leftValue > 0) && this.isMixedSizeDocument) {\n                    leftPosition = leftValue;\n                }\n            }\n            // eslint-disable-next-line max-len\n            var pageDiv = document.getElementById(this.pdfViewer.element.id + '_pageDiv_' + pageIndex);\n            if (pageDiv) {\n                if (!this.pdfViewer.enableRtl) {\n                    pageDiv.style.left = leftPosition + 'px';\n                }\n                else {\n                    pageDiv.style.right = leftPosition + 'px';\n                }\n            }\n        }\n    };\n    PdfViewerBase.prototype.updatePageHeight = function (viewerHeight, toolbarHeight) {\n        return ((viewerHeight - toolbarHeight) / viewerHeight) * 100 + '%';\n    };\n    /**\n     * @private\n     * @param {Point} clientPoint - The user should provide a x, y coordinates.\n     * @returns {number}\n     */\n    PdfViewerBase.prototype.getPageNumberFromClientPoint = function (clientPoint) {\n        var pointX = clientPoint.x + this.viewerContainer.scrollLeft;\n        var pointY = clientPoint.y + this.viewerContainer.scrollTop;\n        for (var i = 0; i < this.pageCount; i++) {\n            if (pointY < (this.pageSize[i].top + this.pageSize[i].height)) {\n                var viewerContainerBounds = this.getElement('_pageViewContainer').getBoundingClientRect();\n                var pageLeft = ((viewerContainerBounds.width - this.pageSize[i].width) / 2) + viewerContainerBounds.x;\n                var verticalScrollPosition = 0;\n                if (pointY > this.pageSize[i].top) {\n                    verticalScrollPosition = (pointY - this.pageSize[i].top);\n                }\n                else {\n                    verticalScrollPosition = (this.pageSize[i].top - pointY);\n                }\n                if (verticalScrollPosition > 0) {\n                    if (this.pageSize[i] != null) {\n                        var pageHeight = this.getPageHeight(i);\n                        if ((pointX < pageLeft) || (pointX > (pageLeft + (this.pageSize[i].width)))) {\n                            return -1;\n                        }\n                        if (verticalScrollPosition <= (this.getPageTop(i) + this.pageSize[i].height)) {\n                            return i + 1;\n                        }\n                    }\n                }\n            }\n        }\n        return -1;\n    };\n    /**\n     * @private\n     * @param {Point} clientPoint - The user should provide a x, y coordinates.\n     * @param {number} pageNumber - We need to pass pageNumber.\n     * @returns {Point}\n     */\n    PdfViewerBase.prototype.convertClientPointToPagePoint = function (clientPoint, pageNumber) {\n        if (pageNumber !== -1) {\n            var viewerContainerBounds = this.getElement('_pageViewContainer').getBoundingClientRect();\n            var pageLeft = ((viewerContainerBounds.width - this.pageSize[pageNumber - 1].width) / 2) + viewerContainerBounds.x;\n            var pagePoint = { x: (clientPoint.x + this.viewerContainer.scrollLeft) - pageLeft, y: (clientPoint.y + this.viewerContainer.scrollTop) - this.pageSize[pageNumber - 1].top };\n            return pagePoint;\n        }\n        return null;\n    };\n    /**\n     * @private\n     * @param {Point} pagePoint - The user needs to provide a page x, y position.\n     * @param {number} pageNumber - We need to pass pageNumber.\n     * @returns {Point}\n     */\n    PdfViewerBase.prototype.convertPagePointToClientPoint = function (pagePoint, pageNumber) {\n        if (pageNumber !== -1) {\n            var viewerContainerBounds = this.getElement('_pageViewContainer').getBoundingClientRect();\n            var pageLeft = ((viewerContainerBounds.width - this.pageSize[pageNumber - 1].width) / 2) + viewerContainerBounds.x;\n            var clientPoint = { x: pagePoint.x + pageLeft, y: pagePoint.y + this.pageSize[pageNumber - 1].top };\n            return clientPoint;\n        }\n        return null;\n    };\n    /**\n     * @private\n     * @param {Point} pagePoint - The user needs to provide a page x, y position.\n     * @param {number} pageNumber - We need to pass pageNumber.\n     * @returns {Point}\n     */\n    PdfViewerBase.prototype.convertPagePointToScrollingPoint = function (pagePoint, pageNumber) {\n        if (pageNumber !== -1) {\n            var scrollingPoint = { x: pagePoint.x + this.viewerContainer.scrollLeft, y: pagePoint.y + this.viewerContainer.scrollTop };\n            return scrollingPoint;\n        }\n        return null;\n    };\n    PdfViewerBase.prototype.initiatePageViewScrollChanged = function () {\n        if (this.scrollHoldTimer) {\n            clearTimeout(this.scrollHoldTimer);\n        }\n        this.scrollHoldTimer = null;\n        if ((this.scrollPosition * this.getZoomFactor()) !== this.viewerContainer.scrollTop) {\n            this.scrollPosition = this.viewerContainer.scrollTop;\n            this.pageViewScrollChanged(this.currentPageNumber);\n        }\n    };\n    PdfViewerBase.prototype.renderCountIncrement = function () {\n        if (this.pdfViewer.magnificationModule) {\n            this.pdfViewer.magnificationModule.renderCountIncrement();\n        }\n    };\n    /**\n     * @private\n     * @param {number} currentPageNumber - The current pagenumber.\n     * @returns {void}\n     */\n    PdfViewerBase.prototype.pageViewScrollChanged = function (currentPageNumber) {\n        if (this.isPanMode) {\n            if (this.renderedPagesList.indexOf(currentPageNumber - 1) === -1) {\n                this.reRenderedCount = 0;\n            }\n        }\n        else {\n            this.reRenderedCount = 0;\n        }\n        var currentPageIndex = currentPageNumber - 1;\n        if (currentPageNumber !== this.previousPage && currentPageNumber <= this.pageCount) {\n            var isSkip = false;\n            if (this.isDataExits && !this.getStoredData(currentPageIndex)) {\n                isSkip = true;\n            }\n            if (this.renderedPagesList.indexOf(currentPageIndex) === -1 && !this.getMagnified() && !isSkip) {\n                this.renderCountIncrement();\n                this.createRequestForRender(currentPageIndex);\n            }\n        }\n        if (!(this.getMagnified() || this.getPagesPinchZoomed())) {\n            var previous = currentPageIndex - 1;\n            var isSkip = false;\n            var canvas = this.getElement('_pageCanvas_' + previous);\n            if (this.isDataExits && !this.getStoredData(previous)) {\n                isSkip = true;\n            }\n            if (canvas !== null && !isSkip) {\n                if (this.renderedPagesList.indexOf(previous) === -1 && !this.getMagnified()) {\n                    this.renderCountIncrement();\n                    this.createRequestForRender(previous);\n                }\n            }\n            if (this.isMinimumZoom) {\n                this.renderPreviousPagesInScroll(previous);\n            }\n            var next = currentPageIndex + 1;\n            var pageHeight = 0;\n            if (next < this.pageCount) {\n                pageHeight = this.getPageHeight(next);\n                if (this.renderedPagesList.indexOf(next) === -1 && !this.getMagnified() && pageHeight) {\n                    this.createRequestForRender(next);\n                    this.renderCountIncrement();\n                    while (this.viewerContainer.clientHeight > pageHeight) {\n                        next = next + 1;\n                        if (next < this.pageCount) {\n                            this.renderPageElement(next);\n                            this.createRequestForRender(next);\n                            pageHeight += this.getPageHeight(next);\n                            this.renderCountIncrement();\n                        }\n                        else {\n                            break;\n                        }\n                    }\n                }\n            }\n        }\n    };\n    PdfViewerBase.prototype.renderPreviousPagesInScroll = function (pageIndex) {\n        var next = pageIndex - 1;\n        var pageNumber = next - 1;\n        if (next > 0) {\n            if (this.renderedPagesList.indexOf(next) === -1 && !this.getMagnified()) {\n                this.createRequestForRender(next);\n                this.renderCountIncrement();\n            }\n            if (pageNumber > 0) {\n                if (this.renderedPagesList.indexOf(pageNumber) === -1 && !this.getMagnified()) {\n                    this.createRequestForRender(pageNumber);\n                    this.renderCountIncrement();\n                }\n            }\n        }\n    };\n    PdfViewerBase.prototype.downloadDocument = function (blobUrl) {\n        // eslint-disable-next-line\n        var Url = URL || webkitURL;\n        blobUrl = Url.createObjectURL(blobUrl);\n        var anchorElement = createElement('a');\n        if (anchorElement.click) {\n            anchorElement.href = blobUrl;\n            anchorElement.target = '_parent';\n            if ('download' in anchorElement) {\n                anchorElement.download = this.downloadFileName;\n            }\n            (document.body || document.documentElement).appendChild(anchorElement);\n            anchorElement.click();\n            anchorElement.parentNode.removeChild(anchorElement);\n        }\n        else {\n            if (window.top === window &&\n                blobUrl.split('#')[0] === window.location.href.split('#')[0]) {\n                var padCharacter = blobUrl.indexOf('?') === -1 ? '?' : '&';\n                blobUrl = blobUrl.replace(/#|$/, padCharacter + '$&');\n            }\n            window.open(blobUrl, '_parent');\n        }\n    };\n    PdfViewerBase.prototype.downloadExportAnnotationJson = function (blobUrl, isForm) {\n        // eslint-disable-next-line\n        var Url = URL || webkitURL;\n        blobUrl = Url.createObjectURL(blobUrl);\n        var anchorElement = createElement('a');\n        if (anchorElement.click) {\n            anchorElement.href = blobUrl;\n            anchorElement.target = '_parent';\n            if ('download' in anchorElement) {\n                if (this.pdfViewer.exportAnnotationFileName !== null) {\n                    anchorElement.download = this.pdfViewer.exportAnnotationFileName.split('.')[0] + '.json';\n                }\n                else {\n                    anchorElement.download = this.pdfViewer.fileName.split('.')[0] + '.json';\n                }\n            }\n            (document.body || document.documentElement).appendChild(anchorElement);\n            anchorElement.click();\n            anchorElement.parentNode.removeChild(anchorElement);\n            if (isForm) {\n                this.pdfViewer.fireFormExportSuccess(blobUrl, anchorElement.download);\n            }\n            else {\n                this.pdfViewer.fireExportSuccess(blobUrl, anchorElement.download);\n            }\n        }\n        else {\n            if (window.top === window &&\n                blobUrl.split('#')[0] === window.location.href.split('#')[0]) {\n                var padCharacter = blobUrl.indexOf('?') === -1 ? '?' : '&';\n                blobUrl = blobUrl.replace(/#|$/, padCharacter + '$&');\n            }\n            window.open(blobUrl, '_parent');\n            if (isForm) {\n                this.pdfViewer.fireFormExportSuccess(blobUrl, this.pdfViewer.fileName.split('.')[0] + '.json');\n            }\n            else {\n                this.pdfViewer.fireExportSuccess(blobUrl, this.pdfViewer.fileName.split('.')[0] + '.json');\n            }\n        }\n    };\n    PdfViewerBase.prototype.downloadExportedXFdfAnnotation = function (blobUrl) {\n        // eslint-disable-next-line\n        var Url = URL || webkitURL;\n        blobUrl = Url.createObjectURL(blobUrl);\n        var anchorElement = createElement('a');\n        if (anchorElement.click) {\n            anchorElement.href = blobUrl;\n            anchorElement.target = '_parent';\n            if ('download' in anchorElement) {\n                if (this.pdfViewer.exportAnnotationFileName !== null) {\n                    anchorElement.download = this.pdfViewer.exportAnnotationFileName.split('.')[0] + '.xfdf';\n                }\n                else {\n                    anchorElement.download = this.pdfViewer.fileName.split('.')[0] + '.xfdf';\n                }\n            }\n            (document.body || document.documentElement).appendChild(anchorElement);\n            anchorElement.click();\n            anchorElement.parentNode.removeChild(anchorElement);\n            this.pdfViewer.fireExportSuccess(blobUrl, anchorElement.download);\n        }\n    };\n    /**\n     * @private\n     * @param {string} path - The path for exporting the fields.\n     * @returns {void}\n     */\n    PdfViewerBase.prototype.exportFormFields = function (path) {\n        this.createRequestForExportFormfields(false, path);\n    };\n    /**\n     * @param source\n     * @private\n     */\n    // eslint-disable-next-line\n    PdfViewerBase.prototype.importFormFields = function (source) {\n        this.createRequestForImportingFormfields(source);\n    };\n    /**\n     * @param isObject\n     * @param path\n     * @private\n     */\n    // eslint-disable-next-line\n    PdfViewerBase.prototype.createRequestForExportFormfields = function (isObject, path) {\n        var _this = this;\n        var proxy = null;\n        proxy = this;\n        var promise = new Promise(function (resolve, reject) {\n            // eslint-disable-next-line\n            var jsonObject = proxy.createFormfieldsJsonData();\n            proxy.pdfViewer.fireFormExportStarted(jsonObject.pdfAnnotation);\n            jsonObject.action = 'ExportFormFields';\n            // eslint-disable-next-line\n            jsonObject['hashId'] = proxy.hashId;\n            // eslint-disable-next-line\n            jsonObject['fileName'] = proxy.pdfViewer.fileName;\n            if (path && path !== '' && !isObject) {\n                // eslint-disable-next-line\n                jsonObject['filePath'] = path;\n            }\n            // eslint-disable-next-line\n            jsonObject['elementId'] = _this.pdfViewer.element.id;\n            // eslint-disable-next-line max-len\n            if (proxy.jsonDocumentId) {\n                // eslint-disable-next-line\n                jsonObject.document = proxy.jsonDocumentId;\n            }\n            var url = proxy.pdfViewer.serviceUrl + '/' + proxy.pdfViewer.serverActionSettings.exportFormFields;\n            proxy.exportFormFieldsRequestHandler = new AjaxHandler(_this.pdfViewer);\n            proxy.exportFormFieldsRequestHandler.url = url;\n            proxy.exportFormFieldsRequestHandler.mode = true;\n            proxy.exportFormFieldsRequestHandler.responseType = 'text';\n            proxy.exportFormFieldsRequestHandler.send(jsonObject);\n            // eslint-disable-next-line\n            proxy.exportFormFieldsRequestHandler.onSuccess = function (result) {\n                // eslint-disable-next-line\n                var data = result.data;\n                if (data) {\n                    if (data) {\n                        proxy.pdfViewer.fireAjaxRequestSuccess(proxy.pdfViewer.serverActionSettings.exportFormFields, data);\n                        if (isObject) {\n                            // eslint-disable-next-line\n                            var annotationJson = decodeURIComponent(escape(atob(data.split(',')[1])));\n                            resolve(annotationJson);\n                            proxy.pdfViewer.fireFormExportSuccess(annotationJson, proxy.pdfViewer.fileName);\n                        }\n                        else if (data.split('base64,')[1]) {\n                            var blobUrl = proxy.createBlobUrl(data.split('base64,')[1], 'application/json');\n                            if (Browser.isIE || Browser.info.name === 'edge') {\n                                window.navigator.msSaveOrOpenBlob(blobUrl, proxy.pdfViewer.fileName.split('.')[0] + '.json');\n                            }\n                            else {\n                                proxy.downloadExportAnnotationJson(blobUrl, true);\n                            }\n                        }\n                    }\n                }\n            };\n            // eslint-disable-next-line\n            proxy.exportFormFieldsRequestHandler.onFailure = function (result) {\n                proxy.pdfViewer.fireFormExportFailed(jsonObject.pdfAnnotation, result.statusText);\n            };\n            // eslint-disable-next-line\n            proxy.exportFormFieldsRequestHandler.onError = function (result) {\n                proxy.pdfViewer.fireFormExportFailed(jsonObject.pdfAnnotation, result.statusText);\n            };\n        });\n        if (isObject) {\n            return promise;\n        }\n        else {\n            return true;\n        }\n    };\n    /**\n     * @param source\n     * @private\n     */\n    // eslint-disable-next-line\n    PdfViewerBase.prototype.createRequestForImportingFormfields = function (source) {\n        var proxy = null;\n        proxy = this;\n        // eslint-disable-next-line\n        var jsonObject = {};\n        if (typeof source === 'object') {\n            jsonObject.data = JSON.stringify(source);\n        }\n        else {\n            jsonObject.data = source;\n            if (source.split('.')[1] === 'json') {\n                // eslint-disable-next-line\n                jsonObject['fileName'] = proxy.pdfViewer.fileName;\n            }\n        }\n        proxy.pdfViewer.fireFormImportStarted(source);\n        // eslint-disable-next-line\n        jsonObject.action = 'ImportFormFields';\n        // eslint-disable-next-line\n        jsonObject['hashId'] = proxy.hashId;\n        // eslint-disable-next-line\n        jsonObject['elementId'] = this.pdfViewer.element.id;\n        // eslint-disable-next-line max-len\n        if (proxy.jsonDocumentId) {\n            // eslint-disable-next-line\n            jsonObject.document = proxy.jsonDocumentId;\n        }\n        var url = proxy.pdfViewer.serviceUrl + '/' + proxy.pdfViewer.serverActionSettings.importFormFields;\n        proxy.importFormFieldsRequestHandler = new AjaxHandler(this.pdfViewer);\n        proxy.importFormFieldsRequestHandler.url = url;\n        proxy.importFormFieldsRequestHandler.mode = true;\n        proxy.importFormFieldsRequestHandler.responseType = 'text';\n        proxy.importFormFieldsRequestHandler.send(jsonObject);\n        // eslint-disable-next-line\n        proxy.importFormFieldsRequestHandler.onSuccess = function (result) {\n            // eslint-disable-next-line\n            var data = result.data;\n            if (data && data !== 'null') {\n                if (typeof data !== 'object') {\n                    try {\n                        data = JSON.parse(data);\n                        if (typeof data !== 'object') {\n                            proxy.onControlError(500, data, proxy.pdfViewer.serverActionSettings.importFormFields);\n                            proxy.pdfViewer.fireFormImportFailed(source, result.statusText);\n                            data = null;\n                        }\n                    }\n                    catch (error) {\n                        proxy.pdfViewer.fireFormImportFailed(source, proxy.pdfViewer.localeObj.getConstant('File not found'));\n                        if (isBlazor()) {\n                            var promise = this.pdfViewer._dotnetInstance.invokeMethodAsync('GetLocaleText', 'PdfViewer_FileNotFound');\n                            promise.then(function (value) {\n                                proxy.openImportExportNotificationPopup(value);\n                            });\n                        }\n                        else {\n                            proxy.openImportExportNotificationPopup(proxy.pdfViewer.localeObj.getConstant('File not found'));\n                        }\n                        proxy.onControlError(500, data, proxy.pdfViewer.serverActionSettings.importFormFields);\n                        data = null;\n                    }\n                }\n                proxy.pdfViewer.fireAjaxRequestSuccess(proxy.pdfViewer.serverActionSettings.importFormFields, data);\n                proxy.pdfViewer.fireFormImportSuccess(source);\n                window.sessionStorage.removeItem(this.documentId + '_formfields');\n                this.pdfViewer.formFieldsModule.removeExistingFormFields();\n                window.sessionStorage.removeItem(this.documentId + '_formDesigner');\n                proxy.saveFormfieldsData(data);\n                for (var i = 0; i < proxy.renderedPagesList.length; i++) {\n                    this.pdfViewer.formFieldsModule.renderFormFields(i);\n                }\n            }\n            else {\n                proxy.pdfViewer.fireFormImportFailed(source, result.statusText);\n                if (isBlazor()) {\n                    var promise = this.pdfViewer._dotnetInstance.invokeMethodAsync('GetLocaleText', 'PdfViewer_FileNotFound');\n                    promise.then(function (value) {\n                        proxy.openImportExportNotificationPopup(value);\n                    });\n                }\n                else {\n                    proxy.openImportExportNotificationPopup(proxy.pdfViewer.localeObj.getConstant('File not found'));\n                }\n            }\n        };\n        // eslint-disable-next-line\n        proxy.importFormFieldsRequestHandler.onFailure = function (result) {\n            proxy.pdfViewer.fireFormImportFailed(source, result.statusText);\n        };\n        // eslint-disable-next-line\n        proxy.importFormFieldsRequestHandler.onError = function (result) {\n            proxy.pdfViewer.fireFormImportFailed(source, result.statusText);\n        };\n    };\n    /**\n     * @public\n     * @returns {any} - Returns the Json data.\n     */\n    // eslint-disable-next-line\n    PdfViewerBase.prototype.createFormfieldsJsonData = function () {\n        // eslint-disable-next-line\n        var jsonObject = {};\n        if (this.pdfViewer.formDesignerModule) {\n            var fieldsData = this.pdfViewer.formDesignerModule.downloadFormDesigner();\n            // eslint-disable-next-line\n            jsonObject['formDesigner'] = fieldsData;\n        }\n        else if (this.pdfViewer.formFieldsModule) {\n            var fieldsData = this.pdfViewer.formFieldsModule.downloadFormFieldsData();\n            // eslint-disable-next-line\n            jsonObject['fieldsData'] = fieldsData;\n        }\n        return jsonObject;\n    };\n    // eslint-disable-next-line\n    PdfViewerBase.prototype.constructJsonDownload = function () {\n        // eslint-disable-next-line\n        var jsonObject = { hashId: this.hashId };\n        if (this.jsonDocumentId) {\n            jsonObject.documentId = this.jsonDocumentId;\n        }\n        jsonObject.uniqueId = this.documentId;\n        this.importPageList = [];\n        if (this.pdfViewer.annotationModule) {\n            this.saveImportedAnnotations();\n        }\n        if (this.isTextMarkupAnnotationModule()) {\n            this.isJsonExported = false;\n            // eslint-disable-next-line max-len\n            var textMarkupAnnotationCollection = this.pdfViewer.annotationModule.textMarkupAnnotationModule.saveTextMarkupAnnotations();\n            // eslint-disable-next-line\n            jsonObject['textMarkupAnnotations'] = textMarkupAnnotationCollection;\n        }\n        if (this.isShapeAnnotationModule()) {\n            this.isJsonExported = false;\n            // eslint-disable-next-line max-len\n            var shapeAnnotations = this.pdfViewer.annotationModule.shapeAnnotationModule.saveShapeAnnotations();\n            // eslint-disable-next-line\n            jsonObject['shapeAnnotations'] = shapeAnnotations;\n        }\n        if (this.isCalibrateAnnotationModule()) {\n            this.isJsonExported = false;\n            // eslint-disable-next-line max-len\n            var calibrateAnnotations = this.pdfViewer.annotationModule.measureAnnotationModule.saveMeasureShapeAnnotations();\n            // eslint-disable-next-line\n            jsonObject['measureShapeAnnotations'] = calibrateAnnotations;\n        }\n        if (this.isStampAnnotationModule()) {\n            // eslint-disable-next-line max-len\n            var stampAnnotationCollection = this.pdfViewer.annotationModule.stampAnnotationModule.saveStampAnnotations();\n            // eslint-disable-next-line\n            jsonObject['stampAnnotations'] = stampAnnotationCollection;\n        }\n        if (this.isCommentAnnotationModule()) {\n            // eslint-disable-next-line max-len\n            var stickyAnnotationCollection = this.pdfViewer.annotationModule.stickyNotesAnnotationModule.saveStickyAnnotations();\n            // eslint-disable-next-line\n            jsonObject['stickyNotesAnnotation'] = stickyAnnotationCollection;\n        }\n        if (this.isImportAction) {\n            var importList = JSON.stringify(this.importPageList);\n            // eslint-disable-next-line\n            jsonObject['importPageList'] = importList;\n        }\n        if (this.pdfViewer.formDesignerModule) {\n            var fieldsData = this.pdfViewer.formDesignerModule.downloadFormDesigner();\n            // eslint-disable-next-line\n            jsonObject['formDesigner'] = fieldsData;\n        }\n        else if (this.pdfViewer.formFieldsModule) {\n            var fieldsData = this.pdfViewer.formFieldsModule.downloadFormFieldsData();\n            // eslint-disable-next-line\n            jsonObject['fieldsData'] = fieldsData;\n        }\n        var signatureData = this.signatureModule.saveSignature();\n        // eslint-disable-next-line\n        jsonObject['signatureData'] = signatureData;\n        if (this.pdfViewer.isSignatureEditable) {\n            // eslint-disable-next-line\n            jsonObject['isSignatureEdited'] = this.pdfViewer.isSignatureEditable;\n        }\n        if (this.isFreeTextAnnotationModule()) {\n            // eslint-disable-next-line max-len\n            var freeTextAnnotationCollection = this.pdfViewer.annotationModule.freeTextAnnotationModule.saveFreeTextAnnotations(false);\n            // eslint-disable-next-line\n            jsonObject['freeTextAnnotation'] = freeTextAnnotationCollection;\n        }\n        if (this.isInkAnnotationModule()) {\n            var inkSignatureData = this.pdfViewer.annotationModule.inkAnnotationModule.saveInkSignature();\n            // eslint-disable-next-line\n            jsonObject['inkSignatureData'] = inkSignatureData;\n        }\n        // eslint-disable-next-line\n        jsonObject['action'] = 'Download';\n        // eslint-disable-next-line\n        jsonObject['elementId'] = this.pdfViewer.element.id;\n        return jsonObject;\n    };\n    /**\n     * @private\n     * @param {string} annotationID - The annotationID.\n     * @returns {any} - Returns collection of type.\n     */\n    // eslint-disable-next-line\n    PdfViewerBase.prototype.checkFormFieldCollection = function (annotationID) {\n        var isFormFieldAnnotation = false;\n        // eslint-disable-next-line\n        var formDesignerData = null;\n        formDesignerData = this.getItemFromSessionStorage('_formDesigner');\n        if (formDesignerData) {\n            // eslint-disable-next-line\n            var formFieldsData = JSON.parse(formDesignerData);\n            for (var i = 0; i < formFieldsData.length; i++) {\n                if (formFieldsData[i].FormField.formFieldAnnotationType === 'RadioButton') {\n                    for (var j = 0; j < formFieldsData[i].FormField.radiobuttonItem.length; j++) {\n                        if (annotationID === formFieldsData[i].FormField.radiobuttonItem[j].id.split('_')[0]) {\n                            isFormFieldAnnotation = true;\n                            break;\n                        }\n                    }\n                }\n                else if (formFieldsData[i].Key.split('_')[0] === annotationID) {\n                    isFormFieldAnnotation = true;\n                    break;\n                }\n            }\n        }\n        return isFormFieldAnnotation;\n    };\n    /**\n     * @private\n     * @returns {boolean} - Returns whether freetext module is enabled.\n     */\n    PdfViewerBase.prototype.isFreeTextAnnotationModule = function () {\n        // eslint-disable-next-line max-len\n        if (this.pdfViewer.annotation) {\n            if (this.pdfViewer.annotation && this.pdfViewer.annotation.freeTextAnnotationModule) {\n                return true;\n            }\n            else {\n                return false;\n            }\n        }\n        else {\n            return false;\n        }\n    };\n    // eslint-disable-next-line\n    PdfViewerBase.prototype.createRequestForDownload = function () {\n        var proxy = null;\n        proxy = this;\n        proxy.pdfViewer.fireDownloadStart(proxy.downloadFileName);\n        // eslint-disable-next-line\n        var jsonObject = this.constructJsonDownload();\n        this.dowonloadRequestHandler = new AjaxHandler(this.pdfViewer);\n        this.dowonloadRequestHandler.url = proxy.pdfViewer.serviceUrl + '/' + proxy.pdfViewer.serverActionSettings.download;\n        this.dowonloadRequestHandler.responseType = 'text';\n        if (this.validateForm && this.pdfViewer.enableFormFieldsValidation) {\n            this.pdfViewer.fireValidatedFailed(proxy.pdfViewer.serverActionSettings.download);\n            this.validateForm = false;\n        }\n        else {\n            this.dowonloadRequestHandler.send(jsonObject);\n        }\n        // eslint-disable-next-line\n        this.dowonloadRequestHandler.onSuccess = function (result) {\n            // eslint-disable-next-line\n            var data = result.data;\n            if (data) {\n                if (typeof data !== 'object' && data.indexOf('data:application/pdf') === -1) {\n                    proxy.onControlError(500, data, proxy.pdfViewer.serverActionSettings.download);\n                    data = null;\n                }\n                if (typeof data === 'object') {\n                    data = JSON.parse(data);\n                }\n                if (data) {\n                    if (proxy.pdfViewer.downloadFileName && (proxy.pdfViewer.downloadFileName !== proxy.downloadFileName)) {\n                        proxy.downloadFileName = proxy.pdfViewer.downloadFileName;\n                    }\n                    proxy.pdfViewer.fireAjaxRequestSuccess(proxy.pdfViewer.serverActionSettings.download, data);\n                    var blobUrl = proxy.createBlobUrl(data.split('base64,')[1], 'application/pdf');\n                    if (Browser.isIE || Browser.info.name === 'edge') {\n                        window.navigator.msSaveOrOpenBlob(blobUrl, proxy.downloadFileName);\n                    }\n                    else {\n                        proxy.downloadDocument(blobUrl);\n                    }\n                    proxy.pdfViewer.fireDownloadEnd(proxy.downloadFileName, data);\n                }\n                proxy.updateDocumentAnnotationCollections();\n            }\n            else {\n                proxy.pdfViewer.fireDownloadEnd(proxy.downloadFileName, 'PDF Document saved in server side successfully');\n            }\n        };\n        // eslint-disable-next-line\n        this.dowonloadRequestHandler.onFailure = function (result) {\n            proxy.pdfViewer.fireAjaxRequestFailed(result.status, result.statusText, proxy.pdfViewer.serverActionSettings.download);\n        };\n        // eslint-disable-next-line\n        this.dowonloadRequestHandler.onError = function (result) {\n            proxy.openNotificationPopup();\n            proxy.pdfViewer.fireAjaxRequestFailed(result.status, result.statusText, proxy.pdfViewer.serverActionSettings.download);\n        };\n    };\n    /**\n     * @param pageWidth\n     * @private\n     */\n    // eslint-disable-next-line\n    PdfViewerBase.prototype.getTileCount = function (pageWidth) {\n        if (pageWidth && typeof pageWidth === 'number') {\n            var defaultWidth = 816;\n            var tileCount = 1;\n            if (this.getZoomFactor() > 2 && pageWidth <= 1200) {\n                tileCount = 2;\n            }\n            else {\n                tileCount = pageWidth / defaultWidth;\n            }\n            // eslint-disable-next-line radix\n            var tileValue = parseInt(tileCount.toFixed());\n            if (tileValue <= 0) {\n                return 1;\n            }\n            else {\n                if (this.pdfViewer.tileRenderingSettings.enableTileRendering) {\n                    return tileValue;\n                }\n                else {\n                    return 1;\n                }\n            }\n        }\n        else {\n            return 1;\n        }\n    };\n    PdfViewerBase.prototype.createRequestForRender = function (pageIndex) {\n        var proxy = null;\n        proxy = this;\n        var canvas = proxy.getElement('_pageCanvas_' + pageIndex);\n        var oldCanvas = proxy.getElement('_oldCanvas_' + pageIndex);\n        if (this.pageSize && this.pageSize[pageIndex]) {\n            var pageWidth_1 = this.pageSize[pageIndex].width;\n            var pageHeight = this.pageSize[pageIndex].height;\n            var tilecanvas = this.getElement('_pageCanvas_' + pageIndex);\n            // eslint-disable-next-line\n            var viewPortWidth_1 = 1200; // On diving the value greater than 1200 we will get the tile count as 2.\n            // eslint-disable-next-line\n            var viewPortHeight = proxy.pdfViewer.element.clientHeight > 0 ? proxy.pdfViewer.element.clientHeight : proxy.pdfViewer.element.style.height;\n            // eslint-disable-next-line radix\n            viewPortWidth_1 = parseInt(viewPortWidth_1);\n            // eslint-disable-next-line radix\n            viewPortHeight = parseInt(viewPortHeight) ? parseInt(viewPortHeight) : 500; //we have applied minimum-height as 500.\n            var noTileX = void 0;\n            var noTileY = void 0;\n            var tileCount = this.getTileCount(pageWidth_1);\n            if (canvas) {\n                if (!isNaN(parseFloat(canvas.style.width)) || oldCanvas) {\n                    if (proxy.isInitialLoaded) {\n                        proxy.showPageLoadingIndicator(pageIndex, false);\n                    }\n                }\n                // eslint-disable-next-line\n                var data = proxy.getStoredData(pageIndex);\n                noTileX = noTileY = tileCount;\n                var tileSettings = proxy.pdfViewer.tileRenderingSettings;\n                if (tileSettings.enableTileRendering && tileSettings.x > 0 && tileSettings.y > 0) {\n                    if ((viewPortWidth_1 < pageWidth_1 || this.getZoomFactor() > 2)) {\n                        noTileX = tileSettings.x;\n                        noTileY = tileSettings.y;\n                    }\n                }\n                proxy.tileRequestCount = noTileX * noTileY;\n                var zoomFactor = this.retrieveCurrentZoomFactor();\n                var isPageRequestSent = void 0;\n                if (tileCount === 1) {\n                    data = proxy.getStoredData(pageIndex);\n                    isPageRequestSent = proxy.pageRequestSent(pageIndex, 0, 0);\n                }\n                else {\n                    // eslint-disable-next-line\n                    var tileData = JSON.parse(proxy.getWindowSessionStorageTile(pageIndex, 0, 0, zoomFactor));\n                    if (tileData) {\n                        data = tileData;\n                    }\n                }\n                if (data && data.uniqueId === proxy.documentId) {\n                    canvas.style.backgroundColor = '#fff';\n                    if ((proxy.pdfViewer.magnification && proxy.pdfViewer.magnification.isPinchZoomed) || !this.pageSize[pageIndex]) {\n                        return;\n                    }\n                    var zoomFactor_2 = this.retrieveCurrentZoomFactor();\n                    if (zoomFactor_2 > 2 && pageWidth_1 <= 1200) {\n                        viewPortWidth_1 = 700;\n                    }\n                    else {\n                        viewPortWidth_1 = 1200;\n                    }\n                    if (!proxy.pdfViewer.tileRenderingSettings.enableTileRendering) {\n                        viewPortWidth_1 = 1200;\n                    }\n                    if ((viewPortWidth_1 >= pageWidth_1) || !proxy.pdfViewer.tileRenderingSettings.enableTileRendering) {\n                        proxy.renderPage(data, pageIndex);\n                    }\n                    else {\n                        proxy.isTileImageRendered = true;\n                        proxy.tileRenderCount = 0;\n                        proxy.tileRenderPage(data, pageIndex);\n                        for (var k = 0; k < noTileX; k++) {\n                            for (var l = 0; l < noTileY; l++) {\n                                if (k === 0 && l === 0) {\n                                    continue;\n                                }\n                                data = JSON.parse(this.getWindowSessionStorageTile(pageIndex, k, l, zoomFactor_2));\n                                if (data) {\n                                    proxy.tileRenderPage(data, pageIndex);\n                                }\n                            }\n                        }\n                    }\n                    data = null;\n                }\n                else if (data === null || !isPageRequestSent) {\n                    if (this.getPagesPinchZoomed()) {\n                        proxy.showPageLoadingIndicator(pageIndex, false);\n                    }\n                    else {\n                        proxy.showPageLoadingIndicator(pageIndex, true);\n                    }\n                    if (proxy.getPagesZoomed()) {\n                        if (proxy.isInitialLoaded) {\n                            proxy.showPageLoadingIndicator(pageIndex, false);\n                        }\n                    }\n                    if (proxy.pdfViewer.magnification && proxy.pdfViewer.magnification.isPinchZoomed) {\n                        return;\n                    }\n                    if (!proxy.pdfViewer.tileRenderingSettings.enableTileRendering) {\n                        noTileX = 1;\n                        noTileY = 1;\n                    }\n                    proxy.tileRenderCount = 0;\n                    proxy.isTileImageRendered = true;\n                    for (var x = 0; x < noTileX; x++) {\n                        for (var y = 0; y < noTileY; y++) {\n                            var jsonObject = null;\n                            var zoomFactor_3 = this.retrieveCurrentZoomFactor();\n                            if (zoomFactor_3 > 2 && pageWidth_1 <= 1200) {\n                                viewPortWidth_1 = 700;\n                            }\n                            else {\n                                viewPortWidth_1 = 1200;\n                            }\n                            if (!proxy.pdfViewer.tileRenderingSettings.enableTileRendering) {\n                                viewPortWidth_1 = 1200;\n                            }\n                            // eslint-disable-next-line max-len\n                            jsonObject = {\n                                xCoordinate: (x).toString(), yCoordinate: (y).toString(), viewPortWidth: (viewPortWidth_1).toString(), viewPortHeight: (viewPortHeight).toString(),\n                                pageNumber: (pageIndex).toString(), hashId: proxy.hashId, tilecount: (tileCount).toString(), tileXCount: (noTileX).toString(), tileYCount: (noTileY).toString(),\n                                // eslint-disable-next-line max-len\n                                zoomFactor: (zoomFactor_3).toString(), action: 'RenderPdfPages', uniqueId: this.documentId, elementId: proxy.pdfViewer.element.id\n                            };\n                            if (this.jsonDocumentId) {\n                                // eslint-disable-next-line\n                                jsonObject.documentId = this.jsonDocumentId;\n                            }\n                            proxy.pageRequestHandler = new AjaxHandler(this.pdfViewer);\n                            // eslint-disable-next-line max-len\n                            proxy.pageRequestHandler.url = proxy.pdfViewer.serviceUrl + '/' + proxy.pdfViewer.serverActionSettings.renderPages;\n                            proxy.pageRequestHandler.responseType = 'json';\n                            proxy.pageRequestHandler.send(jsonObject);\n                            proxy.requestLists.push(proxy.documentId + '_' + pageIndex + '_' + x + '_' + y + '_' + zoomFactor_3);\n                            // eslint-disable-next-line\n                            proxy.pageRequestHandler.onSuccess = function (result) {\n                                // eslint-disable-next-line max-len\n                                if ((proxy.pdfViewer.magnification && proxy.pdfViewer.magnification.isPinchZoomed) || !proxy.pageSize[pageIndex]) {\n                                    return;\n                                }\n                                // eslint-disable-next-line\n                                var data = result.data;\n                                if (data) {\n                                    if (typeof data !== 'object') {\n                                        try {\n                                            data = JSON.parse(data);\n                                        }\n                                        catch (error) {\n                                            proxy.onControlError(500, data, proxy.pdfViewer.serverActionSettings.renderPages);\n                                            data = null;\n                                        }\n                                    }\n                                }\n                                if (data) {\n                                    while (typeof data !== 'object') {\n                                        data = JSON.parse(data);\n                                    }\n                                    if (data.image && data.uniqueId === proxy.documentId) {\n                                        var currentPageWidth = (data.pageWidth && data.pageWidth > 0) ? data.pageWidth : pageWidth_1;\n                                        proxy.pdfViewer.fireAjaxRequestSuccess(proxy.pdfViewer.serverActionSettings.renderPages, data);\n                                        var pageNumber = (data.pageNumber !== undefined) ? data.pageNumber : pageIndex;\n                                        if ((viewPortWidth_1 >= currentPageWidth) || !proxy.pdfViewer.tileRenderingSettings.enableTileRendering) {\n                                            proxy.storeWinData(data, pageNumber);\n                                        }\n                                        else {\n                                            proxy.storeWinData(data, pageNumber, data.tileX, data.tileY);\n                                        }\n                                        if ((viewPortWidth_1 >= currentPageWidth) || !proxy.pdfViewer.tileRenderingSettings.enableTileRendering) {\n                                            proxy.renderPage(data, pageNumber);\n                                        }\n                                        else {\n                                            proxy.tileRenderPage(data, pageNumber);\n                                        }\n                                    }\n                                }\n                            };\n                            // eslint-disable-next-line\n                            this.pageRequestHandler.onFailure = function (result) {\n                                // eslint-disable-next-line max-len\n                                proxy.pdfViewer.fireAjaxRequestFailed(result.status, result.statusText, proxy.pdfViewer.serverActionSettings.renderPages);\n                            };\n                            // eslint-disable-next-line\n                            this.pageRequestHandler.onError = function (result) {\n                                proxy.openNotificationPopup();\n                                // eslint-disable-next-line max-len\n                                proxy.pdfViewer.fireAjaxRequestFailed(result.status, result.statusText, proxy.pdfViewer.serverActionSettings.renderPages);\n                            };\n                        }\n                    }\n                }\n                proxy.renderedPagesList.push(pageIndex);\n            }\n        }\n    };\n    PdfViewerBase.prototype.pageRequestSent = function (pageIndex, tileX, tileY) {\n        var zoomFactor = this.retrieveCurrentZoomFactor();\n        var currentString = this.documentId + '_' + pageIndex + '_' + tileX + '_' + tileY + '_' + zoomFactor;\n        if (this.requestLists && this.requestLists.indexOf(currentString) > -1) {\n            return true;\n        }\n        return false;\n    };\n    /**\n     * @private\n     * @param {string} status - The status message.\n     * @param {string} errorMessage - The error message.\n     * @param {string} action - The action.\n     * @returns {void}\n     */\n    PdfViewerBase.prototype.onControlError = function (status, errorMessage, action) {\n        this.openNotificationPopup();\n        this.pdfViewer.fireAjaxRequestFailed(status, errorMessage, action);\n    };\n    /**\n     * @param pageIndex\n     * @private\n     */\n    // eslint-disable-next-line\n    PdfViewerBase.prototype.getStoredData = function (pageIndex, isTextSearch) {\n        var zoomFactor = this.retrieveCurrentZoomFactor();\n        if (this.pdfViewer.restrictZoomRequest && !this.pdfViewer.tileRenderingSettings.enableTileRendering) {\n            zoomFactor = 1;\n        }\n        // eslint-disable-next-line\n        var storedData = this.getWindowSessionStorage(pageIndex, zoomFactor) ? this.getWindowSessionStorage(pageIndex, zoomFactor) : this.getPinchZoomPage(pageIndex);\n        if (!storedData && isTextSearch) {\n            // eslint-disable-next-line\n            var storedTileData = this.getWindowSessionStorageTile(pageIndex, 0, 0, zoomFactor);\n            if (storedTileData) {\n                storedData = storedTileData;\n            }\n        }\n        // eslint-disable-next-line\n        var data = null;\n        if (storedData) {\n            // eslint-disable-next-line\n            data = storedData;\n            if (!this.isPinchZoomStorage) {\n                data = JSON.parse(storedData);\n            }\n            this.isPinchZoomStorage = false;\n        }\n        return data;\n    };\n    /**\n     * @private\n     * @param  {any} data - The data.\n     * @param {number} pageIndex - The pageIndex.\n     * @param {number} tileX - The tileX.\n     * @param {number} tileY - The tileY.\n     * @returns {void}\n     */\n    // eslint-disable-next-line\n    PdfViewerBase.prototype.storeWinData = function (data, pageIndex, tileX, tileY) {\n        // eslint-disable-next-line\n        var blobObj = this.createBlobUrl(data['image'].split('base64,')[1], 'image/png');\n        // eslint-disable-next-line\n        var Url = URL || webkitURL;\n        var blobUrl = Url.createObjectURL(blobObj);\n        // eslint-disable-next-line\n        var storeObject;\n        if ((isNaN(tileX) && isNaN(tileY)) || (tileX === 0 && tileY === 0)) {\n            storeObject = {\n                // eslint-disable-next-line\n                image: blobUrl, transformationMatrix: data['transformationMatrix'], hyperlinks: data['hyperlinks'], hyperlinkBounds: data['hyperlinkBounds'], linkAnnotation: data['linkAnnotation'], linkPage: data['linkPage'], annotationLocation: data['annotationLocation'],\n                // eslint-disable-next-line\n                textContent: data['textContent'], width: data['width'], textBounds: data['textBounds'], pageText: data['pageText'], rotation: data['rotation'], scaleFactor: data['scaleFactor'], uniqueId: data['uniqueId'], zoomFactor: data['zoomFactor'], tileX: tileX, tileY: tileY\n            };\n            if (this.pageSize[pageIndex]) {\n                // eslint-disable-next-line\n                this.pageSize[pageIndex].rotation = parseFloat(data['rotation']);\n            }\n            // eslint-disable-next-line\n            this.textLayer.characterBound[pageIndex] = data['characterBounds'];\n        }\n        else {\n            storeObject = {\n                // eslint-disable-next-line\n                image: blobUrl, transformationMatrix: data['transformationMatrix'], tileX: tileX, tileY: tileY, width: data['width'], zoomFactor: data['zoomFactor']\n            };\n        }\n        // eslint-disable-next-line\n        var viewPortWidth = 816;\n        var pageWidth = 0;\n        if (this.pageSize[pageIndex]) {\n            pageWidth = this.pageSize[pageIndex].width;\n        }\n        this.manageSessionStorage(pageIndex, storeObject, tileX, tileY);\n    };\n    /**\n     * @private\n     * @param {XMLHttpRequest} request - The Xml request.\n     * @returns {void}\n     */\n    PdfViewerBase.prototype.setCustomAjaxHeaders = function (request) {\n        for (var i = 0; i < this.pdfViewer.ajaxRequestSettings.ajaxHeaders.length; i++) {\n            // eslint-disable-next-line max-len\n            request.setRequestHeader(this.pdfViewer.ajaxRequestSettings.ajaxHeaders[i].headerName, this.pdfViewer.ajaxRequestSettings.ajaxHeaders[i].headerValue);\n        }\n    };\n    /**\n     * @private\n     * @param {number} pageIndex - Page index.\n     * @returns {object}\n     */\n    PdfViewerBase.prototype.getPinchZoomPage = function (pageIndex) {\n        // eslint-disable-next-line\n        for (var key in this.pinchZoomStorage) {\n            // eslint-disable-next-line\n            if (this.pinchZoomStorage.hasOwnProperty(key)) {\n                if (this.pinchZoomStorage[key].index === pageIndex) {\n                    this.isPinchZoomStorage = true;\n                    return this.pinchZoomStorage[key].pinchZoomStorage;\n                }\n            }\n        }\n        return null;\n    };\n    /**\n     * @private\n     * @param {number} pageIndex - current page index.\n     * @param {number} zoomFactor - cuurent zoom factor\n     * @returns {string}\n     */\n    PdfViewerBase.prototype.getWindowSessionStorage = function (pageIndex, zoomFactor) {\n        return window.sessionStorage.getItem(this.documentId + '_' + pageIndex + '_' + zoomFactor);\n    };\n    /**\n     * @private\n     * @param {number} pageIndex - current page index.\n     * @param {number} tileX - cuurent tile x\n     * @param {number} tileY - cuurent tile y\n     * @param {number} zoomFactor - cuurent zoom factor\n     * @returns {string}\n     */\n    PdfViewerBase.prototype.getWindowSessionStorageTile = function (pageIndex, tileX, tileY, zoomFactor) {\n        return window.sessionStorage.getItem(this.documentId + '_' + pageIndex + '_' + tileX + '_' + tileY + '_' + zoomFactor);\n    };\n    /**\n     * @private\n     * @returns {number}\n     */\n    PdfViewerBase.prototype.retrieveCurrentZoomFactor = function () {\n        var zoomFactor = this.getZoomFactor();\n        if (this.pdfViewer.enableZoomOptimization) {\n            if ((zoomFactor) <= 1) {\n                zoomFactor = 1;\n            }\n            else if ((zoomFactor) > 1 && zoomFactor <= 2) {\n                zoomFactor = 2;\n            }\n            else if ((zoomFactor) > 2 && zoomFactor <= 3) {\n                zoomFactor = 3;\n            }\n            else if ((zoomFactor) > 3 && zoomFactor <= 4) {\n                zoomFactor = 4;\n            }\n            return zoomFactor;\n        }\n        else {\n            if (zoomFactor <= 0) {\n                zoomFactor = 1;\n            }\n            return zoomFactor;\n        }\n    };\n    // eslint-disable-next-line\n    PdfViewerBase.prototype.manageSessionStorage = function (pageIndex, storeObject, tileX, tileY) {\n        // eslint-disable-next-line\n        var sessionSize = Math.round(JSON.stringify(window.sessionStorage).length / 1024);\n        var maxSessionSize = 5000;\n        if (sessionSize >= maxSessionSize) {\n            if (!this.isStorageExceed) {\n                // eslint-disable-next-line\n                var annotationList = [];\n                for (var i = 0; i < window.sessionStorage.length; i++) {\n                    if (window.sessionStorage.key(i) && window.sessionStorage.key(i).split('_')[3]) {\n                        if (window.sessionStorage.key(i).split('_')[3] === 'annotations') {\n                            // eslint-disable-next-line max-len\n                            this.annotationStorage[window.sessionStorage.key(i)] = window.sessionStorage.getItem(window.sessionStorage.key(i));\n                            annotationList.push(window.sessionStorage.key(i));\n                        }\n                    }\n                }\n                if (annotationList) {\n                    for (var i = 0; i < annotationList.length; i++) {\n                        window.sessionStorage.removeItem(annotationList[i]);\n                    }\n                }\n            }\n            this.isStorageExceed = true;\n            sessionSize = Math.round(JSON.stringify(window.sessionStorage).length / 1024);\n            if (sessionSize >= 5000) {\n                var storageLength = window.sessionStorage.length;\n                if (storageLength > 200) {\n                    storageLength = 200;\n                }\n                for (var i = 0; i < storageLength; i++) {\n                    if (window.sessionStorage.key(i) && window.sessionStorage.key(i).split('_')[3]) {\n                        if (window.sessionStorage.key(i).split('_')[3] !== 'annotations') {\n                            window.sessionStorage.removeItem(window.sessionStorage.key(i));\n                        }\n                    }\n                }\n            }\n        }\n        var zoomFactor = this.retrieveCurrentZoomFactor();\n        if (isNaN(tileX) && isNaN(tileY)) {\n            // eslint-disable-next-line max-len\n            window.sessionStorage.setItem(this.documentId + '_' + pageIndex + '_' + zoomFactor, JSON.stringify(storeObject));\n            this.sessionStorage.push(this.documentId + '_' + pageIndex + '_' + zoomFactor);\n        }\n        else {\n            this.sessionStorage.push(this.documentId + '_' + pageIndex + '_' + tileX + '_' + tileY + '_' + zoomFactor);\n            // eslint-disable-next-line max-len\n            window.sessionStorage.setItem(this.documentId + '_' + pageIndex + '_' + tileX + '_' + tileY + '_' + zoomFactor, JSON.stringify(storeObject));\n        }\n    };\n    PdfViewerBase.prototype.createBlobUrl = function (base64String, contentType) {\n        var sliceSize = 512;\n        var byteCharacters = atob(base64String);\n        // eslint-disable-next-line\n        var byteArrays = [];\n        for (var offset = 0; offset < byteCharacters.length; offset += sliceSize) {\n            var slice = byteCharacters.slice(offset, offset + sliceSize);\n            // eslint-disable-next-line\n            var byteNumbers = new Array(slice.length);\n            for (var i = 0; i < slice.length; i++) {\n                byteNumbers[i] = slice.charCodeAt(i);\n            }\n            // eslint-disable-next-line\n            var byteArray = new Uint8Array(byteNumbers);\n            byteArrays.push(byteArray);\n        }\n        // eslint-disable-next-line\n        var blob = new Blob(byteArrays, { type: contentType });\n        return blob;\n    };\n    PdfViewerBase.prototype.getRandomNumber = function () {\n        // eslint-disable-next-line\n        return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n            // eslint-disable-next-line\n            var random = Math.random() * 16 | 0, v = c == 'x' ? random : (random & 0x3 | 0x8);\n            return random.toString(16);\n        });\n    };\n    PdfViewerBase.prototype.createGUID = function () {\n        // eslint-disable-next-line max-len\n        return 'Sync_PdfViewer_' + this.getRandomNumber();\n    };\n    /**\n     * @private\n     * @param {MouseEvent} event - The mouse event.\n     * @param {boolean} isNeedToSet - Is need to test.\n     * @returns {boolean} - Returns true or false.\n     */\n    PdfViewerBase.prototype.isClickedOnScrollBar = function (event, isNeedToSet) {\n        var isScrollBar = false;\n        if (isNeedToSet) {\n            this.setScrollDownValue(event.type, false);\n        }\n        // eslint-disable-next-line max-len\n        if ((this.viewerContainer.clientWidth + this.viewerContainer.offsetLeft) < event.clientX && event.clientX < (this.viewerContainer.offsetWidth + this.viewerContainer.offsetLeft)) {\n            isScrollBar = true;\n            if (isNeedToSet) {\n                this.setScrollDownValue(event.type, true);\n            }\n        }\n        // eslint-disable-next-line max-len\n        if ((this.viewerContainer.clientHeight + this.viewerContainer.offsetTop) < event.clientY && event.clientY < (this.viewerContainer.offsetHeight + this.viewerContainer.offsetTop)) {\n            isScrollBar = true;\n            if (isNeedToSet) {\n                this.setScrollDownValue(event.type, true);\n            }\n        }\n        return isScrollBar;\n    };\n    PdfViewerBase.prototype.setScrollDownValue = function (eventType, boolValue) {\n        if (eventType === 'mousedown') {\n            this.isScrollbarMouseDown = boolValue;\n        }\n    };\n    /**\n     * @private\n     * @returns {void}\n     */\n    PdfViewerBase.prototype.disableTextSelectionMode = function () {\n        this.isTextSelectionDisabled = true;\n        this.viewerContainer.classList.remove('e-enable-text-selection');\n        if (this.pdfViewer.textSelectionModule) {\n            this.pdfViewer.textSelectionModule.clearTextSelection();\n        }\n        this.viewerContainer.classList.add('e-disable-text-selection');\n        this.viewerContainer.addEventListener('selectstart', function () {\n            return false;\n        });\n    };\n    /**\n     * @private\n     * @param {string} idString - The Id string.\n     * @returns {HTMLElement} - The html element.\n     */\n    PdfViewerBase.prototype.getElement = function (idString) {\n        return document.getElementById(this.pdfViewer.element.id + idString);\n    };\n    /**\n     * @private\n     * @param {number} pageIndex - The pageIndex\n     * @returns {number} - Returns number\n     */\n    PdfViewerBase.prototype.getPageWidth = function (pageIndex) {\n        if (this.pageSize[pageIndex]) {\n            return this.pageSize[pageIndex].width * this.getZoomFactor();\n        }\n        else {\n            return 0;\n        }\n    };\n    /**\n     * @private\n     * @param {number} pageIndex - The pageIndex\n     * @returns {number} - Returns number\n     */\n    PdfViewerBase.prototype.getPageHeight = function (pageIndex) {\n        if (this.pageSize[pageIndex]) {\n            return this.pageSize[pageIndex].height * this.getZoomFactor();\n        }\n        else {\n            return 0;\n        }\n    };\n    /**\n     * @private\n     * @param {number} pageIndex - The pageIndex.\n     * @returns {number} - Returns number\n     */\n    PdfViewerBase.prototype.getPageTop = function (pageIndex) {\n        if (this.pageSize[pageIndex]) {\n            return this.pageSize[pageIndex].top * this.getZoomFactor();\n        }\n        else {\n            return 0;\n        }\n    };\n    PdfViewerBase.prototype.isAnnotationToolbarHidden = function () {\n        if (this.pdfViewer.toolbarModule.annotationToolbarModule) {\n            return this.pdfViewer.toolbarModule.annotationToolbarModule.isToolbarHidden;\n        }\n        else {\n            return true;\n        }\n    };\n    PdfViewerBase.prototype.isFormDesignerToolbarHidded = function () {\n        var formDesignerToolbar = this.pdfViewer.toolbarModule.formDesignerToolbarModule;\n        if (formDesignerToolbar) {\n            return formDesignerToolbar.isToolbarHidden;\n        }\n        else {\n            return true;\n        }\n    };\n    /**\n     * @private\n     * @returns {boolean} - Returns true or false.\n     */\n    PdfViewerBase.prototype.getTextMarkupAnnotationMode = function () {\n        if (this.isTextMarkupAnnotationModule()) {\n            return this.pdfViewer.annotationModule.textMarkupAnnotationModule.isTextMarkupAnnotationMode;\n        }\n        else {\n            return false;\n        }\n    };\n    PdfViewerBase.prototype.isNewFreeTextAnnotation = function () {\n        // eslint-disable-next-line max-len\n        if (this.pdfViewer.annotationModule && this.pdfViewer.annotationModule.freeTextAnnotationModule) {\n            if (!this.pdfViewer.annotationModule.freeTextAnnotationModule.isNewFreeTextAnnot) {\n                return true;\n            }\n            else {\n                return false;\n            }\n        }\n        else {\n            return true;\n        }\n    };\n    PdfViewerBase.prototype.getCurrentTextMarkupAnnotation = function () {\n        if (this.isTextMarkupAnnotationModule()) {\n            if (this.pdfViewer.annotationModule.textMarkupAnnotationModule.currentTextMarkupAnnotation) {\n                return true;\n            }\n            else {\n                return false;\n            }\n        }\n        else {\n            return false;\n        }\n    };\n    /**\n     * @private\n     * @returns {number} - Returns page number.\n     */\n    PdfViewerBase.prototype.getSelectTextMarkupCurrentPage = function () {\n        if (this.isTextMarkupAnnotationModule()) {\n            return this.pdfViewer.annotationModule.textMarkupAnnotationModule.selectTextMarkupCurrentPage;\n        }\n        else {\n            return null;\n        }\n    };\n    /**\n     * @private\n     * @returns {boolean} - Retunrs true or false.\n     */\n    PdfViewerBase.prototype.getAnnotationToolStatus = function () {\n        if (this.pdfViewer.toolbarModule) {\n            return this.pdfViewer.toolbarModule.annotationToolbarModule.isAnnotationButtonsEnabled();\n        }\n        else {\n            return false;\n        }\n    };\n    /**\n     * @private\n     * @returns {boolean} - Retunrs true or false.\n     */\n    PdfViewerBase.prototype.getPopupNoteVisibleStatus = function () {\n        if (this.pdfViewer.annotationModule) {\n            return this.pdfViewer.annotationModule.isPopupNoteVisible;\n        }\n        else {\n            return false;\n        }\n    };\n    /**\n     * @private\n     * @returns {TextMarkupAnnotation} - TextMarkupAnnotation.\n     */\n    PdfViewerBase.prototype.isTextMarkupAnnotationModule = function () {\n        if (this.pdfViewer.annotationModule) {\n            return this.pdfViewer.annotationModule.textMarkupAnnotationModule;\n        }\n        else {\n            return null;\n        }\n    };\n    /**\n     * @private\n     * @returns {boolean} - Returns true or false.\n     */\n    PdfViewerBase.prototype.isShapeAnnotationModule = function () {\n        if (this.pdfViewer.annotation) {\n            if (this.pdfViewer.annotation && this.pdfViewer.annotation.shapeAnnotationModule) {\n                return true;\n            }\n            else {\n                return false;\n            }\n        }\n        else {\n            return false;\n        }\n    };\n    /**\n     * @private\n     * @returns {boolean} - Retunrs true or false.\n     */\n    PdfViewerBase.prototype.isFormDesignerModule = function () {\n        if (this.pdfViewer.formDesignerModule) {\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    /**\n     * @private\n     * @returns {boolean} - Retunrs true or false.\n     */\n    PdfViewerBase.prototype.isCalibrateAnnotationModule = function () {\n        if (this.pdfViewer.annotation) {\n            if (this.pdfViewer.annotation && this.pdfViewer.annotation.measureAnnotationModule) {\n                return true;\n            }\n            else {\n                return false;\n            }\n        }\n        else {\n            return false;\n        }\n    };\n    /**\n     * @private\n     * @returns {boolean} - Retunrs true or false.\n     */\n    PdfViewerBase.prototype.isStampAnnotationModule = function () {\n        if (this.pdfViewer.annotation) {\n            if (this.pdfViewer.annotation && this.pdfViewer.annotation.stampAnnotationModule) {\n                return true;\n            }\n            else {\n                return false;\n            }\n        }\n        else {\n            return false;\n        }\n    };\n    /**\n     * @private\n     * @returns {boolean} - Retunrs true or false.\n     */\n    PdfViewerBase.prototype.isInkAnnotationModule = function () {\n        if (this.pdfViewer.annotation) {\n            if (this.pdfViewer.annotation && this.pdfViewer.annotation.inkAnnotationModule) {\n                return true;\n            }\n            else {\n                return false;\n            }\n        }\n        else {\n            return false;\n        }\n    };\n    /**\n     * @private\n     * @returns {boolean} - Retunrs true or false.\n     */\n    PdfViewerBase.prototype.isCommentAnnotationModule = function () {\n        if (this.pdfViewer.annotation) {\n            if (this.pdfViewer.annotation && this.pdfViewer.annotation.stickyNotesAnnotationModule) {\n                return true;\n            }\n            else {\n                return false;\n            }\n        }\n        else {\n            return false;\n        }\n    };\n    /**\n     * @private\n     * @returns {boolean} - Retunrs true or false.\n     */\n    PdfViewerBase.prototype.isShapeBasedAnnotationsEnabled = function () {\n        // eslint-disable-next-line max-len\n        if (this.isShapeAnnotationModule() || this.isCalibrateAnnotationModule() || this.isStampAnnotationModule() || this.isCommentAnnotationModule() || this.isFormDesignerModule()) {\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    /**\n     * @private\n     * @param {MouseEvent | PointerEvent | TouchEvent} e - Returns event.\n     * @returns {PointModel} - Returns points.\n     */\n    PdfViewerBase.prototype.getMousePosition = function (e) {\n        var touchArg;\n        var offsetX;\n        var offsetY;\n        var currentTarget = e.target.parentElement;\n        if (e.type.indexOf('touch') !== -1) {\n            touchArg = e;\n            if (this.pdfViewer.annotation) {\n                var pageDiv = this.getElement('_pageDiv_' + this.pdfViewer.annotation.getEventPageNumber(e));\n                if (pageDiv) {\n                    var pageCurrentRect = pageDiv.getBoundingClientRect();\n                    offsetX = touchArg.changedTouches[0].clientX - pageCurrentRect.left;\n                    offsetY = touchArg.changedTouches[0].clientY - pageCurrentRect.top;\n                }\n            }\n        }\n        else {\n            if (e.target.classList.contains('e-pv-hyperlink')) {\n                offsetX = e.offsetX + e.target.offsetLeft;\n                offsetY = e.offsetY + e.target.offsetTop;\n            }\n            else if (e.target.classList.contains('e-pv-text') && currentTarget) {\n                var targetParentRect = currentTarget.getBoundingClientRect();\n                offsetX = e.clientX - targetParentRect.left;\n                offsetY = e.clientY - targetParentRect.top;\n                // eslint-disable-next-line\n            }\n            else if (e.target && (e && e.path) && currentTarget && (currentTarget.classList.contains('foreign-object') || currentTarget.parentElement.classList.contains('foreign-object'))) {\n                // eslint-disable-next-line\n                var targetParentRect = void 0;\n                if (e.path[4].className === 'e-pv-page-div') {\n                    targetParentRect = e.path[4].getBoundingClientRect();\n                }\n                else {\n                    for (var i = 0; i < e.path.length; i++) {\n                        if (e.path[i].className === 'e-pv-page-div') {\n                            targetParentRect = e.path[i].getBoundingClientRect();\n                            break;\n                        }\n                    }\n                }\n                offsetX = e.clientX - targetParentRect.left;\n                offsetY = e.clientY - targetParentRect.top;\n                // eslint-disable-next-line\n            }\n            else if (e.target && currentTarget && currentTarget.classList.contains('foreign-object')) {\n                // eslint-disable-next-line\n                var targetParentRect = e.target.offsetParent.offsetParent.offsetParent.getBoundingClientRect();\n                offsetX = e.clientX - targetParentRect.left;\n                offsetY = e.clientY - targetParentRect.top;\n                // eslint-disable-next-line\n            }\n            else {\n                offsetX = e.offsetX;\n                offsetY = e.offsetY;\n            }\n        }\n        return { x: offsetX, y: offsetY };\n    };\n    PdfViewerBase.prototype.getMouseEventArgs = function (position, args, evt, source) {\n        args.position = position;\n        var obj;\n        var objects;\n        if (!source) {\n            if (this.action === 'Drag' || this.action === 'ConnectorSourceEnd' || this.action === 'SegmentEnd' ||\n                this.action === 'OrthoThumb' || this.action === 'BezierSourceThumb' || this.action === 'BezierTargetThumb' ||\n                this.action === 'ConnectorTargetEnd' || this.action.indexOf('Rotate') !== -1 || this.action.indexOf('Resize') !== -1) {\n                obj = this.pdfViewer.selectedItems;\n                if (this.action === 'Drag' && obj && this.pdfViewer.selectedItems.annotations.length > 0) {\n                    obj = findActiveElement(evt, this, this.pdfViewer);\n                }\n                else if (this.action === 'Drag' && obj && this.pdfViewer.selectedItems.formFields.length > 0) {\n                    obj = findActiveElement(evt, this, this.pdfViewer);\n                }\n            }\n            else {\n                obj = findActiveElement(evt, this, this.pdfViewer);\n            }\n        }\n        else {\n            //   objects = this.diagram.findObjectsUnderMouse(this.currentPosition, source);\n            obj = findActiveElement(evt, this, this.pdfViewer);\n        }\n        var wrapper;\n        if (obj) {\n            wrapper = obj.wrapper;\n        }\n        if (!source) {\n            args.source = obj;\n            args.sourceWrapper = wrapper;\n        }\n        else {\n            args.target = obj;\n            args.targetWrapper = wrapper;\n        }\n        args.actualObject = this.eventArgs.actualObject;\n        //args.startTouches = this.touchStartList;\n        //args.moveTouches = this.touchMoveList;\n        return args;\n    };\n    /**\n     * @private\n     * @param {PdfAnnotationBaseModel} obj - The object.\n     * @param {PointModel} position - The position.\n     * @returns {Actions | string} - Returns the string.\n     */\n    PdfViewerBase.prototype.findToolToActivate = function (obj, position) {\n        position = { x: position.x / this.getZoomFactor(), y: position.y / this.getZoomFactor() };\n        var element = this.pdfViewer.selectedItems.wrapper;\n        if (element && obj) {\n            var selectorBnds = element.bounds; //let handle: SelectorModel = diagram.selectedItems;\n            var paddedBounds = new Rect(selectorBnds.x, selectorBnds.y, selectorBnds.width, selectorBnds.height);\n            if (obj.shapeAnnotationType === 'Line' || obj.shapeAnnotationType === 'LineWidthArrowHead' ||\n                obj.shapeAnnotationType === 'Distance' || obj.shapeAnnotationType === 'Polygon') {\n                var conn = this.pdfViewer.selectedItems.annotations[0];\n                if (conn) {\n                    for (var i = 0; i < conn.vertexPoints.length; i++) {\n                        if (contains(position, conn.vertexPoints[i], 10) && conn.leaderHeight !== 0) {\n                            return 'ConnectorSegmentPoint_' + i;\n                        }\n                    }\n                }\n            }\n            if (obj.shapeAnnotationType === 'Distance') {\n                var leaderCount = 0;\n                var newPoint1 = void 0;\n                if (obj && obj.wrapper) {\n                    for (var i = 0; i < obj.wrapper.children.length; i++) {\n                        var elementAngle = Point.findAngle(obj.sourcePoint, obj.targetPoint);\n                        // eslint-disable-next-line\n                        var segment = obj.wrapper.children[i];\n                        if (segment.id.indexOf('leader') > -1) {\n                            var centerPoint = obj.wrapper.children[0].bounds.center;\n                            if (leaderCount === 0) {\n                                newPoint1 = { x: obj.sourcePoint.x, y: obj.sourcePoint.y - obj.leaderHeight };\n                                centerPoint = obj.sourcePoint;\n                            }\n                            else {\n                                newPoint1 = { x: obj.targetPoint.x, y: obj.targetPoint.y - obj.leaderHeight };\n                                centerPoint = obj.targetPoint;\n                            }\n                            var matrix_1 = identityMatrix();\n                            rotateMatrix(matrix_1, elementAngle, centerPoint.x, centerPoint.y);\n                            var rotatedPoint = transformPointByMatrix(matrix_1, { x: newPoint1.x, y: newPoint1.y });\n                            if (contains(position, rotatedPoint, 10)) {\n                                return 'Leader' + leaderCount;\n                            }\n                            leaderCount++;\n                        }\n                    }\n                }\n            }\n            var ten = 10 / this.getZoomFactor();\n            var matrix = identityMatrix();\n            rotateMatrix(matrix, obj.rotateAngle + element.parentTransform, element.offsetX, element.offsetY);\n            //check for resizing tool\n            var x = element.offsetX - element.pivot.x * element.actualSize.width;\n            var y = element.offsetY - element.pivot.y * element.actualSize.height;\n            var rotateThumb = {\n                x: x + ((element.pivot.x === 0.5 ? element.pivot.x * 2 : element.pivot.x) * element.actualSize.width / 2),\n                y: y - 30 / this.getZoomFactor()\n            };\n            rotateThumb = transformPointByMatrix(matrix, rotateThumb);\n            if (obj.shapeAnnotationType === 'Stamp' && contains(position, rotateThumb, ten)) {\n                return 'Rotate';\n            }\n            paddedBounds = this.inflate(ten, paddedBounds);\n            if (paddedBounds.containsPoint(position, 0)) {\n                var action = this.checkResizeHandles(this.pdfViewer, element, position, matrix, x, y);\n                if (action) {\n                    return action;\n                }\n            }\n            if (this.pdfViewer.selectedItems.annotations.indexOf(obj) > -1) {\n                return 'Drag';\n            }\n            else if (this.pdfViewer.selectedItems.formFields.indexOf(obj) > -1 && this.pdfViewer.designerMode) {\n                return 'Drag';\n            }\n            return 'Select';\n        }\n        return this.pdfViewer.tool || 'Select';\n    };\n    PdfViewerBase.prototype.inflate = function (padding, bound) {\n        bound.x -= padding;\n        bound.y -= padding;\n        bound.width += padding * 2;\n        bound.height += padding * 2;\n        return bound;\n    };\n    PdfViewerBase.prototype.checkResizeHandles = function (diagram, element, position, matrix, x, y) {\n        var action;\n        if (!action) {\n            action = this.checkForResizeHandles(diagram, element, position, matrix, x, y);\n        }\n        if (action) {\n            return action;\n        }\n        return null;\n    };\n    PdfViewerBase.prototype.checkForResizeHandles = function (diagram, element, position, matrix, x, y) {\n        var forty = 40 / 1;\n        var ten = 10 / 1;\n        if (element.actualSize.width < 40 || element.actualSize.height < 40) {\n            ten = 5 * this.getZoomFactor() / 1;\n        }\n        var selectedItems = diagram.selectedItems;\n        var isStamp = false;\n        var isSticky = false;\n        var isNodeShape = false;\n        var isInk = false;\n        var resizerLocation = this.pdfViewer.annotationSelectorSettings.resizerLocation;\n        if (resizerLocation < 1 || resizerLocation > 3) {\n            resizerLocation = 3;\n        }\n        // eslint-disable-next-line max-len\n        if (this.pdfViewer.selectedItems.annotations[0] && (this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType === 'Stamp'\n            || this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType === 'FreeText' || this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType === 'Image' || this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType === 'HandWrittenSignature'\n            || this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType === 'SignatureText' || this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType === 'SignatureImage')) {\n            isStamp = true;\n        }\n        // eslint-disable-next-line max-len\n        if (this.pdfViewer.selectedItems.annotations[0] && this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType === 'StickyNotes') {\n            isSticky = true;\n        }\n        // eslint-disable-next-line max-len\n        if (this.pdfViewer.selectedItems.annotations[0] && this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType === 'Ink') {\n            isInk = true;\n        }\n        // eslint-disable-next-line max-len\n        if (this.pdfViewer.selectedItems.annotations[0] && (this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType === 'Ellipse' || this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType === 'Radius' || this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType === 'Rectangle')) {\n            isNodeShape = true;\n        }\n        if (!isSticky) {\n            // eslint-disable-next-line max-len\n            if ((isInk || isStamp || (this.pdfViewer.selectedItems.annotations[0] && (this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType === 'HandWrittenSignature' || this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType === 'SignatureText' || this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType === 'SignatureImage')) || ((element.actualSize.width >= forty && element.actualSize.height >= forty) && isNodeShape && (resizerLocation === 1 || resizerLocation === 3)))) {\n                if (contains(position, transformPointByMatrix(matrix, { x: x + element.actualSize.width, y: y + element.actualSize.height }), ten)) {\n                    return 'ResizeSouthEast';\n                }\n                if (contains(position, transformPointByMatrix(matrix, { x: x, y: y + element.actualSize.height }), ten)) {\n                    return 'ResizeSouthWest';\n                }\n                if (contains(position, transformPointByMatrix(matrix, { x: x + element.actualSize.width, y: y }), ten)) {\n                    return 'ResizeNorthEast';\n                }\n                if (contains(position, transformPointByMatrix(matrix, { x: x, y: y }), ten)) {\n                    return 'ResizeNorthWest';\n                }\n            }\n            // eslint-disable-next-line max-len\n            if (isInk || !isNodeShape || (isNodeShape && (resizerLocation === 2 || resizerLocation === 3 || (!(element.actualSize.width >= forty && element.actualSize.height >= forty) && resizerLocation === 1)))) {\n                if (contains(\n                // eslint-disable-next-line max-len\n                position, transformPointByMatrix(matrix, { x: x + element.actualSize.width, y: y + element.actualSize.height / 2 }), ten) && !isStamp) {\n                    return 'ResizeEast';\n                }\n                // eslint-disable-next-line max-len\n                if (contains(position, transformPointByMatrix(matrix, { x: x, y: y + element.actualSize.height / 2 }), ten) && !isStamp) {\n                    return 'ResizeWest';\n                }\n                if (contains(\n                // eslint-disable-next-line max-len\n                position, transformPointByMatrix(matrix, { x: x + element.actualSize.width / 2, y: y + element.actualSize.height }), ten) && !isStamp) {\n                    return 'ResizeSouth';\n                }\n                // eslint-disable-next-line max-len\n                if (contains(position, transformPointByMatrix(matrix, { x: x + element.actualSize.width / 2, y: y }), ten) && !isStamp) {\n                    return 'ResizeNorth';\n                }\n            }\n        }\n        return null;\n    };\n    /**\n     * @private\n     * @param {string} fieldID - The fieldID\n     * @returns {boolean} - Returns true or false.\n     */\n    PdfViewerBase.prototype.checkSignatureFormField = function (fieldID) {\n        var isFormFieldSign = false;\n        if (this.pdfViewer.formDesignerModule) {\n            fieldID = fieldID.split('_')[0];\n        }\n        // eslint-disable-next-line\n        var formField = this.pdfViewer.nameTable[fieldID];\n        if (formField) {\n            if (formField.formFieldAnnotationType === 'SignatureField' || formField.formFieldAnnotationType === 'InitialField' || formField.annotName === 'SignatureField') {\n                isFormFieldSign = true;\n            }\n        }\n        return isFormFieldSign;\n    };\n    /**\n     * @private\n     * @param {MouseEvent | TouchEvent} evt - The event.\n     * @returns {void}\n     */\n    PdfViewerBase.prototype.diagramMouseMove = function (evt) {\n        var allowServerDataBind = this.pdfViewer.allowServerDataBinding;\n        this.pdfViewer.enableServerDataBinding(false);\n        this.currentPosition = this.getMousePosition(evt);\n        this.pdfViewer.firePageMouseover(this.currentPosition.x, this.currentPosition.y);\n        if (this.pdfViewer.annotation) {\n            this.activeElements.activePageID = this.pdfViewer.annotation.getEventPageNumber(evt);\n        }\n        else if (this.pdfViewer.formDesignerModule) {\n            this.activeElements.activePageID = this.pdfViewer.formDesignerModule.getEventPageNumber(evt);\n        }\n        var obj = findActiveElement(evt, this, this.pdfViewer);\n        if ((this.tool instanceof NodeDrawingTool) || (this.tool instanceof LineTool)) {\n            obj = this.pdfViewer.drawingObject;\n        }\n        var target;\n        var isFormFieldSign = this.pdfViewer.selectedItems.annotations.length > 0 ? this.checkSignatureFormField(this.pdfViewer.selectedItems.annotations[0].id) : false;\n        if ((Point.equals(this.currentPosition, this.prevPosition) === false || this.inAction)) {\n            if (this.isMouseDown === false) {\n                this.eventArgs = {};\n                var sourceDrawingElement = null;\n                if (obj) {\n                    this.tool = this.getTool(this.action);\n                    if (obj.wrapper) {\n                        sourceDrawingElement = obj.wrapper.children[0];\n                        if (sourceDrawingElement) {\n                            target = obj;\n                        }\n                    }\n                }\n                var eventTarget = evt.target;\n                this.action = this.findToolToActivate(obj, this.currentPosition);\n                // eslint-disable-next-line\n                if (obj && obj.annotationSettings && obj.annotationSettings.isLock) {\n                    if (this.action === 'Select') {\n                        if (!this.pdfViewer.annotationModule.checkAllowedInteractions('Select', obj)) {\n                            this.action = '';\n                        }\n                    }\n                    if (this.action === 'Drag') {\n                        if (!this.pdfViewer.annotationModule.checkAllowedInteractions('Move', obj)) {\n                            this.action = 'Select';\n                        }\n                    }\n                    // eslint-disable-next-line max-len\n                    if (this.action === 'ResizeSouthEast' || this.action === 'ResizeNorthEast' || this.action === 'ResizeNorthWest' || this.action === 'ResizeSouthWest' ||\n                        // eslint-disable-next-line max-len\n                        this.action === 'ResizeNorth' || this.action === 'ResizeWest' || this.action === 'ResizeEast' || this.action === 'ResizeSouth' || this.action.includes('ConnectorSegmentPoint') || this.action.includes('Leader')) {\n                        if (!this.pdfViewer.annotationModule.checkAllowedInteractions('Resize', obj)) {\n                            this.action = 'Select';\n                        }\n                    }\n                }\n                // eslint-disable-next-line max-len\n                if (!this.pdfViewer.designerMode && ((!isNullOrUndefined(target) && (!isNullOrUndefined(target.formFieldAnnotationType))) || isFormFieldSign)) {\n                    if (this.action === 'ResizeSouthEast' || this.action === 'ResizeNorthEast' || this.action === 'ResizeNorthWest' || this.action === 'ResizeSouthWest' ||\n                        // eslint-disable-next-line max-len\n                        this.action === 'ResizeNorth' || this.action === 'Drag' || this.action === 'ResizeWest' || this.action === 'ResizeEast' || this.action === 'ResizeSouth' || this.action.includes('ConnectorSegmentPoint') || this.action.includes('Leader')) {\n                        this.action = '';\n                    }\n                }\n                this.tool = this.getTool(this.action);\n                this.setCursor(eventTarget, evt);\n                if (this.pdfViewer.linkAnnotationModule) {\n                    this.pdfViewer.linkAnnotationModule.disableHyperlinkNavigationUnderObjects(eventTarget, evt, this);\n                }\n            }\n            else {\n                if (!this.tool && this.action && this.action === 'Rotate') {\n                    this.tool = this.getTool(this.action);\n                    if (evt.target) {\n                        this.setCursor(evt.target, evt);\n                    }\n                }\n                // eslint-disable-next-line max-len\n                if (!this.pdfViewer.designerMode && ((!isNullOrUndefined(target) && (!isNullOrUndefined(target.formFieldAnnotationType))) || isFormFieldSign)) {\n                    if (this.action === 'ResizeSouthEast' || this.action === 'ResizeNorthEast' || this.action === 'ResizeNorthWest' || this.action === 'ResizeSouthWest' ||\n                        // eslint-disable-next-line max-len\n                        this.action === 'ResizeNorth' || this.action === 'Drag' || this.action === 'ResizeWest' || this.action === 'ResizeEast' || this.action === 'ResizeSouth' || this.action.includes('ConnectorSegmentPoint') || this.action.includes('Leader')) {\n                        this.action = '';\n                        this.tool = null;\n                    }\n                }\n                if (this.eventArgs && this.eventArgs.source) {\n                    var eventTarget = evt.target;\n                    this.updateDefaultCursor(this.eventArgs.source, eventTarget, evt);\n                }\n                else {\n                    this.setCursor(evt.target, evt);\n                }\n                this.diagramMouseActionHelper(evt);\n                if (this.tool) {\n                    var currentObject = obj;\n                    if (currentObject && currentObject.shapeAnnotationType === 'FreeText') {\n                        if (this.pdfViewer.freeTextSettings.allowEditTextOnly && this.action !== \"Ink\" &&\n                            (this.eventArgs.source && this.eventArgs.source.shapeAnnotationType === \"FreeText\")) {\n                            var eventTarget = event.target;\n                            eventTarget.style.cursor = 'default';\n                            this.tool = null;\n                        }\n                    }\n                    if (this.tool != null) {\n                        var info = { ctrlKey: evt.ctrlKey, shiftKey: evt.shiftKey };\n                        this.eventArgs.info = info;\n                        this.tool.mouseMove(this.eventArgs);\n                    }\n                }\n            }\n            if (this.pdfViewer.drawingObject && this.pdfViewer.drawingObject.formFieldAnnotationType && this.action !== 'Drag') {\n                if (!(this.tool instanceof ResizeTool)) {\n                    this.tool = this.getTool(this.action);\n                    if (this.tool instanceof NodeDrawingTool) {\n                        var obj_1 = this.pdfViewer.drawingObject;\n                        // eslint-disable-next-line\n                        var bounds = this.pdfViewer.formDesignerModule.updateFormFieldInitialSize(obj_1, obj_1.formFieldAnnotationType);\n                        var pageWidth = this.pageContainer.firstElementChild.clientWidth - bounds.width;\n                        var pageHeight = this.pageContainer.firstElementChild.clientHeight - bounds.height;\n                        if (this.pdfViewer.formDesignerModule && obj_1.formFieldAnnotationType\n                            && this.currentPosition.x < pageWidth && this.currentPosition.y < pageHeight) {\n                            // eslint-disable-next-line\n                            var formFieldElement = document.getElementById('FormField_helper_html_element');\n                            if (!formFieldElement) {\n                                // eslint-disable-next-line max-len\n                                this.pdfViewer.formDesignerModule.drawHelper(obj_1.formFieldAnnotationType, obj_1, evt);\n                            }\n                            else if (formFieldElement) {\n                                var previousActivePage = formFieldElement.parentElement.id.split(\"_text_\")[1] || formFieldElement.parentElement.id.split(\"_textLayer_\")[1] || formFieldElement.parentElement.id.split(\"_annotationCanvas_\")[1] || formFieldElement.parentElement.id.split(\"_pageDiv_\")[1];\n                                if (parseInt(previousActivePage) !== this.activeElements.activePageID) {\n                                    formFieldElement.remove(\"FormField_helper_html_element\");\n                                }\n                                else {\n                                    // eslint-disable-next-line\n                                    var point = this.getMousePosition(event);\n                                    if (obj_1.formFieldAnnotationType === 'Checkbox') {\n                                        formFieldElement.firstElementChild.firstElementChild.lastElementChild.style.visibility = 'visible';\n                                    }\n                                    else if (obj_1.formFieldAnnotationType === 'SignatureField' || obj_1.formFieldAnnotationType === 'InitialField') {\n                                        formFieldElement.firstElementChild.firstElementChild.style.visibility = 'visible';\n                                        formFieldElement.firstElementChild.lastElementChild.style.visibility = 'visible';\n                                    }\n                                    else {\n                                        formFieldElement.firstElementChild.firstElementChild.style.visibility = 'visible';\n                                    }\n                                    formFieldElement.setAttribute('style', 'height:' + bounds.height + 'px; width:' + bounds.width + 'px;left:' + point.x + 'px; top:' + point.y + 'px;' +\n                                        'position:absolute;opacity: 0.5;');\n                                }\n                            }\n                        }\n                        else if (this.currentPosition.x > pageWidth || this.currentPosition.y > pageHeight) {\n                            // eslint-disable-next-line\n                            var formFieldElement = document.getElementById('FormField_helper_html_element');\n                            if (!formFieldElement) {\n                                // eslint-disable-next-line max-len\n                                this.pdfViewer.formDesignerModule.drawHelper(obj_1.formFieldAnnotationType, obj_1, evt);\n                            }\n                            else if (formFieldElement) {\n                                // eslint-disable-next-line\n                                var point = this.getMousePosition(event);\n                                formFieldElement.setAttribute('style', 'height:' + bounds.height + 'px; width:' + bounds.width + 'px;left:' + point.x + 'px; top:' + point.y + 'px;' +\n                                    'position:absolute;opacity: 0.5;');\n                                if (obj_1.formFieldAnnotationType === 'Checkbox') {\n                                    formFieldElement.firstElementChild.firstElementChild.lastElementChild.style.visibility = 'hidden';\n                                }\n                                else if (obj_1.formFieldAnnotationType === 'SignatureField' || obj_1.formFieldAnnotationType === 'InitialField') {\n                                    formFieldElement.firstElementChild.firstElementChild.style.visibility = 'hidden';\n                                    formFieldElement.firstElementChild.lastElementChild.style.visibility = 'hidden';\n                                }\n                                else {\n                                    formFieldElement.firstElementChild.firstElementChild.style.visibility = 'hidden';\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n            this.prevPosition = this.currentPosition;\n        }\n        this.pdfViewer.enableServerDataBinding(allowServerDataBind, true);\n    };\n    // eslint-disable-next-line\n    PdfViewerBase.prototype.updateDefaultCursor = function (source, target, event) {\n        // eslint-disable-next-line max-len\n        if (source && source.pageIndex !== undefined && source.pageIndex !== this.activeElements.activePageID && target) {\n            // eslint-disable-next-line\n            this.isPanMode ? target.style.cursor = 'grab' : target.style.cursor = 'default';\n        }\n        else {\n            this.setCursor(target, event);\n        }\n    };\n    /**\n     * @private\n     * @param {MouseEvent | TouchEvent} evt - The event.\n     * @returns {void}\n     */\n    PdfViewerBase.prototype.diagramMouseLeave = function (evt) {\n        this.currentPosition = this.getMousePosition(evt);\n        if (this.pdfViewer.annotation) {\n            this.activeElements.activePageID = this.pdfViewer.annotation.getEventPageNumber(evt);\n        }\n        var shapeElement = findActiveElement(evt, this, this.pdfViewer);\n        var mouseMoveforce = false;\n        var target;\n        if (Point.equals(this.currentPosition, this.prevPosition) === false || this.inAction) {\n            if (this.isMouseDown === false || mouseMoveforce) {\n                this.eventArgs = {};\n                var sourceElement = null;\n                if (shapeElement) {\n                    sourceElement = shapeElement.wrapper.children[0];\n                    if (sourceElement) {\n                        target = shapeElement;\n                    }\n                    mouseMoveforce = false;\n                }\n            }\n            else {\n                this.diagramMouseActionHelper(evt);\n                // eslint-disable-next-line max-len\n                if (this.tool && this.action !== 'Drag' && this.pdfViewer.tool !== 'Stamp' && this.tool.currentElement && this.tool.currentElement.shapeAnnotationType !== 'Stamp') {\n                    this.tool.mouseLeave(this.eventArgs);\n                    this.tool = null;\n                    if (this.pdfViewer.annotation) {\n                        this.pdfViewer.annotationModule.renderAnnotations(this.previousPage, null, null, null);\n                    }\n                }\n            }\n            this.prevPosition = this.currentPosition;\n        }\n    };\n    PdfViewerBase.prototype.diagramMouseActionHelper = function (evt) {\n        this.eventArgs.position = this.currentPosition;\n        if (this.action === 'Drag' &&\n            this.eventArgs.source instanceof Selector) {\n            this.getMouseEventArgs(this.currentPosition, this.eventArgs, evt);\n        }\n        this.getMouseEventArgs(this.currentPosition, this.eventArgs, evt, this.eventArgs.source);\n        this.inAction = true;\n        this.initialEventArgs = null;\n    };\n    // eslint-disable-next-line\n    PdfViewerBase.prototype.setCursor = function (eventTarget, event) {\n        // eslint-disable-next-line max-len\n        var freeTextAnnotModule = this.pdfViewer.annotationModule ? this.pdfViewer.annotationModule.freeTextAnnotationModule : null;\n        var cursorType;\n        if (this.tool instanceof ResizeTool) {\n            if (this.tool.corner === 'ResizeNorthWest') {\n                cursorType = this.setResizerCursorType();\n                eventTarget.style.cursor = isNullOrUndefined(cursorType) ? 'nw-resize' : cursorType;\n            }\n            else if (this.tool.corner === 'ResizeNorthEast') {\n                cursorType = this.setResizerCursorType();\n                eventTarget.style.cursor = isNullOrUndefined(cursorType) ? 'ne-resize' : cursorType;\n            }\n            else if (this.tool.corner === 'ResizeSouthWest') {\n                cursorType = this.setResizerCursorType();\n                eventTarget.style.cursor = isNullOrUndefined(cursorType) ? 'sw-resize' : cursorType;\n            }\n            else if (this.tool.corner === 'ResizeSouthEast') {\n                cursorType = this.setResizerCursorType();\n                eventTarget.style.cursor = isNullOrUndefined(cursorType) ? 'se-resize' : cursorType;\n            }\n            else if (this.tool.corner === 'ResizeNorth') {\n                cursorType = this.setResizerCursorType();\n                eventTarget.style.cursor = isNullOrUndefined(cursorType) ? 'n-resize' : cursorType;\n            }\n            else if (this.tool.corner === 'ResizeWest') {\n                cursorType = this.setResizerCursorType();\n                eventTarget.style.cursor = isNullOrUndefined(cursorType) ? 'w-resize' : cursorType;\n            }\n            else if (this.tool.corner === 'ResizeEast') {\n                cursorType = this.setResizerCursorType();\n                eventTarget.style.cursor = isNullOrUndefined(cursorType) ? 'e-resize' : cursorType;\n            }\n            else if (this.tool.corner === 'ResizeSouth') {\n                cursorType = this.setResizerCursorType();\n                eventTarget.style.cursor = isNullOrUndefined(cursorType) ? 's-resize' : cursorType;\n            }\n        }\n        else if (this.isCommentIconAdded && this.isAddComment) {\n            eventTarget.style.cursor = 'crosshair';\n        }\n        else if (this.pdfViewer.enableHandwrittenSignature && this.isNewSignatureAdded && this.tool instanceof StampTool) {\n            eventTarget.style.cursor = 'crosshair';\n        }\n        else if (this.tool instanceof MoveTool) {\n            eventTarget.style.cursor = 'move';\n            // eslint-disable-next-line max-len\n        }\n        else if (this.tool instanceof NodeDrawingTool || this.tool instanceof LineTool || this.tool instanceof PolygonDrawingTool || (freeTextAnnotModule && freeTextAnnotModule.isNewAddedAnnot) || this.tool instanceof InkDrawingTool) {\n            eventTarget.style.cursor = 'crosshair';\n        }\n        else if (this.tool instanceof ConnectTool) {\n            if (this.tool.endPoint && this.tool.endPoint.indexOf('Leader0')) {\n                cursorType = this.setResizerCursorType();\n                eventTarget.style.cursor = isNullOrUndefined(cursorType) ? 'nw-resize' : cursorType;\n            }\n            else if (this.tool.endPoint && this.tool.endPoint.indexOf('Leader1')) {\n                cursorType = this.setResizerCursorType();\n                eventTarget.style.cursor = isNullOrUndefined(cursorType) ? 'ne-resize' : cursorType;\n            }\n            else if (this.tool.endPoint && this.tool.endPoint.indexOf('ConnectorSegmentPoint')) {\n                eventTarget.style.cursor = 'sw-resize';\n            }\n        }\n        else {\n            if (eventTarget.classList.contains('e-pv-text')) {\n                eventTarget.style.cursor = 'text';\n            }\n            else if (eventTarget.classList.contains('e-pv-hyperlink')) {\n                eventTarget.style.cursor = 'pointer';\n            }\n            else if (this.isPanMode) {\n                if (this.isViewerMouseDown && event.type === 'mousemove') {\n                    eventTarget.style.cursor = 'grabbing';\n                }\n                else {\n                    var obj = findActiveElement(event, this, this.pdfViewer);\n                    if (obj && event.type === 'mousemove') {\n                        eventTarget.style.cursor = 'pointer';\n                        // eslint-disable-next-line max-len\n                        var currentObject = obj;\n                        // eslint-disable-next-line\n                        var currentPosition = this.getMousePosition(event);\n                        // eslint-disable-next-line\n                        var relativePosition = this.relativePosition(event);\n                        // eslint-disable-next-line\n                        var viewerPositions = { left: relativePosition.x, top: relativePosition.y };\n                        // eslint-disable-next-line\n                        var mousePositions = { left: currentPosition.x, top: currentPosition.y };\n                        // eslint-disable-next-line\n                        var annotationSettings = { opacity: currentObject.opacity, fillColor: currentObject.fillColor, strokeColor: currentObject.strokeColor, thicknes: currentObject.thickness, author: currentObject.author, subject: currentObject.subject, modifiedDate: currentObject.modifiedDate };\n                        // eslint-disable-next-line max-len\n                        this.isMousedOver = true;\n                        var isFormField = this.checkSignatureFormField(currentObject.id);\n                        if (currentObject.formFieldAnnotationType) {\n                            this.isFormFieldMousedOver = true;\n                            var field = {\n                                // eslint-disable-next-line\n                                value: currentObject.value, fontFamily: currentObject.fontFamily, fontSize: currentObject.fontSize, fontStyle: currentObject.fontStyle,\n                                // eslint-disable-next-line max-len\n                                color: currentObject.color, backgroundColor: currentObject.backgroundColor, borderColor: currentObject.borderColor,\n                                // eslint-disable-next-line\n                                thickness: currentObject.thickness, alignment: currentObject.alignment, isReadonly: currentObject.isReadonly, visibility: currentObject.visibility,\n                                // eslint-disable-next-line\n                                maxLength: currentObject.maxLength, isRequired: currentObject.isRequired, isPrint: currentObject.isPrint, rotation: currentObject.rotateAngle, tooltip: currentObject.tooltip, options: currentObject.options,\n                                // eslint-disable-next-line\n                                isChecked: currentObject.isChecked, isSelected: currentObject.isSelected\n                            };\n                            this.pdfViewer.fireFormFieldMouseoverEvent('formFieldMouseover', field, currentObject.pageIndex, relativePosition.x, relativePosition.y, currentPosition.x, currentPosition.y);\n                        }\n                        else {\n                            if (!isFormField)\n                                // eslint-disable-next-line max-len\n                                this.pdfViewer.fireAnnotationMouseover(currentObject.annotName, currentObject.pageIndex, currentObject.shapeAnnotationType, currentObject.bounds, annotationSettings, mousePositions, viewerPositions);\n                        }\n                    }\n                    else {\n                        eventTarget.style.cursor = 'grab';\n                        if (this.isMousedOver) {\n                            var pageIndex = void 0;\n                            if (this.pdfViewer.formDesignerModule) {\n                                pageIndex = this.pdfViewer.formDesignerModule.getEventPageNumber(event);\n                            }\n                            else {\n                                pageIndex = this.pdfViewer.annotation.getEventPageNumber(event);\n                            }\n                            if (this.isFormFieldMousedOver) {\n                                this.pdfViewer.fireFormFieldMouseLeaveEvent('formFieldMouseLeave', null, pageIndex);\n                            }\n                            else {\n                                this.pdfViewer.fireAnnotationMouseLeave(pageIndex);\n                            }\n                            this.isMousedOver = false;\n                            this.isFormFieldMousedOver = false;\n                        }\n                    }\n                }\n            }\n            else {\n                var obj = findActiveElement(event, this, this.pdfViewer);\n                if (obj && this.pdfViewer.selectedItems.annotations.length === 0 && event.type === 'mousemove') {\n                    var currentObject = obj;\n                    // eslint-disable-next-line\n                    var annotationObject = this.pdfViewer.nameTable[currentObject.id];\n                    // eslint-disable-next-line max-len\n                    if (annotationObject.shapeAnnotationType !== 'HandWrittenSignature' && annotationObject.shapeAnnotationType !== 'Ink' && annotationObject.annotationSettings && annotationObject.annotationSettings.isLock !== undefined) {\n                        annotationObject.annotationSettings.isLock = JSON.parse(annotationObject.annotationSettings.isLock);\n                    }\n                    if (annotationObject.annotationSettings && annotationObject.annotationSettings.isLock) {\n                        eventTarget.style.cursor = 'default';\n                    }\n                    else {\n                        eventTarget.style.cursor = 'pointer';\n                    }\n                    // eslint-disable-next-line\n                    var currentPosition = this.getMousePosition(event);\n                    // eslint-disable-next-line\n                    var relativePosition = this.relativePosition(event);\n                    // eslint-disable-next-line\n                    var viewerPositions = { left: relativePosition.x, top: relativePosition.y };\n                    // eslint-disable-next-line\n                    var mousePositions = { left: currentPosition.x, top: currentPosition.y };\n                    // eslint-disable-next-line\n                    var annotationSettings = { opacity: currentObject.opacity, fillColor: currentObject.fillColor, strokeColor: currentObject.strokeColor, thicknes: currentObject.thickness, author: currentObject.author, subject: currentObject.subject, modifiedDate: currentObject.modifiedDate };\n                    // eslint-disable-next-line max-len\n                    this.isMousedOver = true;\n                    var isFormField = this.checkSignatureFormField(currentObject.id);\n                    if (currentObject.formFieldAnnotationType) {\n                        this.isFormFieldMousedOver = true;\n                        var field = {\n                            // eslint-disable-next-line\n                            value: currentObject.value, fontFamily: currentObject.fontFamily, fontSize: currentObject.fontSize, fontStyle: currentObject.fontStyle,\n                            // eslint-disable-next-line max-len\n                            color: currentObject.color, backgroundColor: currentObject.backgroundColor, borderColor: currentObject.borderColor,\n                            // eslint-disable-next-line\n                            thickness: currentObject.thickness, alignment: currentObject.alignment, isReadonly: currentObject.isReadonly, visibility: currentObject.visibility,\n                            // eslint-disable-next-line\n                            maxLength: currentObject.maxLength, isRequired: currentObject.isRequired, isPrint: currentObject.isPrint, rotation: currentObject.rotateAngle, tooltip: currentObject.tooltip, options: currentObject.options,\n                            // eslint-disable-next-line\n                            isChecked: currentObject.isChecked, isSelected: currentObject.isSelected\n                        };\n                        this.fromTarget = currentObject;\n                        this.pdfViewer.fireFormFieldMouseoverEvent('formFieldMouseover', field, currentObject.pageIndex, relativePosition.x, relativePosition.y, currentPosition.x, currentPosition.y);\n                    }\n                    else {\n                        if (!isFormField)\n                            // eslint-disable-next-line max-len\n                            this.pdfViewer.fireAnnotationMouseover(currentObject.annotName, currentObject.pageIndex, currentObject.shapeAnnotationType, currentObject.bounds, annotationSettings, mousePositions, viewerPositions);\n                    }\n                }\n                else {\n                    if (this.isMousedOver) {\n                        var pageIndex = void 0;\n                        if (this.pdfViewer.formDesignerModule) {\n                            pageIndex = this.pdfViewer.formDesignerModule.getEventPageNumber(event);\n                        }\n                        else {\n                            pageIndex = this.pdfViewer.annotation.getEventPageNumber(event);\n                        }\n                        if (this.isFormFieldMousedOver) {\n                            if (this.fromTarget) {\n                                var field = {\n                                    // eslint-disable-next-line\n                                    name: this.fromTarget.name, id: this.fromTarget.id, value: this.fromTarget.value, fontFamily: this.fromTarget.fontFamily, fontSize: this.fromTarget.fontSize, fontStyle: this.fromTarget.fontStyle,\n                                    // eslint-disable-next-line max-len\n                                    color: this.fromTarget.color, backgroundColor: this.fromTarget.backgroundColor, borderColor: this.fromTarget.borderColor,\n                                    // eslint-disable-next-line\n                                    thickness: this.fromTarget.thickness, alignment: this.fromTarget.alignment, isReadonly: this.fromTarget.isReadonly, visibility: this.fromTarget.visibility,\n                                    // eslint-disable-next-line\n                                    maxLength: this.fromTarget.maxLength, isRequired: this.fromTarget.isRequired, isPrint: this.fromTarget.isPrint, rotation: this.fromTarget.rotateAngle, tooltip: this.fromTarget.tooltip, options: this.fromTarget.options,\n                                    // eslint-disable-next-line\n                                    isChecked: this.fromTarget.isChecked, isSelected: this.fromTarget.isSelected\n                                };\n                                this.pdfViewer.fireFormFieldMouseLeaveEvent('formFieldMouseLeave', field, pageIndex);\n                            }\n                            else {\n                                this.pdfViewer.fireFormFieldMouseLeaveEvent('formFieldMouseLeave', null, pageIndex);\n                            }\n                        }\n                        else {\n                            this.pdfViewer.fireAnnotationMouseLeave(pageIndex);\n                        }\n                        this.isMousedOver = false;\n                        this.isFormFieldMousedOver = false;\n                        eventTarget.style.cursor = 'default';\n                    }\n                    if (obj && this.pdfViewer.selectedItems.annotations.length === 1 && event.type === 'mousemove') {\n                        eventTarget.style.cursor = 'pointer';\n                    }\n                    else {\n                        eventTarget.style.cursor = 'default';\n                    }\n                }\n            }\n        }\n    };\n    PdfViewerBase.prototype.setResizerCursorType = function () {\n        var cursorType;\n        // eslint-disable-next-line max-len\n        if (this.pdfViewer.selectedItems.annotations[0] && isNullOrUndefined(this.pdfViewer.selectedItems.annotations[0].annotationSelectorSettings.resizerCursorType)) {\n            if (this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType === 'FreeText') {\n                // eslint-disable-next-line max-len\n                cursorType = !isNullOrUndefined(this.pdfViewer.freeTextSettings.annotationSelectorSettings) ? this.pdfViewer.freeTextSettings.annotationSelectorSettings.resizerCursorType : null;\n            }\n            else if (this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType === 'Stamp') {\n                // eslint-disable-next-line max-len\n                cursorType = !isNullOrUndefined(this.pdfViewer.stampSettings.annotationSelectorSettings) ? this.pdfViewer.stampSettings.annotationSelectorSettings.resizerCursorType : null;\n            }\n            else if (this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType === 'HandWrittenSignature' || this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType === 'SignatureText' || this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType === 'SignatureImage') {\n                // eslint-disable-next-line max-len\n                cursorType = !isNullOrUndefined(this.pdfViewer.handWrittenSignatureSettings.annotationSelectorSettings) ? this.pdfViewer.handWrittenSignatureSettings.annotationSelectorSettings.resizerCursorType : null;\n            }\n            else if (this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType === 'Ink') {\n                // eslint-disable-next-line max-len\n                cursorType = !isNullOrUndefined(this.pdfViewer.inkAnnotationSettings.annotationSelectorSettings) ? this.pdfViewer.inkAnnotationSettings.annotationSelectorSettings.resizerCursorType : null;\n            }\n            else if (!this.pdfViewer.selectedItems.annotations[0].measureType) {\n                if (this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType === 'Line') {\n                    // eslint-disable-next-line max-len\n                    cursorType = !isNullOrUndefined(this.pdfViewer.lineSettings.annotationSelectorSettings) ? this.pdfViewer.lineSettings.annotationSelectorSettings.resizerCursorType : null;\n                }\n                else if (this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType === 'LineWidthArrowHead') {\n                    // eslint-disable-next-line max-len\n                    cursorType = !isNullOrUndefined(this.pdfViewer.arrowSettings.annotationSelectorSettings) ? this.pdfViewer.arrowSettings.annotationSelectorSettings.resizerCursorType : null;\n                }\n                else if (this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType === 'Rectangle') {\n                    // eslint-disable-next-line max-len\n                    cursorType = !isNullOrUndefined(this.pdfViewer.rectangleSettings.annotationSelectorSettings) ? this.pdfViewer.rectangleSettings.annotationSelectorSettings.resizerCursorType : null;\n                }\n                else if (this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType === 'Ellipse') {\n                    // eslint-disable-next-line max-len\n                    cursorType = !isNullOrUndefined(this.pdfViewer.circleSettings.annotationSelectorSettings) ? this.pdfViewer.circleSettings.annotationSelectorSettings.resizerCursorType : null;\n                }\n                else if (this.pdfViewer.selectedItems.annotations[0].shapeAnnotationType === 'Polygon') {\n                    // eslint-disable-next-line max-len\n                    cursorType = !isNullOrUndefined(this.pdfViewer.polygonSettings.annotationSelectorSettings) ? this.pdfViewer.polygonSettings.annotationSelectorSettings.resizerCursorType : null;\n                }\n            }\n            else if (this.pdfViewer.selectedItems.annotations[0].measureType) {\n                if (this.pdfViewer.selectedItems.annotations[0].subject === 'Distance calculation') {\n                    // eslint-disable-next-line max-len\n                    cursorType = !isNullOrUndefined(this.pdfViewer.distanceSettings.annotationSelectorSettings) ? this.pdfViewer.distanceSettings.annotationSelectorSettings.resizerCursorType : null;\n                }\n                else if (this.pdfViewer.selectedItems.annotations[0].subject === 'Perimeter calculation') {\n                    // eslint-disable-next-line max-len\n                    cursorType = !isNullOrUndefined(this.pdfViewer.perimeterSettings.annotationSelectorSettings) ? this.pdfViewer.perimeterSettings.annotationSelectorSettings.resizerCursorType : null;\n                }\n                else if (this.pdfViewer.selectedItems.annotations[0].subject === 'Area calculation') {\n                    // eslint-disable-next-line max-len\n                    cursorType = !isNullOrUndefined(this.pdfViewer.areaSettings.annotationSelectorSettings) ? this.pdfViewer.areaSettings.annotationSelectorSettings.resizerCursorType : null;\n                }\n                else if (this.pdfViewer.selectedItems.annotations[0].subject === 'Radius calculation') {\n                    // eslint-disable-next-line max-len\n                    cursorType = !isNullOrUndefined(this.pdfViewer.radiusSettings.annotationSelectorSettings) ? this.pdfViewer.radiusSettings.annotationSelectorSettings.resizerCursorType : null;\n                }\n                else if (this.pdfViewer.selectedItems.annotations[0].subject === 'Volume calculation') {\n                    // eslint-disable-next-line max-len\n                    cursorType = !isNullOrUndefined(this.pdfViewer.volumeSettings.annotationSelectorSettings) ? this.pdfViewer.volumeSettings.annotationSelectorSettings.resizerCursorType : null;\n                }\n            }\n        }\n        else {\n            if (this.pdfViewer.selectedItems.annotations[0]) {\n                cursorType = this.pdfViewer.selectedItems.annotations[0].annotationSelectorSettings.resizerCursorType;\n            }\n        }\n        if (!cursorType) {\n            cursorType = this.pdfViewer.annotationSelectorSettings.resizerCursorType;\n        }\n        return cursorType;\n    };\n    /**\n     * @private\n     * @param {Actions | string} action - The actions.\n     * @returns {ToolBase} - Returns tools.\n     */\n    PdfViewerBase.prototype.getTool = function (action) {\n        switch (action) {\n            case 'Select':\n                return new SelectTool(this.pdfViewer, this);\n            case 'Drag':\n                return new MoveTool(this.pdfViewer, this);\n            case 'ResizeSouthEast':\n            case 'ResizeSouthWest':\n            case 'ResizeNorthEast':\n            case 'ResizeNorthWest':\n            case 'ResizeSouth':\n            case 'ResizeNorth':\n            case 'ResizeWest':\n            case 'ResizeEast':\n                return new ResizeTool(this.pdfViewer, this, action);\n            case 'ConnectorSourceEnd':\n            case 'ConnectorTargetEnd':\n            case 'Leader':\n            case 'ConnectorSegmentPoint':\n                return new ConnectTool(this.pdfViewer, this, action);\n            case 'DrawTool':\n                return new NodeDrawingTool(this.pdfViewer, this, this.pdfViewer.drawingObject);\n            case 'Polygon':\n                return new PolygonDrawingTool(this.pdfViewer, this, 'Polygon');\n            case 'Distance':\n                return new LineTool(this.pdfViewer, this, 'Leader1', undefined);\n            case 'Line':\n                return new LineTool(this.pdfViewer, this, 'ConnectorSegmentPoint_1', this.pdfViewer.drawingObject);\n            case 'Perimeter':\n                return new PolygonDrawingTool(this.pdfViewer, this, 'Perimeter');\n            case 'Rotate':\n                return new RotateTool(this.pdfViewer, this);\n            case 'Stamp':\n                return new StampTool(this.pdfViewer, this);\n            case 'Ink':\n                return new InkDrawingTool(this.pdfViewer, this, this.pdfViewer.drawingObject);\n        }\n        if (action.indexOf('ConnectorSegmentPoint') > -1 || action.indexOf('Leader') > -1) {\n            return new ConnectTool(this.pdfViewer, this, action);\n        }\n        return null;\n    };\n    /**\n     * @private\n     * @param {MouseEvent | TouchEvent} evt - The events.\n     * @returns {void}\n     */\n    PdfViewerBase.prototype.diagramMouseUp = function (evt) {\n        var allowServerDataBind = this.pdfViewer.allowServerDataBinding;\n        this.pdfViewer.enableServerDataBinding(false);\n        var touches;\n        if (this.tool) {\n            if (!this.inAction && evt.which !== 3) {\n                if (this.action === 'Drag') {\n                    this.action = 'Select';\n                    var obj = findActiveElement(evt, this, this.pdfViewer);\n                    var isMultipleSelect = true;\n                }\n            }\n            var isGroupAction = void 0;\n            if (!(this.tool instanceof PolygonDrawingTool) && !(this.tool instanceof LineTool) && !(this.tool instanceof NodeDrawingTool)) {\n                this.inAction = false;\n                this.isMouseDown = false;\n            }\n            this.currentPosition = this.getMousePosition(evt);\n            if (this.tool) {\n                this.eventArgs.position = this.currentPosition;\n                this.getMouseEventArgs(this.currentPosition, this.eventArgs, evt, this.eventArgs.source);\n                var ctrlKey = this.isMetaKey(evt);\n                var info = { ctrlKey: evt.ctrlKey, shiftKey: evt.shiftKey };\n                this.eventArgs.info = info;\n                this.eventArgs.clickCount = evt.detail;\n                this.tool.mouseUp(this.eventArgs);\n                this.isAnnotationMouseDown = false;\n                this.isFormFieldMouseDown = false;\n                // eslint-disable-next-line max-len\n                if ((this.tool instanceof NodeDrawingTool || this.tool instanceof LineTool || this.tool instanceof PolygonDrawingTool) && !this.tool.dragging) {\n                    this.inAction = false;\n                    this.isMouseDown = false;\n                }\n                var obj = findActiveElement(evt, this, this.pdfViewer);\n                // eslint-disable-next-line max-len\n                if ((this.isShapeAnnotationModule() && this.isCalibrateAnnotationModule())) {\n                    this.pdfViewer.annotation.onShapesMouseup(obj, evt);\n                }\n                this.isAnnotationDrawn = false;\n            }\n        }\n        var target = evt.target;\n        // eslint-disable-next-line max-len\n        if (!touches && evt.cancelable && this.skipPreventDefault(target) && (!Browser.isDevice || this.pdfViewer.enableDesktopMode)) {\n            evt.preventDefault();\n        }\n        this.eventArgs = {};\n        this.pdfViewer.enableServerDataBinding(allowServerDataBind, true);\n    };\n    /**\n     * @private\n     * @param {HTMLElement} target - The target.\n     * @returns {boolean} - Returns true or false.\n     */\n    PdfViewerBase.prototype.skipPreventDefault = function (target) {\n        var isSkipped = false;\n        var isSkip = false;\n        // eslint-disable-next-line max-len\n        if (this.pdfViewer.annotationModule && this.pdfViewer.annotationModule.freeTextAnnotationModule && this.pdfViewer.annotationModule.freeTextAnnotationModule.isInuptBoxInFocus) {\n            isSkip = true;\n        }\n        // eslint-disable-next-line max-len\n        if (target.parentElement && target.parentElement.className !== 'foreign-object' && !target.classList.contains('e-pv-radio-btn') && !target.classList.contains('e-pv-radiobtn-span') && !target.classList.contains('e-pv-checkbox-div') && !target.classList.contains('e-pdfviewer-formFields')\n            && !target.classList.contains('e-pdfviewer-ListBox') && !target.classList.contains('e-pdfviewer-signatureformfields')\n            && !((target).className === 'free-text-input' && (target).tagName === 'TEXTAREA')\n            && !isSkip && !((target).className === 'e-pv-hyperlink')) {\n            isSkipped = true;\n        }\n        return isSkipped;\n    };\n    PdfViewerBase.prototype.isMetaKey = function (evt) {\n        return navigator.platform.match('Mac') ? evt.metaKey : evt.ctrlKey;\n    };\n    /**\n     * @private\n     * @param {MouseEvent | TouchEvent} evt - The events.\n     * @returns {void}\n     */\n    PdfViewerBase.prototype.diagramMouseDown = function (evt) {\n        if (evt.which === 3) {\n            this.diagramMouseUp(evt);\n        }\n        var allowServerDataBind = this.pdfViewer.allowServerDataBinding;\n        this.pdfViewer.enableServerDataBinding(false);\n        var touches = null;\n        touches = evt.touches;\n        this.isMouseDown = true;\n        this.isAnnotationAdded = false;\n        this.currentPosition = this.prevPosition = this.getMousePosition(evt);\n        this.eventArgs = {};\n        var isStamp = false;\n        if (this.pdfViewer.tool === 'Stamp') {\n            this.pdfViewer.tool = '';\n            isStamp = true;\n        }\n        var target;\n        if (Browser.isDevice && this.pdfViewer.annotation) {\n            this.activeElements.activePageID = this.pdfViewer.annotation.getEventPageNumber(evt);\n        }\n        var obj = findActiveElement(evt, this, this.pdfViewer);\n        if ((Browser.isDevice && !this.pdfViewer.enableDesktopMode) && (obj && !(obj instanceof PdfFormFieldBase))) {\n            evt.preventDefault();\n        }\n        if (this.pdfViewer.annotation && this.pdfViewer.enableStampAnnotations) {\n            var stampModule = this.pdfViewer.annotationModule.stampAnnotationModule;\n            if (stampModule && stampModule.isNewStampAnnot) {\n                var stampObj = obj;\n                if (!stampObj && this.pdfViewer.selectedItems.annotations[0]) {\n                    stampObj = this.pdfViewer.selectedItems.annotations[0];\n                }\n                if (stampObj) {\n                    this.isViewerMouseDown = false;\n                    stampObj.opacity = this.pdfViewer.stampSettings.opacity;\n                    this.isNewStamp = true;\n                    var opacity = void 0;\n                    if (stampObj.shapeAnnotationType === 'Image') {\n                        opacity = this.pdfViewer.customStampSettings.opacity;\n                    }\n                    else {\n                        opacity = this.pdfViewer.stampSettings.opacity;\n                    }\n                    // eslint-disable-next-line max-len\n                    this.pdfViewer.nodePropertyChange(stampObj, { opacity: opacity });\n                    this.pdfViewer.annotation.stampAnnotationModule.isStampAddMode = false;\n                    if (stampObj.shapeAnnotationType === 'Image' && !this.isAlreadyAdded) {\n                        this.stampAdded = true;\n                        var stampName = stampObj.id;\n                        if (stampModule.currentStampAnnotation && stampModule.currentStampAnnotation.signatureName) {\n                            stampName = stampModule.currentStampAnnotation.signatureName;\n                        }\n                        var isSkip = false;\n                        for (var i = 0; i < this.customStampCollection.length; i++) {\n                            if (this.customStampCollection[i].customStampName === stampName) {\n                                isSkip = true;\n                                break;\n                            }\n                        }\n                        if (isSkip) {\n                            stampName = stampObj.id;\n                        }\n                        stampName = stampModule.customStampName ? stampModule.customStampName : stampModule.currentStampAnnotation.signatureName;\n                        this.customStampCollection.push({ customStampName: stampName, customStampImageSource: stampObj.data });\n                        if (isBlazor()) {\n                            this.pdfViewer._dotnetInstance.invokeMethodAsync(\"UpdateCustomStampCollection\", stampName, stampObj.data);\n                        }\n                    }\n                    if (this.pdfViewer.customStampSettings.enableCustomStamp && this.pdfViewer.customStampSettings.isAddToMenu) {\n                        this.stampAdded = true;\n                    }\n                    this.isAlreadyAdded = false;\n                    stampModule.updateDeleteItems(stampObj.pageIndex, stampObj, stampObj.opacity);\n                    stampModule.resetAnnotation();\n                    stampModule.isNewStampAnnot = false;\n                }\n            }\n        }\n        if (this.isNewSignatureAdded) {\n            this.signatureCount++;\n            this.currentSignatureAnnot = null;\n            var signObject = obj;\n            if (isNullOrUndefined(signObject) && this.pdfViewer.selectedItems.annotations[0]) {\n                signObject = this.pdfViewer.selectedItems.annotations[0];\n            }\n            if (signObject) {\n                this.signatureAdded = true;\n                this.signatureModule.storeSignatureData(signObject.pageIndex, signObject);\n                // eslint-disable-next-line\n                var bounds = { left: signObject.bounds.x, top: signObject.bounds.y, width: signObject.bounds.width, height: signObject.bounds.height };\n                // eslint-disable-next-line max-len\n                this.pdfViewer.fireSignatureAdd(signObject.pageIndex, signObject.signatureName, signObject.shapeAnnotationType, bounds, signObject.opacity, signObject.strokeColor, signObject.thickness, this.signatureModule.saveImageString);\n            }\n            this.isNewSignatureAdded = false;\n        }\n        if (this.pdfViewer.annotationModule) {\n            var freeTextAnnotModule = this.pdfViewer.annotationModule.freeTextAnnotationModule;\n            var canvasPaddingLeft = 5, canvasPaddingWidth = 10;\n            // eslint-disable-next-line\n            if (freeTextAnnotModule.isNewFreeTextAnnot === true) {\n                var canvas = void 0;\n                // eslint-disable-next-line max-len\n                if (evt.target && (evt.target.id.indexOf('_text') > -1 || evt.target.id.indexOf('_annotationCanvas') > -1 || evt.target.classList.contains('e-pv-hyperlink')) && this.pdfViewer.annotation) {\n                    var pageIndex = this.pdfViewer.annotation.getEventPageNumber(evt);\n                    var diagram = document.getElementById(this.pdfViewer.element.id + '_annotationCanvas_' + pageIndex);\n                    if (diagram) {\n                        var canvas1 = diagram.getBoundingClientRect();\n                        var left = canvas1.x ? canvas1.x : canvas1.left;\n                        var top_4 = canvas1.y ? canvas1.y : canvas1.top;\n                        canvas = new Rect(left + canvasPaddingLeft, top_4 + canvasPaddingLeft, canvas1.width - canvasPaddingWidth, canvas1.height - canvasPaddingWidth);\n                    }\n                }\n                if (touches) {\n                    this.mouseX = touches[0].clientX;\n                    this.mouseY = touches[0].clientY;\n                }\n                if (canvas && canvas.containsPoint({ x: this.mouseX, y: this.mouseY }) && freeTextAnnotModule.isNewAddedAnnot) {\n                    var pageIndex = this.pdfViewer.annotation.getEventPageNumber(evt);\n                    if (!this.pdfViewer.freeTextSettings.enableAutoFit) {\n                        var zoomFactor = this.getZoomFactor();\n                        var width = this.currentPosition.x + (freeTextAnnotModule.defautWidth * zoomFactor);\n                        var pageWidth = this.getPageWidth(pageIndex);\n                        if (width >= pageWidth) {\n                            this.currentPosition.x = pageWidth - (freeTextAnnotModule.defautWidth * zoomFactor);\n                            this.currentPosition.x <= 0 ? this.currentPosition.x = canvasPaddingLeft : this.currentPosition.x;\n                            freeTextAnnotModule.defautWidth = (freeTextAnnotModule.defautWidth * zoomFactor) >= pageWidth ? pageWidth - canvasPaddingWidth : freeTextAnnotModule.defautWidth;\n                        }\n                    }\n                    freeTextAnnotModule.addInuptElemet(this.currentPosition, null, pageIndex);\n                    if (this.pdfViewer.toolbar && this.pdfViewer.toolbar.annotationToolbarModule) {\n                        // eslint-disable-next-line\n                        var annotModule = this.pdfViewer.toolbar.annotationToolbarModule;\n                        if (!isBlazor()) {\n                            annotModule.primaryToolbar.deSelectItem(annotModule.freeTextEditItem);\n                        }\n                    }\n                    evt.preventDefault();\n                    freeTextAnnotModule.isNewAddedAnnot = false;\n                }\n            }\n        }\n        var sourceElement = null;\n        if (obj) {\n            sourceElement = obj.wrapper.children[0];\n            if (sourceElement) {\n                target = obj;\n            }\n        }\n        if (!this.tool || (this.tool && !this.tool.drawingObject)) {\n            if (!isStamp) {\n                this.action = this.findToolToActivate(obj, this.currentPosition);\n                // eslint-disable-next-line\n                if (obj && obj.annotationSettings && obj.annotationSettings.isLock) {\n                    if (this.action === 'Select') {\n                        if (!this.pdfViewer.annotationModule.checkAllowedInteractions('Select', obj)) {\n                            this.action = '';\n                        }\n                    }\n                    if (this.action === 'Drag') {\n                        if (!this.pdfViewer.annotationModule.checkAllowedInteractions('Move', obj)) {\n                            this.action = 'Select';\n                        }\n                    }\n                    if (this.action === 'Rotate') {\n                        this.action = 'Select';\n                    }\n                    // eslint-disable-next-line max-len\n                    if (this.action === 'ResizeSouthEast' || this.action === 'ResizeNorthEast' || this.action === 'ResizeNorthWest' || this.action === 'ResizeSouthWest' || this.action === 'ResizeSouth' || // eslint-disable-next-line max-len\n                        this.action === 'ResizeNorth' || this.action === 'ResizeWest' || this.action === 'ResizeEast' || this.action.includes('ConnectorSegmentPoint') || this.action.includes('Leader')) {\n                        if (!this.pdfViewer.annotationModule.checkAllowedInteractions('Resize', obj)) {\n                            this.action = 'Select';\n                        }\n                    }\n                }\n                this.tool = this.getTool(this.action);\n                if (!this.tool) {\n                    this.action = this.pdfViewer.tool || 'Select';\n                    this.tool = this.getTool(this.action);\n                }\n            }\n            else {\n                this.action = 'Select';\n                this.tool = this.getTool(this.action);\n            }\n        }\n        this.getMouseEventArgs(this.currentPosition, this.eventArgs, evt);\n        this.eventArgs.position = this.currentPosition;\n        if (this.tool) {\n            this.isAnnotationMouseDown = false;\n            this.isFormFieldMouseDown = false;\n            this.isAnnotationMouseMove = false;\n            this.isFormFieldMouseMove = false;\n            this.tool.mouseDown(this.eventArgs);\n            this.isAnnotationDrawn = true;\n            this.signatureAdded = true;\n        }\n        if (this.pdfViewer.annotation) {\n            this.pdfViewer.annotation.onAnnotationMouseDown();\n        }\n        if (this.pdfViewer.selectedItems && this.pdfViewer.selectedItems.formFields.length === 1) {\n            if (!isNullOrUndefined(this.pdfViewer.toolbar) && !isNullOrUndefined(this.pdfViewer.toolbar.formDesignerToolbarModule)) {\n                this.pdfViewer.toolbar.formDesignerToolbarModule.showHideDeleteIcon(true);\n            }\n        }\n        var signatureFieldAnnotation = this.pdfViewer.selectedItems.annotations.length === 1 ? this.pdfViewer.nameTable[this.pdfViewer.selectedItems.annotations[0].id.split('_')[0] + '_content'] : null;\n        if (!signatureFieldAnnotation) {\n            signatureFieldAnnotation = this.pdfViewer.selectedItems.annotations.length === 1 ? this.pdfViewer.nameTable[this.pdfViewer.selectedItems.annotations[0].id] : null;\n        }\n        // eslint-disable-next-line max-len\n        if (this.eventArgs && this.eventArgs.source && (this.eventArgs.source.formFieldAnnotationType || signatureFieldAnnotation) && !this.pdfViewer.designerMode) {\n            var currentObject = void 0;\n            if (signatureFieldAnnotation) {\n                currentObject = this.pdfViewer.nameTable[this.pdfViewer.selectedItems.annotations[0].id.split('_')[0]];\n            }\n            else {\n                currentObject = this.eventArgs.source;\n            }\n            if (!currentObject) {\n                currentObject = this.pdfViewer.formFieldCollections[this.pdfViewer.formFieldCollections.findIndex(function (el) { return el.id === signatureFieldAnnotation.id; })];\n            }\n            if (currentObject) {\n                // eslint-disable-next-line\n                var field = {\n                    // eslint-disable-next-line max-len\n                    name: currentObject.name, id: currentObject.id, fontFamily: currentObject.fontFamily, fontSize: currentObject.fontSize, fontStyle: currentObject.fontStyle,\n                    // eslint-disable-next-line\n                    color: currentObject.color, value: currentObject.value, type: currentObject.formFieldAnnotationType ? currentObject.formFieldAnnotationType : currentObject.type, backgroundColor: currentObject.backgroundColor, alignment: currentObject.alignment\n                };\n                var target_1 = document.getElementById(currentObject.id);\n                target_1 = target_1 ? target_1 : (document.getElementById(currentObject.id + '_content_html_element') ? document.getElementById(currentObject.id + '_content_html_element').children[0].children[0] : null);\n                if (target_1) {\n                    this.currentTarget = target_1;\n                    this.pdfViewer.fireFormFieldClickEvent('formFieldClicked', field, false, evt.button === 0);\n                }\n            }\n        }\n        this.initialEventArgs = { source: this.eventArgs.source, sourceWrapper: this.eventArgs.sourceWrapper };\n        this.initialEventArgs.position = this.currentPosition;\n        this.initialEventArgs.info = this.eventArgs.info;\n        this.pdfViewer.enableServerDataBinding(allowServerDataBind, true);\n    };\n    /**\n     * @private\n     */\n    // eslint-disable-next-line\n    PdfViewerBase.prototype.exportAnnotationsAsObject = function () {\n        var _this = this;\n        if (this.pdfViewer.annotationModule) {\n            var isAnnotations = this.updateExportItem();\n            if (isAnnotations) {\n                return new Promise(function (resolve, reject) {\n                    _this.createRequestForExportAnnotations(true, AnnotationDataFormat.Json).then(function (value) {\n                        resolve(value);\n                    });\n                });\n            }\n        }\n    };\n    /**\n     * @private\n     * @param {string} type - The type.\n     */\n    // eslint-disable-next-line\n    PdfViewerBase.prototype.getItemFromSessionStorage = function (type) {\n        if (this.isStorageExceed) {\n            return this.formFieldStorage[this.documentId + type];\n        }\n        else {\n            return window.sessionStorage.getItem(this.documentId + type);\n        }\n    };\n    /**\n     * @param textDiv\n     * @param left\n     * @param top\n     * @param fontHeight\n     * @param width\n     * @param height\n     * @param isPrint\n     * @param textDiv\n     * @param left\n     * @param top\n     * @param fontHeight\n     * @param width\n     * @param height\n     * @param isPrint\n     * @param textDiv\n     * @param left\n     * @param top\n     * @param fontHeight\n     * @param width\n     * @param height\n     * @param isPrint\n     * @param textDiv\n     * @param left\n     * @param top\n     * @param fontHeight\n     * @param width\n     * @param height\n     * @param isPrint\n     * @param textDiv\n     * @param left\n     * @param top\n     * @param fontHeight\n     * @param width\n     * @param height\n     * @param isPrint\n     * @private\n     */\n    // eslint-disable-next-line max-len\n    PdfViewerBase.prototype.setStyleToTextDiv = function (textDiv, left, top, fontHeight, width, height, isPrint) {\n        var zoomvalue = this.getZoomFactor();\n        if (isPrint) {\n            zoomvalue = 1;\n            textDiv.style.position = 'absolute';\n        }\n        textDiv.style.left = left * zoomvalue + 'px';\n        textDiv.style.top = top * zoomvalue + 'px';\n        textDiv.style.height = height * zoomvalue + 'px';\n        textDiv.style.width = width * zoomvalue + 'px';\n        textDiv.style.margin = '0px';\n        if (fontHeight > 0) {\n            textDiv.style.fontSize = fontHeight * zoomvalue + 'px';\n        }\n    };\n    /**\n     * @param number\n     * @private\n     */\n    // eslint-disable-next-line\n    PdfViewerBase.prototype.ConvertPointToPixel = function (number) {\n        return (number * (96 / 72));\n    };\n    /**\n     * @private\n     */\n    // eslint-disable-next-line\n    PdfViewerBase.prototype.setItemInSessionStorage = function (formFieldsData, type) {\n        // eslint-disable-next-line\n        var formFieldsSize = Math.round(JSON.stringify(formFieldsData).length / 1024);\n        if (formFieldsSize > 4500) {\n            this.isStorageExceed = true;\n            if (this.pdfViewer.formFieldsModule) {\n                this.pdfViewer.formFieldsModule.clearFormFieldStorage();\n            }\n        }\n        if (this.isStorageExceed) {\n            this.formFieldStorage[this.documentId + type] = JSON.stringify(formFieldsData);\n        }\n        else {\n            window.sessionStorage.setItem(this.documentId + type, JSON.stringify(formFieldsData));\n        }\n    };\n    /**\n     * @private\n     */\n    // eslint-disable-next-line\n    PdfViewerBase.prototype.exportFormFieldsAsObject = function () {\n        var _this = this;\n        if (this.pdfViewer.formFieldsModule) {\n            return new Promise(function (resolve, reject) {\n                _this.createRequestForExportFormfields(true).then(function (value) {\n                    resolve(value);\n                });\n            });\n        }\n    };\n    /**\n     * @param importData\n     * @param annotationDataFormat\n     * @param isXfdf\n     * @param importData\n     * @param annotationDataFormat\n     * @param isXfdf\n     * @param importData\n     * @param annotationDataFormat\n     * @param isXfdf\n     * @private\n     */\n    // eslint-disable-next-line\n    PdfViewerBase.prototype.importAnnotations = function (importData, annotationDataFormat, isXfdf) {\n        if (this.pdfViewer.annotationModule) {\n            this.createRequestForImportAnnotations(importData, annotationDataFormat, isXfdf);\n        }\n    };\n    /**\n     * @private\n     * @param {AnnotationDataFormat} annotationDataFormat - The annotationDataFormat.\n     * @returns {void}\n     */\n    PdfViewerBase.prototype.exportAnnotations = function (annotationDataFormat) {\n        if (this.pdfViewer.annotationModule) {\n            var isAnnotations = this.updateExportItem();\n            if (isAnnotations) {\n                this.createRequestForExportAnnotations(false, annotationDataFormat);\n            }\n        }\n    };\n    /**\n     * @param isObject\n     * @param annotationDataFormat\n     * @param isBase64String\n     * @private\n     */\n    // eslint-disable-next-line\n    PdfViewerBase.prototype.createRequestForExportAnnotations = function (isObject, annotationDataFormat, isBase64String) {\n        var _this = this;\n        var proxy = null;\n        proxy = this;\n        var promise = new Promise(function (resolve, reject) {\n            // eslint-disable-next-line\n            var jsonObject;\n            if (annotationDataFormat === 'Json') {\n                // eslint-disable-next-line max-len\n                jsonObject = { hashId: proxy.hashId, action: 'ExportAnnotations', pdfAnnotation: proxy.createAnnotationJsonData(), elementId: proxy.pdfViewer.element.id, annotationDataFormat: annotationDataFormat, uniqueId: proxy.documentId };\n                proxy.pdfViewer.fireExportStart(jsonObject.pdfAnnotation);\n            }\n            else {\n                jsonObject = _this.constructJsonDownload();\n                jsonObject.annotationDataFormat = annotationDataFormat;\n                // eslint-disable-next-line\n                jsonObject['action'] = 'ExportAnnotations';\n                proxy.pdfViewer.fireExportStart(jsonObject);\n            }\n            if (proxy.jsonDocumentId) {\n                // eslint-disable-next-line\n                jsonObject.document = proxy.jsonDocumentId;\n            }\n            var url = proxy.pdfViewer.serviceUrl + '/' + proxy.pdfViewer.serverActionSettings.exportAnnotations;\n            proxy.exportAnnotationRequestHandler = new AjaxHandler(_this.pdfViewer);\n            proxy.exportAnnotationRequestHandler.url = url;\n            proxy.exportAnnotationRequestHandler.mode = true;\n            proxy.exportAnnotationRequestHandler.responseType = 'text';\n            proxy.exportAnnotationRequestHandler.send(jsonObject);\n            // eslint-disable-next-line\n            proxy.exportAnnotationRequestHandler.onSuccess = function (result) {\n                // eslint-disable-next-line\n                var data = result.data;\n                if (data) {\n                    if (typeof data === 'object') {\n                        data = JSON.parse(data);\n                    }\n                    if (data) {\n                        var isCancel = proxy.pdfViewer.fireAjaxRequestSuccess(proxy.pdfViewer.serverActionSettings.exportAnnotations, data);\n                        if (isObject || (isBase64String && !isBlazor())) {\n                            if (data.split('base64,')[1]) {\n                                var exportObject = data;\n                                // eslint-disable-next-line \n                                var annotationJson = atob(data.split(',')[1]);\n                                if (isObject) {\n                                    if (jsonObject.annotationDataFormat === 'Json') {\n                                        exportObject = JSON.parse(annotationJson);\n                                    }\n                                    else {\n                                        exportObject = annotationJson;\n                                    }\n                                }\n                                if (proxy.pdfViewer.exportAnnotationFileName !== null) {\n                                    proxy.pdfViewer.fireExportSuccess(exportObject, proxy.pdfViewer.exportAnnotationFileName);\n                                }\n                                else {\n                                    proxy.pdfViewer.fireExportSuccess(exportObject, proxy.pdfViewer.fileName);\n                                }\n                                proxy.updateDocumentAnnotationCollections();\n                                if (isBase64String) {\n                                    resolve(data);\n                                }\n                                else {\n                                    resolve(annotationJson);\n                                }\n                            }\n                            else {\n                                // eslint-disable-next-line max-len\n                                proxy.pdfViewer.fireExportFailed(jsonObject.pdfAnnotation, proxy.pdfViewer.localeObj.getConstant('Export Failed'));\n                            }\n                        }\n                        else {\n                            if (annotationDataFormat === 'Json') {\n                                if (data.split('base64,')[1]) {\n                                    if (!isCancel) {\n                                        var blobUrl = proxy.createBlobUrl(data.split('base64,')[1], 'application/json');\n                                        if (Browser.isIE || Browser.info.name === 'edge') {\n                                            if (proxy.pdfViewer.exportAnnotationFileName !== null) {\n                                                // eslint-disable-next-line max-len\n                                                window.navigator.msSaveOrOpenBlob(blobUrl, proxy.pdfViewer.exportAnnotationFileName.split('.')[0] + '.json');\n                                            }\n                                            else {\n                                                window.navigator.msSaveOrOpenBlob(blobUrl, proxy.pdfViewer.fileName.split('.')[0] + '.json');\n                                            }\n                                        }\n                                        else {\n                                            proxy.downloadExportAnnotationJson(blobUrl);\n                                        }\n                                        proxy.updateDocumentAnnotationCollections();\n                                    }\n                                    else {\n                                        return data;\n                                    }\n                                }\n                                else {\n                                    if (isBlazor()) {\n                                        var promise_2 = this.pdfViewer._dotnetInstance.invokeMethodAsync('GetLocaleText', 'PdfViewer_ExportFailed');\n                                        promise_2.then(function (value) {\n                                            proxy.openImportExportNotificationPopup(value);\n                                        });\n                                    }\n                                    else {\n                                        proxy.openImportExportNotificationPopup(proxy.pdfViewer.localeObj.getConstant('Export Failed'));\n                                    }\n                                    // eslint-disable-next-line max-len\n                                    proxy.pdfViewer.fireExportFailed(jsonObject.pdfAnnotation, proxy.pdfViewer.localeObj.getConstant('Export Failed'));\n                                }\n                            }\n                            else {\n                                if (data.split('base64,')[1]) {\n                                    if (!isCancel) {\n                                        var blobUrl = proxy.createBlobUrl(data.split('base64,')[1], 'application/vnd.adobe.xfdf');\n                                        if (Browser.isIE || Browser.info.name === 'edge') {\n                                            window.navigator.msSaveOrOpenBlob(blobUrl, proxy.pdfViewer.fileName.split('.')[0] + '.xfdf');\n                                        }\n                                        else {\n                                            proxy.downloadExportedXFdfAnnotation(blobUrl);\n                                        }\n                                    }\n                                    else {\n                                        return data;\n                                    }\n                                }\n                                else {\n                                    if (isBlazor()) {\n                                        var promise_3 = this.pdfViewer._dotnetInstance.invokeMethodAsync('GetLocaleText', 'PdfViewer_ExportFailed');\n                                        promise_3.then(function (value) {\n                                            proxy.openImportExportNotificationPopup(value);\n                                        });\n                                    }\n                                    else {\n                                        proxy.openImportExportNotificationPopup(proxy.pdfViewer.localeObj.getConstant('Export Failed'));\n                                    }\n                                    // eslint-disable-next-line max-len\n                                    proxy.pdfViewer.fireExportFailed(jsonObject, proxy.pdfViewer.localeObj.getConstant('Export Failed'));\n                                }\n                            }\n                        }\n                    }\n                    if (typeof data !== 'string') {\n                        try {\n                            if (typeof data === 'string') {\n                                proxy.onControlError(500, data, proxy.pdfViewer.serverActionSettings.exportAnnotations);\n                                data = null;\n                            }\n                        }\n                        catch (error) {\n                            // eslint-disable-next-line max-len\n                            proxy.pdfViewer.fireExportFailed(jsonObject.pdfAnnotation, proxy.pdfViewer.localeObj.getConstant('Export Failed'));\n                            proxy.onControlError(500, data, proxy.pdfViewer.serverActionSettings.exportAnnotations);\n                            data = null;\n                        }\n                    }\n                }\n                else {\n                    var fileName = void 0;\n                    if (proxy.pdfViewer.exportAnnotationFileName !== null) {\n                        fileName = proxy.pdfViewer.exportAnnotationFileName;\n                    }\n                    else {\n                        fileName = proxy.pdfViewer.fileName;\n                    }\n                    proxy.pdfViewer.fireExportSuccess('Exported data saved in server side successfully', fileName);\n                }\n            };\n            // eslint-disable-next-line\n            proxy.exportAnnotationRequestHandler.onFailure = function (result) {\n                proxy.pdfViewer.fireExportFailed(jsonObject.pdfAnnotation, result.statusText);\n            };\n            // eslint-disable-next-line\n            proxy.exportAnnotationRequestHandler.onError = function (result) {\n                proxy.pdfViewer.fireExportFailed(jsonObject.pdfAnnotation, result.statusText);\n            };\n        });\n        if (isObject || isBase64String) {\n            return promise;\n        }\n        else {\n            return true;\n        }\n    };\n    // eslint-disable-next-line\n    PdfViewerBase.prototype.createRequestForImportAnnotations = function (importData, annotationDataFormat, isXfdf) {\n        var jsonObject;\n        var proxy = null;\n        proxy = this;\n        if (typeof importData === 'string' && annotationDataFormat === 'Json' && importData.indexOf(\".json\") === -1) {\n            importData = importData.split(',')[1] ? importData.split(',')[1] : importData.split(',')[0];\n            importData = JSON.parse(decodeURIComponent(escape(atob(importData))));\n        }\n        if (typeof importData === 'object') {\n            if (!isXfdf) {\n                this.isJsonImported = true;\n            }\n            else {\n                this.isJsonImported = false;\n            }\n            proxy.reRenderAnnotations(importData.pdfAnnotation);\n            proxy.isImportedAnnotation = true;\n            proxy.updateDocumentEditedProperty(true);\n            if (!this.isAddAnnotation) {\n                proxy.pdfViewer.fireImportSuccess(importData.pdfAnnotation);\n            }\n        }\n        else {\n            proxy.pdfViewer.fireImportStart(importData);\n            if (annotationDataFormat === 'Json') {\n                // eslint-disable-next-line max-len\n                jsonObject = { fileName: importData, action: 'ImportAnnotations', elementId: proxy.pdfViewer.element.id, hashId: proxy.hashId, uniqueId: proxy.documentId };\n            }\n            else {\n                if (!isXfdf) {\n                    importData = btoa(importData);\n                }\n                importData = importData.split(',')[1] ? importData.split(',')[1] : importData.split(',')[0];\n                // eslint-disable-next-line max-len\n                jsonObject = { importedData: importData, action: 'ImportAnnotations', elementId: proxy.pdfViewer.element.id, hashId: proxy.hashId, uniqueId: proxy.documentId };\n            }\n            if (proxy.jsonDocumentId) {\n                // eslint-disable-next-line\n                jsonObject.document = proxy.jsonDocumentId;\n            }\n            var url = proxy.pdfViewer.serviceUrl + '/' + proxy.pdfViewer.serverActionSettings.importAnnotations;\n            proxy.importAnnotationRequestHandler = new AjaxHandler(proxy.pdfViewer);\n            proxy.importAnnotationRequestHandler.url = url;\n            proxy.importAnnotationRequestHandler.mode = true;\n            proxy.importAnnotationRequestHandler.responseType = 'text';\n            proxy.importAnnotationRequestHandler.send(jsonObject);\n            // eslint-disable-next-line\n            proxy.importAnnotationRequestHandler.onSuccess = function (result) {\n                // eslint-disable-next-line\n                var data = result.data;\n                if (data) {\n                    if (typeof data !== 'object') {\n                        try {\n                            data = JSON.parse(data);\n                            if (typeof data !== 'object') {\n                                proxy.onControlError(500, data, proxy.pdfViewer.serverActionSettings.importAnnotations);\n                                data = null;\n                            }\n                        }\n                        catch (error) {\n                            proxy.pdfViewer.fireImportFailed(importData, proxy.pdfViewer.localeObj.getConstant('File not found'));\n                            if (isBlazor()) {\n                                var promise = this.pdfViewer._dotnetInstance.invokeMethodAsync('GetLocaleText', 'PdfViewer_FileNotFound');\n                                promise.then(function (value) {\n                                    proxy.openImportExportNotificationPopup(value);\n                                });\n                            }\n                            else {\n                                proxy.openImportExportNotificationPopup(proxy.pdfViewer.localeObj.getConstant('File not found'));\n                            }\n                            proxy.onControlError(500, data, proxy.pdfViewer.serverActionSettings.importAnnotations);\n                            data = null;\n                        }\n                    }\n                    if (data) {\n                        proxy.pdfViewer.fireAjaxRequestSuccess(proxy.pdfViewer.serverActionSettings.importAnnotations, data);\n                        if (data.pdfAnnotation) {\n                            proxy.reRenderAnnotations(data.pdfAnnotation);\n                            proxy.isImportedAnnotation = true;\n                            proxy.updateDocumentEditedProperty(true);\n                            proxy.pdfViewer.fireImportSuccess(data.pdfAnnotation);\n                        }\n                    }\n                }\n            };\n            // eslint-disable-next-line\n            proxy.importAnnotationRequestHandler.onFailure = function (result) {\n                proxy.pdfViewer.fireImportFailed(importData, result.statusText);\n            };\n            // eslint-disable-next-line\n            proxy.importAnnotationRequestHandler.onError = function (result) {\n                proxy.pdfViewer.fireImportFailed(importData, result.statusText);\n            };\n        }\n    };\n    /**\n     * @private\n     * @param {string} errorDetails - The error details.\n     * @returns {void}\n     */\n    PdfViewerBase.prototype.openImportExportNotificationPopup = function (errorDetails) {\n        if (this.pdfViewer.showNotificationDialog) {\n            this.textLayer.createNotificationPopup(errorDetails);\n        }\n    };\n    // eslint-disable-next-line\n    PdfViewerBase.prototype.reRenderAnnotations = function (annotation) {\n        if (annotation) {\n            this.isImportAction = true;\n            var count = void 0;\n            if (this.isImportedAnnotation) {\n                this.importedAnnotation = this.combineImportedData(this.importedAnnotation, annotation);\n            }\n            else {\n                if (this.pageCount > 0) {\n                    this.importedAnnotation = annotation;\n                }\n            }\n            if (!this.isImportedAnnotation) {\n                count = 0;\n            }\n            for (var i = 0; i < this.pageCount; i++) {\n                if (annotation[i]) {\n                    // eslint-disable-next-line\n                    var importPageCollections = [];\n                    // eslint-disable-next-line\n                    var textMarkupObject = window.sessionStorage.getItem(this.documentId + '_annotations_textMarkup');\n                    // eslint-disable-next-line\n                    var shapeObject = window.sessionStorage.getItem(this.documentId + '_annotations_shape');\n                    // eslint-disable-next-line\n                    var measureShapeObject = window.sessionStorage.getItem(this.documentId + '_annotations_shape_measure');\n                    // eslint-disable-next-line\n                    var stampObject = window.sessionStorage.getItem(this.documentId + '_annotations_stamp');\n                    // eslint-disable-next-line\n                    var stickyObject = window.sessionStorage.getItem(this.documentId + '_annotations_sticky');\n                    // eslint-disable-next-line\n                    var freeTextObject = window.sessionStorage.getItem(this.documentId + '_annotations_freetext');\n                    // eslint-disable-next-line\n                    var signatureObject = window.sessionStorage.getItem(this.documentId + '_annotations_sign');\n                    // eslint-disable-next-line\n                    var inkObject = window.sessionStorage.getItem(this.documentId + '_annotations_ink');\n                    if (this.isStorageExceed) {\n                        textMarkupObject = this.annotationStorage[this.documentId + '_annotations_textMarkup'];\n                        shapeObject = this.annotationStorage[this.documentId + '_annotations_shape'];\n                        measureShapeObject = this.annotationStorage[this.documentId + '_annotations_shape_measure'];\n                        stampObject = this.annotationStorage[this.documentId + '_annotations_stamp'];\n                        stickyObject = this.annotationStorage[this.documentId + '_annotations_sticky'];\n                        freeTextObject = this.annotationStorage[this.documentId + '_annotations_freetext'];\n                        inkObject = this.annotationStorage[this.documentId + '_annotations_ink'];\n                    }\n                    var annotationCanvas = this.getElement('_annotationCanvas_' + i);\n                    if (annotationCanvas) {\n                        this.drawPageAnnotations(annotation[i], i);\n                        if (this.isImportedAnnotation) {\n                            var isAdded = false;\n                            for (var j = 0; j < this.annotationPageList.length; j++) {\n                                if (this.annotationPageList[j] === i) {\n                                    isAdded = true;\n                                }\n                            }\n                            if (isAdded) {\n                                this.annotationPageList[count] = i;\n                                count = count + 1;\n                            }\n                        }\n                        else {\n                            this.annotationPageList[count] = i;\n                            count = count + 1;\n                        }\n                    }\n                    if (annotation[i].textMarkupAnnotation && annotation[i].textMarkupAnnotation.length !== 0) {\n                        if (textMarkupObject) {\n                            var annotObject = JSON.parse(textMarkupObject);\n                            // eslint-disable-next-line max-len\n                            annotation[i].textMarkupAnnotation = this.checkAnnotationCollections(annotObject, annotation[i].textMarkupAnnotation, i);\n                        }\n                        annotation[i].textMarkupAnnotation = this.checkAnnotationCommentsCollections(annotation[i].textMarkupAnnotation, i);\n                        importPageCollections.textMarkupAnnotation = annotation[i].textMarkupAnnotation;\n                        if (annotation[i].textMarkupAnnotation.length !== 0) {\n                            // eslint-disable-next-line max-len\n                            this.pdfViewer.annotationModule.stickyNotesAnnotationModule.renderAnnotationComments(annotation[i].textMarkupAnnotation, i);\n                            for (var j = 0; j < annotation[i].textMarkupAnnotation.length; j++) {\n                                // eslint-disable-next-line max-len\n                                this.pdfViewer.annotationModule.stickyNotesAnnotationModule.updateCollections(this.pdfViewer.annotationModule.textMarkupAnnotationModule.updateTextMarkupAnnotationCollections(annotation[i].textMarkupAnnotation[j], i));\n                            }\n                        }\n                    }\n                    if (annotation[i].shapeAnnotation && annotation[i].shapeAnnotation.length !== 0) {\n                        if (shapeObject) {\n                            var annotObject = JSON.parse(shapeObject);\n                            annotation[i].shapeAnnotation = this.checkAnnotationCollections(annotObject, annotation[i].shapeAnnotation, i);\n                        }\n                        annotation[i].shapeAnnotation = this.checkAnnotationCommentsCollections(annotation[i].shapeAnnotation, i);\n                        importPageCollections.shapeAnnotation = annotation[i].shapeAnnotation;\n                        if (annotation[i].shapeAnnotation.length !== 0) {\n                            // eslint-disable-next-line max-len\n                            this.pdfViewer.annotationModule.stickyNotesAnnotationModule.renderAnnotationComments(annotation[i].shapeAnnotation, i);\n                            for (var j = 0; j < annotation[i].shapeAnnotation.length; j++) {\n                                // eslint-disable-next-line max-len\n                                this.pdfViewer.annotationModule.stickyNotesAnnotationModule.updateCollections(this.pdfViewer.annotationModule.shapeAnnotationModule.updateShapeAnnotationCollections(annotation[i].shapeAnnotation[j], i));\n                            }\n                        }\n                    }\n                    if (annotation[i].measureShapeAnnotation && annotation[i].measureShapeAnnotation.length !== 0) {\n                        if (measureShapeObject) {\n                            var annotObject = JSON.parse(measureShapeObject);\n                            // eslint-disable-next-line max-len\n                            annotation[i].measureShapeAnnotation = this.checkAnnotationCollections(annotObject, annotation[i].measureShapeAnnotation, i);\n                        }\n                        // eslint-disable-next-line max-len\n                        annotation[i].measureShapeAnnotation = this.checkAnnotationCommentsCollections(annotation[i].measureShapeAnnotation, i);\n                        importPageCollections.measureShapeAnnotation = annotation[i].measureShapeAnnotation;\n                        if (annotation[i].measureShapeAnnotation.length !== 0) {\n                            // eslint-disable-next-line max-len\n                            this.pdfViewer.annotationModule.stickyNotesAnnotationModule.renderAnnotationComments(annotation[i].measureShapeAnnotation, i);\n                            for (var j = 0; j < annotation[i].measureShapeAnnotation.length; j++) {\n                                // eslint-disable-next-line max-len\n                                this.pdfViewer.annotationModule.stickyNotesAnnotationModule.updateCollections(this.pdfViewer.annotationModule.measureAnnotationModule.updateMeasureAnnotationCollections(annotation[i].measureShapeAnnotation[j], i));\n                            }\n                        }\n                    }\n                    if (annotation[i].stampAnnotations && annotation[i].stampAnnotations.length !== 0) {\n                        if (stampObject) {\n                            var annotObject = JSON.parse(stampObject);\n                            // eslint-disable-next-line max-len\n                            annotation[i].stampAnnotations = this.checkAnnotationCollections(annotObject, annotation[i].stampAnnotations, i);\n                        }\n                        annotation[i].stampAnnotations = this.checkAnnotationCommentsCollections(annotation[i].stampAnnotations, i);\n                        importPageCollections.stampAnnotations = annotation[i].stampAnnotations;\n                        if (annotation[i].stampAnnotations.length !== 0) {\n                            // eslint-disable-next-line max-len\n                            this.pdfViewer.annotationModule.stickyNotesAnnotationModule.renderAnnotationComments(annotation[i].stampAnnotations, i);\n                            for (var j = 0; j < annotation[i].stampAnnotations.length; j++) {\n                                // eslint-disable-next-line max-len\n                                this.pdfViewer.annotationModule.stickyNotesAnnotationModule.updateCollections(this.pdfViewer.annotationModule.stampAnnotationModule.updateStampAnnotationCollections(annotation[i].stampAnnotations[j], i));\n                            }\n                        }\n                    }\n                    if (annotation[i].stickyNotesAnnotation && annotation[i].stickyNotesAnnotation.length !== 0) {\n                        if (stickyObject) {\n                            var annotObject = JSON.parse(stickyObject);\n                            // eslint-disable-next-line max-len\n                            annotation[i].stickyNotesAnnotation = this.checkAnnotationCollections(annotObject, annotation[i].stickyNotesAnnotation, i);\n                        }\n                        // eslint-disable-next-line max-len\n                        annotation[i].stickyNotesAnnotation = this.checkAnnotationCommentsCollections(annotation[i].stickyNotesAnnotation, i);\n                        importPageCollections.stickyNotesAnnotation = annotation[i].stickyNotesAnnotation;\n                        if (annotation[i].stickyNotesAnnotation.length !== 0) {\n                            // eslint-disable-next-line max-len\n                            this.pdfViewer.annotationModule.stickyNotesAnnotationModule.renderAnnotationComments(annotation[i].stickyNotesAnnotation, i);\n                            for (var j = 0; j < annotation[i].stickyNotesAnnotation.length; j++) {\n                                // eslint-disable-next-line max-len\n                                this.pdfViewer.annotationModule.stickyNotesAnnotationModule.updateCollections(this.pdfViewer.annotationModule.stickyNotesAnnotationModule.updateStickyNotesAnnotationCollections(annotation[i].stickyNotesAnnotation[j], i));\n                            }\n                        }\n                    }\n                    if (annotation[i].freeTextAnnotation && annotation[i].freeTextAnnotation.length !== 0) {\n                        if (freeTextObject) {\n                            var annotObject = JSON.parse(freeTextObject);\n                            // eslint-disable-next-line max-len\n                            annotation[i].freeTextAnnotation = this.checkAnnotationCollections(annotObject, annotation[i].freeTextAnnotation, i);\n                        }\n                        annotation[i].freeTextAnnotation = this.checkAnnotationCommentsCollections(annotation[i].freeTextAnnotation, i);\n                        importPageCollections.freeTextAnnotation = annotation[i].freeTextAnnotation;\n                        if (annotation[i].freeTextAnnotation.length !== 0) {\n                            // eslint-disable-next-line max-len\n                            this.pdfViewer.annotationModule.stickyNotesAnnotationModule.renderAnnotationComments(annotation[i].freeTextAnnotation, i);\n                            for (var j = 0; j < annotation[i].freeTextAnnotation.length; j++) {\n                                // eslint-disable-next-line max-len\n                                this.pdfViewer.annotationModule.stickyNotesAnnotationModule.updateCollections(this.pdfViewer.annotationModule.freeTextAnnotationModule.updateFreeTextAnnotationCollections(annotation[i].freeTextAnnotation[j], i));\n                            }\n                        }\n                    }\n                    if (annotation[i].signatureAnnotation && annotation[i].signatureAnnotation.length !== 0) {\n                        if (signatureObject) {\n                            var annotObject = JSON.parse(signatureObject);\n                            // eslint-disable-next-line max-len\n                            annotation[i].signatureAnnotation = this.checkSignatureCollections(annotObject, annotation[i].signatureAnnotation, i);\n                        }\n                        importPageCollections.signatureAnnotation = annotation[i].signatureAnnotation;\n                        if (annotation[i].signatureAnnotation.length !== 0) {\n                            for (var j = 0; j < annotation[i].signatureAnnotation.length; j++) {\n                                // eslint-disable-next-line max-len\n                                this.pdfViewer.annotationModule.stickyNotesAnnotationModule.updateCollections(this.signatureModule.updateSignatureCollections(annotation[i].signatureAnnotation[j], i), true);\n                            }\n                        }\n                    }\n                    if (annotation[i].signatureInkAnnotation && annotation[i].signatureInkAnnotation.length !== 0) {\n                        if (inkObject) {\n                            var annotObject = JSON.parse(inkObject);\n                            // eslint-disable-next-line max-len\n                            annotation[i].signatureInkAnnotation = this.checkAnnotationCollections(annotObject, annotation[i].signatureInkAnnotation, i);\n                        }\n                        // eslint-disable-next-line max-len\n                        annotation[i].signatureInkAnnotation = this.checkAnnotationCommentsCollections(annotation[i].signatureInkAnnotation, i);\n                        importPageCollections.signatureInkAnnotation = annotation[i].signatureInkAnnotation;\n                        if (annotation[i].signatureInkAnnotation.length !== 0) {\n                            // eslint-disable-next-line max-len\n                            this.pdfViewer.annotationModule.stickyNotesAnnotationModule.renderAnnotationComments(annotation[i].signatureInkAnnotation, i);\n                            for (var j = 0; j < annotation[i].signatureInkAnnotation.length; j++) {\n                                // eslint-disable-next-line max-len\n                                // this.pdfViewer.annotationModule.stickyNotesAnnotationModule.updateCollections(this.pdfViewer.annotationModule.freeTextAnnotationModule.updateFreeTextAnnotationCollections(annotation[i].freeTextAnnotation[j], i));\n                            }\n                        }\n                    }\n                    this.updateImportedAnnotationsInDocumentCollections(importPageCollections, i);\n                }\n            }\n            if (this.pageCount > 0) {\n                // eslint-disable-next-line max-len\n                if (this.pdfViewer.annotationModule.stickyNotesAnnotationModule && !this.pdfViewer.annotationModule.stickyNotesAnnotationModule.isAnnotationRendered) {\n                    // eslint-disable-next-line\n                    var annotationCollection = this.createAnnotationsCollection();\n                    if (annotationCollection) {\n                        // eslint-disable-next-line max-len\n                        this.documentAnnotationCollections = this.pdfViewer.annotationModule.stickyNotesAnnotationModule.updateAnnotationsInDocumentCollections(this.importedAnnotation, annotationCollection);\n                    }\n                }\n            }\n        }\n    };\n    /**\n     * @param importedAnnotations\n     * @param pageNumber\n     * @private\n     */\n    // eslint-disable-next-line\n    PdfViewerBase.prototype.updateImportedAnnotationsInDocumentCollections = function (importedAnnotations, pageNumber) {\n        if (this.documentAnnotationCollections) {\n            // eslint-disable-next-line\n            var documentAnnotationCollection = this.documentAnnotationCollections;\n            // eslint-disable-next-line\n            var pageCollections = documentAnnotationCollection[pageNumber];\n            if (pageCollections) {\n                if (importedAnnotations.textMarkupAnnotation && importedAnnotations.textMarkupAnnotation.length !== 0) {\n                    for (var i = 0; i < importedAnnotations.textMarkupAnnotation.length; i++) {\n                        pageCollections.textMarkupAnnotation.push(importedAnnotations.textMarkupAnnotation[i]);\n                    }\n                }\n                if (importedAnnotations.shapeAnnotation && importedAnnotations.shapeAnnotation.length !== 0) {\n                    for (var i = 0; i < importedAnnotations.shapeAnnotation.length; i++) {\n                        pageCollections.shapeAnnotation.push(importedAnnotations.shapeAnnotation[i]);\n                    }\n                }\n                if (importedAnnotations.measureShapeAnnotation && importedAnnotations.measureShapeAnnotation.length !== 0) {\n                    for (var i = 0; i < importedAnnotations.measureShapeAnnotation.length; i++) {\n                        pageCollections.measureShapeAnnotation.push(importedAnnotations.measureShapeAnnotation[i]);\n                    }\n                }\n                if (importedAnnotations.stampAnnotations && importedAnnotations.stampAnnotations.length !== 0) {\n                    for (var i = 0; i < importedAnnotations.stampAnnotations.length; i++) {\n                        pageCollections.stampAnnotations.push(importedAnnotations.stampAnnotations[i]);\n                    }\n                }\n                if (importedAnnotations.stickyNotesAnnotation && importedAnnotations.stickyNotesAnnotation.length !== 0) {\n                    for (var i = 0; i < importedAnnotations.stickyNotesAnnotation.length; i++) {\n                        pageCollections.stickyNotesAnnotation.push(importedAnnotations.stickyNotesAnnotation[i]);\n                    }\n                }\n                if (importedAnnotations.freeTextAnnotation && importedAnnotations.freeTextAnnotation.length !== 0) {\n                    for (var i = 0; i < importedAnnotations.freeTextAnnotation.length; i++) {\n                        pageCollections.freeTextAnnotation.push(importedAnnotations.freeTextAnnotation[i]);\n                    }\n                }\n                if (importedAnnotations.signatureAnnotation && importedAnnotations.signatureAnnotation.length !== 0) {\n                    for (var i = 0; i < importedAnnotations.signatureAnnotation.length; i++) {\n                        pageCollections.signatureAnnotation.push(importedAnnotations.signatureAnnotation[i]);\n                    }\n                }\n                if (importedAnnotations.signatureInkAnnotation && importedAnnotations.signatureInkAnnotation.length !== 0) {\n                    for (var i = 0; i < importedAnnotations.signatureInkAnnotation.length; i++) {\n                        pageCollections.signatureInkAnnotation.push(importedAnnotations.signatureInkAnnotation[i]);\n                    }\n                }\n                this.documentAnnotationCollections[pageNumber] = pageCollections;\n            }\n        }\n    };\n    /**\n     * @param pageIndex\n     * @param pageCollections\n     * @param pageIndex\n     * @param pageCollections\n     * @private\n     */\n    // eslint-disable-next-line\n    PdfViewerBase.prototype.checkDocumentCollectionData = function (pageIndex, pageCollections) {\n        // eslint-disable-next-line\n        var importPageCollections;\n        if (pageCollections) {\n            importPageCollections = pageCollections;\n        }\n        else if (this.documentAnnotationCollections) {\n            // eslint-disable-next-line\n            var documetCollections = this.documentAnnotationCollections[pageIndex];\n            if (documetCollections) {\n                importPageCollections = cloneObject(documetCollections);\n            }\n        }\n        if (importPageCollections) {\n            // eslint-disable-next-line\n            var textMarkupObject = window.sessionStorage.getItem(this.documentId + '_annotations_textMarkup');\n            // eslint-disable-next-line\n            var shapeObject = window.sessionStorage.getItem(this.documentId + '_annotations_shape');\n            // eslint-disable-next-line\n            var measureShapeObject = window.sessionStorage.getItem(this.documentId + '_annotations_shape_measure');\n            // eslint-disable-next-line\n            var stampObject = window.sessionStorage.getItem(this.documentId + '_annotations_stamp');\n            // eslint-disable-next-line\n            var stickyObject = window.sessionStorage.getItem(this.documentId + '_annotations_sticky');\n            // eslint-disable-next-line\n            var freeTextObject = window.sessionStorage.getItem(this.documentId + '_annotations_freetext');\n            // eslint-disable-next-line\n            var inkObject = window.sessionStorage.getItem(this.documentId + '_annotations_ink');\n            // eslint-disable-next-line\n            var signatureObject = window.sessionStorage.getItem(this.documentId + '_annotations_sign');\n            if (this.isStorageExceed) {\n                textMarkupObject = this.annotationStorage[this.documentId + '_annotations_textMarkup'];\n                shapeObject = this.annotationStorage[this.documentId + '_annotations_shape'];\n                measureShapeObject = this.annotationStorage[this.documentId + '_annotations_shape_measure'];\n                stampObject = this.annotationStorage[this.documentId + '_annotations_stamp'];\n                stickyObject = this.annotationStorage[this.documentId + '_annotations_sticky'];\n                freeTextObject = this.annotationStorage[this.documentId + '_annotations_freetext'];\n                inkObject = this.annotationStorage[this.documentId + '_annotations_ink'];\n                signatureObject = this.annotationStorage[this.documentId + '_annotations_sign'];\n            }\n            if (importPageCollections.textMarkupAnnotation && importPageCollections.textMarkupAnnotation.length !== 0) {\n                if (textMarkupObject) {\n                    var annotationObject = JSON.parse(textMarkupObject);\n                    if (annotationObject) {\n                        // eslint-disable-next-line max-len\n                        importPageCollections.textMarkupAnnotation = this.findImportedAnnotations(annotationObject, importPageCollections.textMarkupAnnotation, pageIndex);\n                    }\n                }\n            }\n            if (importPageCollections.shapeAnnotation && importPageCollections.shapeAnnotation.length !== 0) {\n                if (shapeObject) {\n                    var annotationObject = JSON.parse(shapeObject);\n                    if (annotationObject) {\n                        // eslint-disable-next-line max-len\n                        importPageCollections.shapeAnnotation = this.findImportedAnnotations(annotationObject, importPageCollections.shapeAnnotation, pageIndex);\n                    }\n                }\n            }\n            if (importPageCollections.measureShapeAnnotation && importPageCollections.measureShapeAnnotation.length !== 0) {\n                if (measureShapeObject) {\n                    var annotationObject = JSON.parse(measureShapeObject);\n                    if (annotationObject) {\n                        // eslint-disable-next-line max-len\n                        importPageCollections.measureShapeAnnotation = this.findImportedAnnotations(annotationObject, importPageCollections.measureShapeAnnotation, pageIndex);\n                    }\n                }\n            }\n            if (importPageCollections.stampAnnotations && importPageCollections.stampAnnotations.length !== 0) {\n                if (stampObject) {\n                    var annotationObject = JSON.parse(stampObject);\n                    if (annotationObject) {\n                        // eslint-disable-next-line max-len\n                        importPageCollections.stampAnnotations = this.findImportedAnnotations(annotationObject, importPageCollections.stampAnnotations, pageIndex);\n                    }\n                }\n            }\n            if (importPageCollections.stickyNotesAnnotation && importPageCollections.stickyNotesAnnotation.length !== 0) {\n                if (stickyObject) {\n                    var annotationObject = JSON.parse(stickyObject);\n                    if (annotationObject) {\n                        // eslint-disable-next-line max-len\n                        importPageCollections.stickyNotesAnnotation = this.findImportedAnnotations(annotationObject, importPageCollections.stickyNotesAnnotation, pageIndex);\n                    }\n                }\n            }\n            if (importPageCollections.freeTextAnnotation && importPageCollections.freeTextAnnotation.length !== 0) {\n                if (freeTextObject) {\n                    var annotationObject = JSON.parse(freeTextObject);\n                    if (annotationObject) {\n                        // eslint-disable-next-line max-len\n                        importPageCollections.freeTextAnnotation = this.findImportedAnnotations(annotationObject, importPageCollections.freeTextAnnotation, pageIndex);\n                    }\n                }\n            }\n            if (importPageCollections.signatureInkAnnotation && importPageCollections.signatureInkAnnotation.length !== 0) {\n                if (inkObject) {\n                    var annotationObject = JSON.parse(inkObject);\n                    if (annotationObject) {\n                        // eslint-disable-next-line max-len\n                        importPageCollections.signatureInkAnnotation = this.findImportedAnnotations(annotationObject, importPageCollections.signatureInkAnnotation, pageIndex);\n                    }\n                }\n            }\n            if (importPageCollections.signatureAnnotation && importPageCollections.signatureAnnotation.length !== 0) {\n                if (signatureObject) {\n                    var annotationObject = JSON.parse(inkObject);\n                    if (annotationObject) {\n                        // eslint-disable-next-line max-len\n                        importPageCollections.signatureAnnotation = this.findImportedAnnotations(annotationObject, importPageCollections.signatureAnnotation, pageIndex);\n                    }\n                }\n            }\n            return importPageCollections;\n        }\n    };\n    // eslint-disable-next-line\n    PdfViewerBase.prototype.findImportedAnnotations = function (annotationCollection, importAnnotations, pageNumber) {\n        // eslint-disable-next-line\n        var pageCollections = null;\n        for (var a = 0; a < annotationCollection.length; a++) {\n            if (annotationCollection[a].pageIndex === pageNumber) {\n                pageCollections = annotationCollection[a].annotations;\n            }\n        }\n        if (pageCollections) {\n            for (var i = 0; i < pageCollections.length; i++) {\n                for (var j = 0; j < importAnnotations.length; j++) {\n                    if (pageCollections[i].annotName === importAnnotations[j].AnnotName) {\n                        importAnnotations.splice(j, 1);\n                        j = j - 1;\n                    }\n                }\n            }\n        }\n        pageCollections = null;\n        return importAnnotations;\n    };\n    // eslint-disable-next-line\n    PdfViewerBase.prototype.drawPageAnnotations = function (annotation, pageIndex, isNewlyAdded) {\n        if (isNewlyAdded) {\n            annotation = annotation[pageIndex];\n        }\n        if (annotation) {\n            if (annotation.textMarkupAnnotation && annotation.textMarkupAnnotation.length !== 0) {\n                // eslint-disable-next-line\n                var storeObject = window.sessionStorage.getItem(this.documentId + '_annotations_textMarkup');\n                if (this.isStorageExceed) {\n                    storeObject = this.annotationStorage[this.documentId + '_annotations_textMarkup'];\n                }\n                if (storeObject) {\n                    var annotObject = JSON.parse(storeObject);\n                    if (annotObject) {\n                        // eslint-disable-next-line max-len\n                        annotation.textMarkupAnnotation = this.checkAnnotationCollections(annotObject, annotation.textMarkupAnnotation, pageIndex);\n                    }\n                }\n                annotation.textMarkupAnnotation = this.checkAnnotationCommentsCollections(annotation.textMarkupAnnotation, pageIndex);\n                if (annotation.textMarkupAnnotation.length !== 0) {\n                    // eslint-disable-next-line max-len\n                    this.pdfViewer.annotationModule.renderAnnotations(pageIndex, null, null, annotation.textMarkupAnnotation, null, true);\n                }\n            }\n            if (annotation.shapeAnnotation && annotation.shapeAnnotation.length !== 0) {\n                // eslint-disable-next-line\n                var storeObject = window.sessionStorage.getItem(this.documentId + '_annotations_shape');\n                if (this.isStorageExceed) {\n                    storeObject = this.annotationStorage[this.documentId + '_annotations_shape'];\n                }\n                if (storeObject) {\n                    var annotObject = JSON.parse(storeObject);\n                    annotation.shapeAnnotation = this.checkAnnotationCollections(annotObject, annotation.shapeAnnotation, pageIndex);\n                }\n                annotation.shapeAnnotation = this.checkAnnotationCommentsCollections(annotation.shapeAnnotation, pageIndex);\n                if (annotation.shapeAnnotation.length !== 0) {\n                    // eslint-disable-next-line max-len\n                    this.pdfViewer.annotationModule.renderAnnotations(pageIndex, annotation.shapeAnnotation, null, null, null, true);\n                }\n            }\n            if (annotation.measureShapeAnnotation && annotation.measureShapeAnnotation.length !== 0) {\n                // eslint-disable-next-line\n                var storeObject = window.sessionStorage.getItem(this.documentId + '_annotations_shape_measure');\n                if (this.isStorageExceed) {\n                    storeObject = this.annotationStorage[this.documentId + '_annotations_shape_measure'];\n                }\n                if (storeObject) {\n                    var annotObject = JSON.parse(storeObject);\n                    // eslint-disable-next-line max-len\n                    annotation.measureShapeAnnotation = this.checkAnnotationCollections(annotObject, annotation.measureShapeAnnotation, pageIndex);\n                }\n                annotation.measureShapeAnnotation = this.checkAnnotationCommentsCollections(annotation.measureShapeAnnotation, pageIndex);\n                if (annotation.measureShapeAnnotation.length !== 0) {\n                    // eslint-disable-next-line max-len\n                    this.pdfViewer.annotationModule.renderAnnotations(pageIndex, null, annotation.measureShapeAnnotation, null, null, true);\n                }\n            }\n            if (annotation.stampAnnotations && annotation.stampAnnotations.length !== 0) {\n                // eslint-disable-next-line\n                var storeObject = window.sessionStorage.getItem(this.documentId + '_annotations_stamp');\n                if (this.isStorageExceed) {\n                    storeObject = this.annotationStorage[this.documentId + '_annotations_stamp'];\n                }\n                if (storeObject) {\n                    var annotObject = JSON.parse(storeObject);\n                    annotation.stampAnnotations = this.checkAnnotationCollections(annotObject, annotation.stampAnnotations, pageIndex);\n                }\n                annotation.stampAnnotations = this.checkAnnotationCommentsCollections(annotation.stampAnnotations, pageIndex);\n                if (annotation.stampAnnotations.length !== 0) {\n                    // eslint-disable-next-line max-len\n                    this.pdfViewer.annotationModule.stampAnnotationModule.renderStampAnnotations(annotation.stampAnnotations, pageIndex, null, true);\n                }\n            }\n            if (annotation.stickyNotesAnnotation && annotation.stickyNotesAnnotation.length !== 0) {\n                // eslint-disable-next-line\n                var storeObject = window.sessionStorage.getItem(this.documentId + '_annotations_sticky');\n                if (this.isStorageExceed) {\n                    storeObject = this.annotationStorage[this.documentId + '_annotations_sticky'];\n                }\n                if (storeObject) {\n                    var annotObject = JSON.parse(storeObject);\n                    // eslint-disable-next-line max-len\n                    annotation.stickyNotesAnnotation = this.checkAnnotationCollections(annotObject, annotation.stickyNotesAnnotation, pageIndex);\n                }\n                annotation.stickyNotesAnnotation = this.checkAnnotationCommentsCollections(annotation.stickyNotesAnnotation, pageIndex);\n                if (annotation.stickyNotesAnnotation.length !== 0) {\n                    // eslint-disable-next-line max-len\n                    this.pdfViewer.annotationModule.stickyNotesAnnotationModule.renderStickyNotesAnnotations(annotation.stickyNotesAnnotation, pageIndex);\n                }\n            }\n            if (annotation.freeTextAnnotation && annotation.freeTextAnnotation.length !== 0) {\n                // eslint-disable-next-line\n                var storeObject = window.sessionStorage.getItem(this.documentId + '_annotations_freetext');\n                if (this.isStorageExceed) {\n                    storeObject = this.annotationStorage[this.documentId + '_annotations_freetext'];\n                }\n                if (storeObject) {\n                    var annotObject = JSON.parse(storeObject);\n                    annotation.freeTextAnnotation = this.checkAnnotationCollections(annotObject, annotation.freeTextAnnotation, pageIndex);\n                }\n                annotation.freeTextAnnotation = this.checkAnnotationCommentsCollections(annotation.freeTextAnnotation, pageIndex);\n                if (annotation.freeTextAnnotation.length !== 0) {\n                    // eslint-disable-next-line max-len\n                    this.pdfViewer.annotationModule.freeTextAnnotationModule.renderFreeTextAnnotations(annotation.freeTextAnnotation, pageIndex, true, true);\n                }\n            }\n            if (annotation.signatureAnnotation && annotation.signatureAnnotation.length !== 0) {\n                // eslint-disable-next-line\n                var storeObject = window.sessionStorage.getItem(this.documentId + '_annotations_sign');\n                var annotObject = JSON.parse(storeObject);\n                if (annotObject) {\n                    annotation.signatureAnnotation = this.checkSignatureCollections(annotObject, annotation.signatureAnnotation, pageIndex);\n                }\n                this.signatureModule.renderExistingSignature(annotation.signatureAnnotation, pageIndex, true);\n            }\n            if (annotation.signatureInkAnnotation && annotation.signatureInkAnnotation.length !== 0) {\n                // eslint-disable-next-line\n                var storeObject = window.sessionStorage.getItem(this.documentId + '_annotations_ink');\n                if (this.isStorageExceed) {\n                    storeObject = this.annotationStorage[this.documentId + '_annotations_ink'];\n                }\n                if (storeObject) {\n                    var annotObject = JSON.parse(storeObject);\n                    // eslint-disable-next-line max-len\n                    annotation.signatureInkAnnotation = this.checkAnnotationCollections(annotObject, annotation.signatureInkAnnotation, pageIndex);\n                }\n                annotation.signatureInkAnnotation = this.checkAnnotationCommentsCollections(annotation.signatureInkAnnotation, pageIndex);\n                if (annotation.signatureInkAnnotation.length !== 0) {\n                    // eslint-disable-next-line max-len\n                    this.pdfViewer.annotationModule.inkAnnotationModule.renderExistingInkSignature(annotation.signatureInkAnnotation, pageIndex, true);\n                }\n            }\n        }\n    };\n    // eslint-disable-next-line\n    PdfViewerBase.prototype.checkSignatureCollections = function (annotationCollection, annotation, pageNumber) {\n        // eslint-disable-next-line\n        var pageCollections = null;\n        for (var a = 0; a < annotationCollection.length; a++) {\n            if (annotationCollection[a].pageIndex === pageNumber) {\n                pageCollections = annotationCollection[a].annotations;\n            }\n        }\n        if (pageCollections) {\n            for (var i = 0; i < pageCollections.length; i++) {\n                for (var j = 0; j < annotation.length; j++) {\n                    if (pageCollections[i].signatureName === annotation[j].SignatureName) {\n                        annotation.splice(j, 1);\n                        j = j - 1;\n                    }\n                }\n            }\n        }\n        pageCollections = null;\n        return annotation;\n    };\n    // eslint-disable-next-line\n    PdfViewerBase.prototype.checkAnnotationCollections = function (annotationCollection, annotation, pageNumber) {\n        // eslint-disable-next-line\n        var pageCollections = null;\n        for (var a = 0; a < annotationCollection.length; a++) {\n            if (annotationCollection[a].pageIndex === pageNumber) {\n                pageCollections = annotationCollection[a].annotations;\n            }\n        }\n        if (pageCollections) {\n            for (var i = 0; i < pageCollections.length; i++) {\n                for (var j = 0; j < annotation.length; j++) {\n                    if (pageCollections[i].annotName === annotation[j].AnnotName) {\n                        annotation.splice(j, 1);\n                        j = j - 1;\n                    }\n                }\n            }\n        }\n        pageCollections = null;\n        return annotation;\n    };\n    // eslint-disable-next-line\n    PdfViewerBase.prototype.checkAnnotationCommentsCollections = function (annotation, pageNumber) {\n        if (this.annotationComments) {\n            // eslint-disable-next-line\n            var annotationCollections = this.annotationComments[pageNumber];\n            annotationCollections = this.selectAnnotationCollections(annotationCollections);\n            if (annotationCollections) {\n                for (var i = 0; i < annotationCollections.length; i++) {\n                    for (var j = 0; j < annotation.length; j++) {\n                        if (annotationCollections[i].AnnotName === annotation[j].AnnotName) {\n                            annotation.splice(j, 1);\n                            j = j - 1;\n                        }\n                    }\n                }\n            }\n            annotationCollections = null;\n        }\n        return annotation;\n    };\n    // eslint-disable-next-line\n    PdfViewerBase.prototype.selectAnnotationCollections = function (pageAnnotations) {\n        // eslint-disable-next-line\n        var pageCollections = [];\n        if (pageAnnotations) {\n            if (pageAnnotations.textMarkupAnnotation && pageAnnotations.textMarkupAnnotation.length !== 0) {\n                for (var i = 0; i < pageAnnotations.textMarkupAnnotation.length; i++) {\n                    pageCollections.push(pageAnnotations.textMarkupAnnotation[i]);\n                }\n            }\n            if (pageAnnotations.shapeAnnotation && pageAnnotations.shapeAnnotation.length !== 0) {\n                for (var i = 0; i < pageAnnotations.shapeAnnotation.length; i++) {\n                    pageCollections.push(pageAnnotations.shapeAnnotation[i]);\n                }\n            }\n            if (pageAnnotations.measureShapeAnnotation && pageAnnotations.measureShapeAnnotation.length !== 0) {\n                for (var i = 0; i < pageAnnotations.measureShapeAnnotation.length; i++) {\n                    pageCollections.push(pageAnnotations.measureShapeAnnotation[i]);\n                }\n            }\n            if (pageAnnotations.stampAnnotations && pageAnnotations.stampAnnotations.length !== 0) {\n                for (var i = 0; i < pageAnnotations.stampAnnotations.length; i++) {\n                    pageCollections.push(pageAnnotations.stampAnnotations[i]);\n                }\n            }\n            if (pageAnnotations.stickyNotesAnnotation && pageAnnotations.stickyNotesAnnotation.length !== 0) {\n                for (var i = 0; i < pageAnnotations.stickyNotesAnnotation.length; i++) {\n                    pageCollections.push(pageAnnotations.stickyNotesAnnotation[i]);\n                }\n            }\n            if (pageAnnotations.freeTextAnnotation && pageAnnotations.freeTextAnnotation.length !== 0) {\n                for (var i = 0; i < pageAnnotations.freeTextAnnotation.length; i++) {\n                    pageCollections.push(pageAnnotations.freeTextAnnotation[i]);\n                }\n            }\n            if (pageAnnotations.signatureInkAnnotation && pageAnnotations.signatureInkAnnotation.length !== 0) {\n                for (var i = 0; i < pageAnnotations.signatureInkAnnotation.length; i++) {\n                    pageCollections.push(pageAnnotations.signatureInkAnnotation[i]);\n                }\n            }\n        }\n        return pageCollections;\n    };\n    PdfViewerBase.prototype.saveImportedAnnotations = function () {\n        // eslint-disable-next-line\n        var textMarkupObject = window.sessionStorage.getItem(this.documentId + '_annotations_textMarkup');\n        // eslint-disable-next-line\n        var shapeObject = window.sessionStorage.getItem(this.documentId + '_annotations_shape');\n        // eslint-disable-next-line\n        var measureShapeObject = window.sessionStorage.getItem(this.documentId + '_annotations_shape_measure');\n        // eslint-disable-next-line\n        var stampObject = window.sessionStorage.getItem(this.documentId + '_annotations_stamp');\n        // eslint-disable-next-line\n        var stickyObject = window.sessionStorage.getItem(this.documentId + '_annotations_sticky');\n        // eslint-disable-next-line\n        var freeTextObject = window.sessionStorage.getItem(this.documentId + '_annotations_freetext');\n        // eslint-disable-next-line\n        var inkObject = window.sessionStorage.getItem(this.documentId + '_annotations_ink');\n        // eslint-disable-next-line\n        var signatureObject = window.sessionStorage.getItem(this.documentId + '_annotations_sign');\n        if (this.isStorageExceed) {\n            textMarkupObject = this.annotationStorage[this.documentId + '_annotations_textMarkup'];\n            shapeObject = this.annotationStorage[this.documentId + '_annotations_shape'];\n            measureShapeObject = this.annotationStorage[this.documentId + '_annotations_shape_measure'];\n            stampObject = this.annotationStorage[this.documentId + '_annotations_stamp'];\n            stickyObject = this.annotationStorage[this.documentId + '_annotations_sticky'];\n            freeTextObject = this.annotationStorage[this.documentId + '_annotations_freetext'];\n            inkObject = this.annotationStorage[this.documentId + '_annotations_ink'];\n            signatureObject = this.annotationStorage[this.documentId + '_annotations_sign'];\n        }\n        // eslint-disable-next-line max-len\n        this.downloadCollections = { textMarkupObject: textMarkupObject, shapeObject: shapeObject, measureShapeObject: measureShapeObject, stampObject: stampObject, stickyObject: stickyObject, freeTextObject: freeTextObject, inkObject: inkObject, signatureObject: signatureObject };\n        if (this.documentAnnotationCollections) {\n            for (var i = 0; i < this.pageCount; i++) {\n                if (this.documentAnnotationCollections[i]) {\n                    // eslint-disable-next-line\n                    var pageCollections = cloneObject(this.documentAnnotationCollections[i]);\n                    pageCollections = this.checkDocumentCollectionData(i, pageCollections);\n                    this.savePageAnnotations(pageCollections, i);\n                }\n            }\n        }\n    };\n    // eslint-disable-next-line\n    PdfViewerBase.prototype.savePageAnnotations = function (annotation, pageIndex) {\n        if (annotation.textMarkupAnnotation.length !== 0) {\n            for (var s = 0; s < annotation.textMarkupAnnotation.length; s++) {\n                // eslint-disable-next-line max-len\n                this.pdfViewer.annotationModule.textMarkupAnnotationModule.saveImportedTextMarkupAnnotations(annotation.textMarkupAnnotation[s], pageIndex);\n            }\n        }\n        if (annotation.shapeAnnotation.length !== 0) {\n            for (var s = 0; s < annotation.shapeAnnotation.length; s++) {\n                // eslint-disable-next-line max-len\n                this.pdfViewer.annotationModule.shapeAnnotationModule.saveImportedShapeAnnotations(annotation.shapeAnnotation[s], pageIndex);\n            }\n        }\n        if (annotation.measureShapeAnnotation.length !== 0) {\n            for (var s = 0; s < annotation.measureShapeAnnotation.length; s++) {\n                // eslint-disable-next-line max-len\n                this.pdfViewer.annotationModule.measureAnnotationModule.saveImportedMeasureAnnotations(annotation.measureShapeAnnotation[s], pageIndex);\n            }\n        }\n        if (annotation.stampAnnotations.length !== 0) {\n            for (var s = 0; s < annotation.stampAnnotations.length; s++) {\n                // eslint-disable-next-line max-len\n                this.pdfViewer.annotationModule.stampAnnotationModule.saveImportedStampAnnotations(annotation.stampAnnotations[s], pageIndex);\n            }\n        }\n        if (annotation.stickyNotesAnnotation.length !== 0) {\n            for (var s = 0; s < annotation.stickyNotesAnnotation.length; s++) {\n                // eslint-disable-next-line max-len\n                this.pdfViewer.annotationModule.stickyNotesAnnotationModule.saveImportedStickyNotesAnnotations(annotation.stickyNotesAnnotation[s], pageIndex);\n            }\n        }\n        if (annotation.freeTextAnnotation.length !== 0) {\n            for (var s = 0; s < annotation.freeTextAnnotation.length; s++) {\n                // eslint-disable-next-line max-len\n                this.pdfViewer.annotationModule.freeTextAnnotationModule.saveImportedFreeTextAnnotations(annotation.freeTextAnnotation[s], pageIndex);\n            }\n        }\n    };\n    PdfViewerBase.prototype.updateDocumentAnnotationCollections = function () {\n        window.sessionStorage.removeItem(this.documentId + '_annotations_textMarkup');\n        window.sessionStorage.removeItem(this.documentId + '_annotations_shape');\n        window.sessionStorage.removeItem(this.documentId + '_annotations_shape_measure');\n        window.sessionStorage.removeItem(this.documentId + '_annotations_stamp');\n        window.sessionStorage.removeItem(this.documentId + '_annotations_sticky');\n        window.sessionStorage.removeItem(this.documentId + '_annotations_freetext');\n        window.sessionStorage.removeItem(this.documentId + '_annotations_ink');\n        if (this.downloadCollections) {\n            if (this.isStorageExceed) {\n                this.annotationStorage[this.documentId + '_annotations_textMarkup'] = this.downloadCollections.textMarkupObject;\n                this.annotationStorage[this.documentId + '_annotations_shape'] = this.downloadCollections.shapeObject;\n                this.annotationStorage[this.documentId + '_annotations_shape_measure'] = this.downloadCollections.measureShapeObject;\n                this.annotationStorage[this.documentId + '_annotations_stamp'] = this.downloadCollections.stampObject;\n                this.annotationStorage[this.documentId + '_annotations_sticky'] = this.downloadCollections.stickyObject;\n                this.annotationStorage[this.documentId + '_annotations_freetext'] = this.downloadCollections.freeTextObject;\n                this.annotationStorage[this.documentId + '_annotations_ink'] = this.downloadCollections.inkObject;\n            }\n            else {\n                if (this.downloadCollections.textMarkupObject) {\n                    window.sessionStorage.setItem(this.documentId + '_annotations_textMarkup', this.downloadCollections.textMarkupObject);\n                }\n                if (this.downloadCollections.shapeObject) {\n                    window.sessionStorage.setItem(this.documentId + '_annotations_shape', this.downloadCollections.shapeObject);\n                }\n                if (this.downloadCollections.measureShapeObject) {\n                    window.sessionStorage.setItem(this.documentId + '_annotations_shape_measure', this.downloadCollections.measureShapeObject);\n                }\n                if (this.downloadCollections.stampObject) {\n                    window.sessionStorage.setItem(this.documentId + '_annotations_stamp', this.downloadCollections.stampObject);\n                }\n                if (this.downloadCollections.stickyObject) {\n                    window.sessionStorage.setItem(this.documentId + '_annotations_sticky', this.downloadCollections.stickyObject);\n                }\n                if (this.downloadCollections.freeTextObject) {\n                    window.sessionStorage.setItem(this.documentId + '_annotations_freetext', this.downloadCollections.freeTextObject);\n                }\n                if (this.downloadCollections.inkObject) {\n                    window.sessionStorage.setItem(this.documentId + '_annotations_ink', this.downloadCollections.inkObject);\n                }\n            }\n        }\n    };\n    /**\n     * @private\n     */\n    // eslint-disable-next-line\n    PdfViewerBase.prototype.createAnnotationJsonData = function () {\n        // eslint-disable-next-line\n        var annotationCollection = {};\n        var textMarkupAnnotationCollection;\n        var shapeAnnotations;\n        var calibrateAnnotations;\n        var stampAnnotationCollection;\n        var stickyAnnotationCollection;\n        var freeTextAnnotationCollection;\n        var signaturCollection;\n        var signaturInkCollection;\n        this.saveImportedAnnotations();\n        if (this.isTextMarkupAnnotationModule()) {\n            this.isJsonExported = true;\n            // eslint-disable-next-line max-len\n            textMarkupAnnotationCollection = this.pdfViewer.annotationModule.textMarkupAnnotationModule.saveTextMarkupAnnotations();\n        }\n        if (this.isShapeAnnotationModule()) {\n            this.isJsonExported = true;\n            // eslint-disable-next-line max-len\n            shapeAnnotations = this.pdfViewer.annotationModule.shapeAnnotationModule.saveShapeAnnotations();\n        }\n        if (this.isCalibrateAnnotationModule()) {\n            this.isJsonExported = true;\n            // eslint-disable-next-line max-len\n            calibrateAnnotations = this.pdfViewer.annotationModule.measureAnnotationModule.saveMeasureShapeAnnotations();\n        }\n        if (this.isStampAnnotationModule()) {\n            // eslint-disable-next-line max-len\n            stampAnnotationCollection = this.pdfViewer.annotationModule.stampAnnotationModule.saveStampAnnotations();\n        }\n        if (this.isCommentAnnotationModule()) {\n            // eslint-disable-next-line max-len\n            stickyAnnotationCollection = this.pdfViewer.annotationModule.stickyNotesAnnotationModule.saveStickyAnnotations();\n        }\n        if (this.isFreeTextAnnotationModule()) {\n            // eslint-disable-next-line max-len\n            freeTextAnnotationCollection = this.pdfViewer.annotationModule.freeTextAnnotationModule.saveFreeTextAnnotations(true);\n        }\n        if (this.isInkAnnotationModule()) {\n            // eslint-disable-next-line\n            signaturInkCollection = this.pdfViewer.annotationModule.inkAnnotationModule.saveInkSignature();\n        }\n        if (this.pdfViewer.isSignatureEditable) {\n            // eslint-disable-next-line\n            signaturCollection = this.signatureModule.saveSignature();\n        }\n        else {\n            // eslint-disable-next-line\n            var annotations = new Array();\n            for (var j = 0; j < this.pageCount; j++) {\n                annotations[j] = [];\n            }\n            signaturCollection = JSON.stringify(annotations);\n        }\n        for (var s = 0; s < this.pageCount; s++) {\n            // eslint-disable-next-line max-len\n            var annotation = {\n                textMarkupAnnotation: JSON.parse(textMarkupAnnotationCollection)[s], shapeAnnotation: JSON.parse(shapeAnnotations)[s],\n                measureShapeAnnotation: JSON.parse(calibrateAnnotations)[s], stampAnnotations: JSON.parse(stampAnnotationCollection)[s],\n                // eslint-disable-next-line max-len\n                stickyNotesAnnotation: JSON.parse(stickyAnnotationCollection)[s], freeTextAnnotation: JSON.parse(freeTextAnnotationCollection)[s], signatureAnnotation: JSON.parse(signaturCollection)[s], signatureInkAnnotation: JSON.parse(signaturInkCollection)[s]\n            };\n            annotationCollection[s] = annotation;\n        }\n        return JSON.stringify(annotationCollection);\n    };\n    // eslint-disable-next-line\n    PdfViewerBase.prototype.combineImportedData = function (excistingImportAnnotation, newlyImportAnnotation) {\n        for (var i = 0; i < this.pageCount; i++) {\n            if (newlyImportAnnotation[i]) {\n                if (excistingImportAnnotation[i]) {\n                    if (newlyImportAnnotation[i].textMarkupAnnotation && newlyImportAnnotation[i].textMarkupAnnotation.length !== 0) {\n                        if (excistingImportAnnotation[i].textMarkupAnnotation) {\n                            // eslint-disable-next-line max-len\n                            newlyImportAnnotation[i].textMarkupAnnotation = this.checkImportedData(excistingImportAnnotation[i].textMarkupAnnotation, newlyImportAnnotation[i].textMarkupAnnotation, i);\n                            if (newlyImportAnnotation[i].textMarkupAnnotation.length !== 0) {\n                                // eslint-disable-next-line max-len\n                                excistingImportAnnotation[i].textMarkupAnnotation = excistingImportAnnotation[i].textMarkupAnnotation.concat(newlyImportAnnotation[i].textMarkupAnnotation);\n                            }\n                        }\n                        else {\n                            excistingImportAnnotation[i].textMarkupAnnotation = newlyImportAnnotation[i].textMarkupAnnotation;\n                        }\n                    }\n                    if (newlyImportAnnotation[i].shapeAnnotation && newlyImportAnnotation[i].shapeAnnotation.length !== 0) {\n                        if (excistingImportAnnotation[i].shapeAnnotation) {\n                            // eslint-disable-next-line max-len\n                            newlyImportAnnotation[i].shapeAnnotation = this.checkImportedData(excistingImportAnnotation[i].shapeAnnotation, newlyImportAnnotation[i].shapeAnnotation, i);\n                            if (newlyImportAnnotation[i].shapeAnnotation.length !== 0) {\n                                // eslint-disable-next-line max-len\n                                excistingImportAnnotation[i].shapeAnnotation = excistingImportAnnotation[i].shapeAnnotation.concat(newlyImportAnnotation[i].shapeAnnotation);\n                            }\n                        }\n                        else {\n                            excistingImportAnnotation[i].shapeAnnotation = newlyImportAnnotation[i].shapeAnnotation;\n                        }\n                    }\n                    if (newlyImportAnnotation[i].measureShapeAnnotation && newlyImportAnnotation[i].measureShapeAnnotation.length !== 0) {\n                        if (excistingImportAnnotation[i].measureShapeAnnotation) {\n                            // eslint-disable-next-line max-len\n                            newlyImportAnnotation[i].measureShapeAnnotation = this.checkImportedData(excistingImportAnnotation[i].measureShapeAnnotation, newlyImportAnnotation[i].measureShapeAnnotation, i);\n                            if (newlyImportAnnotation[i].measureShapeAnnotation.length !== 0) {\n                                // eslint-disable-next-line max-len\n                                excistingImportAnnotation[i].measureShapeAnnotation = excistingImportAnnotation[i].measureShapeAnnotation.concat(newlyImportAnnotation[i].measureShapeAnnotation);\n                            }\n                        }\n                        else {\n                            excistingImportAnnotation[i].measureShapeAnnotation = newlyImportAnnotation[i].measureShapeAnnotation;\n                        }\n                    }\n                    if (newlyImportAnnotation[i].stampAnnotations && newlyImportAnnotation[i].stampAnnotations.length !== 0) {\n                        if (excistingImportAnnotation[i].stampAnnotations) {\n                            // eslint-disable-next-line max-len\n                            newlyImportAnnotation[i].stampAnnotations = this.checkImportedData(excistingImportAnnotation[i].stampAnnotations, newlyImportAnnotation[i].stampAnnotations, i);\n                            if (newlyImportAnnotation[i].stampAnnotations.length !== 0) {\n                                // eslint-disable-next-line max-len\n                                excistingImportAnnotation[i].stampAnnotations = excistingImportAnnotation[i].stampAnnotations.concat(newlyImportAnnotation[i].stampAnnotations);\n                            }\n                        }\n                        else {\n                            excistingImportAnnotation[i].stampAnnotations = newlyImportAnnotation[i].stampAnnotations;\n                        }\n                    }\n                    if (newlyImportAnnotation[i].stickyNotesAnnotation && newlyImportAnnotation[i].stickyNotesAnnotation.length !== 0) {\n                        if (excistingImportAnnotation[i].stickyNotesAnnotation) {\n                            // eslint-disable-next-line max-len\n                            newlyImportAnnotation[i].stickyNotesAnnotation = this.checkImportedData(excistingImportAnnotation[i].stickyNotesAnnotation, newlyImportAnnotation[i].stickyNotesAnnotation, i);\n                            if (newlyImportAnnotation[i].stickyNotesAnnotation.length !== 0) {\n                                // eslint-disable-next-line max-len\n                                excistingImportAnnotation[i].stickyNotesAnnotation = excistingImportAnnotation[i].stickyNotesAnnotation.concat(newlyImportAnnotation[i].stickyNotesAnnotation);\n                            }\n                        }\n                        else {\n                            excistingImportAnnotation[i].stickyNotesAnnotation = newlyImportAnnotation[i].stickyNotesAnnotation;\n                        }\n                    }\n                    if (newlyImportAnnotation[i].freeTextAnnotation && newlyImportAnnotation[i].freeTextAnnotation.length !== 0) {\n                        if (excistingImportAnnotation[i].freeTextAnnotation) {\n                            // eslint-disable-next-line max-len\n                            newlyImportAnnotation[i].freeTextAnnotation = this.checkImportedData(excistingImportAnnotation[i].freeTextAnnotation, newlyImportAnnotation[i].freeTextAnnotation, i);\n                            if (newlyImportAnnotation[i].freeTextAnnotation.length !== 0) {\n                                // eslint-disable-next-line max-len\n                                excistingImportAnnotation[i].freeTextAnnotation = excistingImportAnnotation[i].freeTextAnnotation.concat(newlyImportAnnotation[i].freeTextAnnotation);\n                            }\n                        }\n                        else {\n                            excistingImportAnnotation[i].freeTextAnnotation = newlyImportAnnotation[i].freeTextAnnotation;\n                        }\n                    }\n                    if (newlyImportAnnotation[i].signatureInkAnnotation && newlyImportAnnotation[i].signatureInkAnnotation.length !== 0) {\n                        if (excistingImportAnnotation[i].signatureInkAnnotation) {\n                            // eslint-disable-next-line max-len\n                            newlyImportAnnotation[i].signatureInkAnnotation = this.checkImportedData(excistingImportAnnotation[i].signatureInkAnnotation, newlyImportAnnotation[i].signatureInkAnnotation, i);\n                            if (newlyImportAnnotation[i].signatureInkAnnotation.length !== 0) {\n                                // eslint-disable-next-line max-len\n                                excistingImportAnnotation[i].signatureInkAnnotation = excistingImportAnnotation[i].signatureInkAnnotation.concat(newlyImportAnnotation[i].signatureInkAnnotation);\n                            }\n                        }\n                        else {\n                            excistingImportAnnotation[i].signatureInkAnnotation = newlyImportAnnotation[i].signatureInkAnnotation;\n                        }\n                    }\n                }\n                else {\n                    // eslint-disable-next-line max-len\n                    var annotation = {\n                        // eslint-disable-next-line max-len\n                        textMarkupAnnotation: newlyImportAnnotation[i].textMarkupAnnotation, shapeAnnotation: newlyImportAnnotation[i].shapeAnnotation,\n                        // eslint-disable-next-line max-len\n                        measureShapeAnnotation: newlyImportAnnotation[i].measureShapeAnnotation, stampAnnotations: newlyImportAnnotation[i].stampAnnotations,\n                        // eslint-disable-next-line max-len\n                        stickyNotesAnnotation: newlyImportAnnotation[i].stickyNotesAnnotation, freeTextAnnotation: newlyImportAnnotation[i].freeTextAnnotation,\n                        signatureInkAnnotation: newlyImportAnnotation[i].signatureInkAnnotation\n                    };\n                    excistingImportAnnotation[i] = annotation;\n                }\n            }\n        }\n        return excistingImportAnnotation;\n    };\n    /**\n     * @private\n     * @returns {boolean} - Returns true or false.\n     */\n    PdfViewerBase.prototype.updateExportItem = function () {\n        // eslint-disable-next-line\n        var shapeObject = window.sessionStorage.getItem(this.documentId + '_annotations_shape');\n        // eslint-disable-next-line\n        var measureObject = window.sessionStorage.getItem(this.documentId + '_annotations_shape_measure');\n        // eslint-disable-next-line\n        var stampObject = window.sessionStorage.getItem(this.documentId + '_annotations_stamp');\n        // eslint-disable-next-line\n        var stickyObject = window.sessionStorage.getItem(this.documentId + '_annotations_sticky');\n        // eslint-disable-next-line\n        var textMarkupObject = window.sessionStorage.getItem(this.documentId + '_annotations_textMarkup');\n        // eslint-disable-next-line\n        var freeTextObject = window.sessionStorage.getItem(this.documentId + '_annotations_freetext');\n        var isSignatureEditable = false;\n        // eslint-disable-next-line\n        var inkAnnotationObjct = window.sessionStorage.getItem(this.documentId + '_annotations_ink');\n        if (this.pdfViewer.isSignatureEditable) {\n            // eslint-disable-next-line\n            var signatureObject = window.sessionStorage.getItem(this.documentId + '_annotations_sign');\n            if (signatureObject) {\n                isSignatureEditable = true;\n            }\n        }\n        // eslint-disable-next-line max-len\n        if (shapeObject || measureObject || stampObject || stickyObject || textMarkupObject || freeTextObject || this.isImportAction || this.isStorageExceed || isSignatureEditable || inkAnnotationObjct) {\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    PdfViewerBase.prototype.isFreeTextAnnotation = function (annotations) {\n        var resut = false;\n        if (annotations && annotations.length > 0) {\n            resut = annotations.some(function (s) { return s.shapeAnnotationType === 'FreeText' && s.subject === 'Text Box'; });\n        }\n        return resut;\n    };\n    // eslint-disable-next-line\n    PdfViewerBase.prototype.checkImportedData = function (existingCollection, newCollection, pageIndex) {\n        for (var i = 0; i < existingCollection.length; i++) {\n            for (var j = 0; j < newCollection.length; j++) {\n                if (existingCollection[i].AnnotName === newCollection[j].AnnotName) {\n                    newCollection.splice(j, 1);\n                    j = j - 1;\n                }\n            }\n        }\n        if (this.annotationComments) {\n            // eslint-disable-next-line\n            var annotationCollections = this.annotationComments[pageIndex];\n            annotationCollections = this.selectAnnotationCollections(annotationCollections);\n            if (annotationCollections) {\n                for (var i = 0; i < annotationCollections.length; i++) {\n                    for (var j = 0; j < newCollection.length; j++) {\n                        if (annotationCollections[i].AnnotName === newCollection[j].AnnotName) {\n                            newCollection.splice(j, 1);\n                            j = j - 1;\n                        }\n                    }\n                }\n            }\n        }\n        return newCollection;\n    };\n    /**\n     * @param points\n     * @private\n     */\n    // eslint-disable-next-line\n    PdfViewerBase.prototype.checkAnnotationWidth = function (points) {\n        var width = 0;\n        var height = 0;\n        var minWidth;\n        var maxWidth;\n        var minHeight;\n        var maxHeight;\n        for (var i = 0; i < points.length; i++) {\n            if (!minWidth) {\n                minWidth = points[i].x;\n                maxWidth = points[i].x;\n                minHeight = points[i].y;\n                maxHeight = points[i].y;\n            }\n            else {\n                if (minWidth > points[i].x) {\n                    minWidth = points[i].x;\n                }\n                else if (maxWidth < points[i].x) {\n                    maxWidth = points[i].x;\n                }\n                if (minHeight > points[i].y) {\n                    minHeight = points[i].y;\n                }\n                else if (maxHeight < points[i].y) {\n                    maxHeight = points[i].y;\n                }\n            }\n        }\n        width = maxWidth - minWidth;\n        height = maxHeight - minHeight;\n        return { width: width, height: height };\n    };\n    PdfViewerBase.prototype.deleteAnnotations = function () {\n        if (this.pdfViewer.annotationModule) {\n            this.pdfViewer.annotations = [];\n            this.pdfViewer.zIndexTable = [];\n            this.pdfViewer.annotationCollection = [];\n            this.pdfViewer.signatureCollection = [];\n            // eslint-disable-next-line\n            var annotationCollection = this.createAnnotationsCollection();\n            this.annotationComments = annotationCollection;\n            this.documentAnnotationCollections = annotationCollection;\n            this.annotationRenderredList = [];\n            window.sessionStorage.removeItem(this.documentId + '_annotations_shape');\n            window.sessionStorage.removeItem(this.documentId + '_annotations_shape_measure');\n            window.sessionStorage.removeItem(this.documentId + '_annotations_stamp');\n            window.sessionStorage.removeItem(this.documentId + '_annotations_sticky');\n            window.sessionStorage.removeItem(this.documentId + '_annotations_textMarkup');\n            window.sessionStorage.removeItem(this.documentId + '_annotations_freetext');\n            window.sessionStorage.removeItem(this.documentId + '_annotations_sign');\n            window.sessionStorage.removeItem(this.documentId + '_annotations_ink');\n            for (var i = 0; i < this.pageCount; i++) {\n                this.pdfViewer.annotationModule.renderAnnotations(i, null, null, null);\n                this.pdfViewer.renderDrawing(undefined, i);\n                this.pdfViewer.clearSelection(i);\n                var accordionContent = document.getElementById(this.pdfViewer.element.id + '_accordionContainer' + (i + 1));\n                if (accordionContent) {\n                    accordionContent.remove();\n                }\n                // eslint-disable-next-line max-len\n                var accordionContentContainer = document.getElementById(this.pdfViewer.element.id + '_accordionContentContainer');\n                if (accordionContentContainer) {\n                    if (accordionContentContainer.childElementCount === 0) {\n                        accordionContentContainer.style.display = 'none';\n                        if (document.getElementById(this.pdfViewer.element.id + '_commentsPanelText')) {\n                            // eslint-disable-next-line max-len\n                            this.navigationPane.annotationMenuObj.enableItems([this.pdfViewer.localeObj.getConstant('Export Annotations')], false);\n                            document.getElementById(this.pdfViewer.element.id + '_commentsPanelText').style.display = 'block';\n                        }\n                    }\n                }\n            }\n            this.isImportedAnnotation = false;\n            this.isImportAction = false;\n            this.importedAnnotation = [];\n            this.annotationPageList = [];\n            this.pdfViewer.annotationModule.freeTextAnnotationModule.freeTextPageNumbers = [];\n            this.pdfViewer.annotationModule.stampAnnotationModule.stampPageNumber = [];\n            this.pdfViewer.annotation.inkAnnotationModule.inkAnnotationindex = [];\n            this.isAnnotationCollectionRemoved = true;\n        }\n    };\n    /**\n     * @param pageNumber\n     * @param isObject\n     * @param pageNumber\n     * @param isObject\n     * @private\n     */\n    // eslint-disable-next-line\n    PdfViewerBase.prototype.createAnnotationsCollection = function (pageNumber, isObject) {\n        // eslint-disable-next-line\n        var annotationCollectionList = [];\n        if (!isObject) {\n            for (var i = 0; i < this.pageCount; i++) {\n                var annotation = {\n                    // eslint-disable-next-line max-len\n                    textMarkupAnnotation: [], shapeAnnotation: [], measureShapeAnnotation: [], stampAnnotations: [], stickyNotesAnnotation: [], freeTextAnnotation: [], signatureAnnotation: [], signatureInkAnnotation: []\n                };\n                annotationCollectionList.push(annotation);\n            }\n        }\n        else {\n            annotationCollectionList = {};\n            var annotation = {\n                // eslint-disable-next-line max-len\n                textMarkupAnnotation: [], shapeAnnotation: [], measureShapeAnnotation: [], stampAnnotations: [], stickyNotesAnnotation: [], freeTextAnnotation: [], signatureAnnotation: [], signatureInkAnnotation: []\n            };\n            annotationCollectionList[pageNumber] = annotation;\n        }\n        return annotationCollectionList;\n    };\n    /**\n     * @param importAnnotation\n     * @private\n     */\n    // eslint-disable-next-line\n    PdfViewerBase.prototype.addAnnotation = function (importAnnotation) {\n        // eslint-disable-next-line\n        var pdfAnnotation = {};\n        // eslint-disable-next-line\n        var documentCollections;\n        if (importAnnotation) {\n            var isAnnotationObject = false;\n            var annotationCount = 1;\n            if (importAnnotation.shapeAnnotationType || importAnnotation.author) {\n                isAnnotationObject = true;\n                documentCollections = this.createAnnotationsCollection(importAnnotation.pageNumber, true);\n            }\n            else {\n                if (importAnnotation.length) {\n                    annotationCount = importAnnotation.length;\n                    documentCollections = this.createAnnotationsCollection();\n                }\n                else {\n                    isAnnotationObject = true;\n                    documentCollections = this.createAnnotationsCollection(importAnnotation.pageNumber, true);\n                }\n            }\n            for (var a = 0; a < annotationCount; a++) {\n                // eslint-disable-next-line\n                var annotation = void 0;\n                if (isAnnotationObject) {\n                    annotation = importAnnotation;\n                }\n                else {\n                    annotation = importAnnotation[a];\n                }\n                // eslint-disable-next-line\n                var newAnnotation = {};\n                newAnnotation.ShapeAnnotationType = annotation.shapeAnnotationType;\n                newAnnotation.AnnotationAddMode = annotation.annotationAddMode;\n                newAnnotation.Author = annotation.author;\n                newAnnotation.AnnotationSelectorSettings = annotation.annotationSelectorSettings;\n                newAnnotation.AnnotationSettings = annotation.annotationSettings;\n                newAnnotation.PageNumber = annotation.pageNumber;\n                newAnnotation.ModifiedDate = annotation.modifiedDate;\n                newAnnotation.Subject = annotation.subject;\n                newAnnotation.Note = annotation.note;\n                newAnnotation.AnnotName = annotation.annotationId;\n                newAnnotation.IsCommentLock = annotation.isCommentLock;\n                newAnnotation.Comments = annotation.comments;\n                if (annotation.comments && annotation.comments.length > 0) {\n                    // eslint-disable-next-line\n                    var comments = [];\n                    for (var i = 0; i < annotation.comments.length; i++) {\n                        comments.push(this.updateComments(annotation, annotation.comments[i]));\n                    }\n                    newAnnotation.Comments = comments;\n                }\n                if (annotation.review) {\n                    newAnnotation.State = annotation.review.state;\n                    newAnnotation.StateModel = annotation.review.stateModel;\n                }\n                newAnnotation.CustomData = annotation.customData;\n                newAnnotation.Opacity = annotation.opacity;\n                if (annotation.shapeAnnotationType === 'textMarkup') {\n                    newAnnotation.AnnotType = 'textMarkup';\n                    newAnnotation.Color = annotation.color;\n                    newAnnotation.IsMultiSelect = annotation.isMultiSelect;\n                    newAnnotation.TextMarkupAnnotationType = annotation.textMarkupAnnotationType;\n                    newAnnotation.TextMarkupContent = annotation.textMarkupContent;\n                    newAnnotation.TextMarkupStartIndex = annotation.textMarkupStartIndex;\n                    newAnnotation.TextMarkupEndIndex = annotation.textMarkupEndIndex;\n                    if (annotation.rect) {\n                        newAnnotation.Rect = this.convertBounds(annotation.rect, true);\n                    }\n                    if (annotation.bounds && annotation.bounds.length >= 1) {\n                        // eslint-disable-next-line\n                        var bounds = new Array();\n                        for (var i = 0; i < annotation.bounds.length; i++) {\n                            bounds.push(this.convertBounds(annotation.bounds[i]));\n                        }\n                        newAnnotation.Bounds = bounds;\n                    }\n                    documentCollections[annotation.pageNumber].textMarkupAnnotation.push(newAnnotation);\n                }\n                else if (annotation.shapeAnnotationType === 'sticky') {\n                    newAnnotation.AnnotType = 'sticky';\n                    newAnnotation.Icon = 'Comment';\n                    newAnnotation.Bounds = this.convertBounds(annotation.bounds);\n                    newAnnotation.StrokeColor = annotation.strokeColor;\n                    newAnnotation.Color = annotation.color;\n                    documentCollections[annotation.pageNumber].stickyNotesAnnotation.push(newAnnotation);\n                }\n                else if (annotation.shapeAnnotationType === 'FreeText') {\n                    newAnnotation.AnnotType = 'freeText';\n                    newAnnotation.Name = annotation.annotationId;\n                    newAnnotation.MarkupText = annotation.dynamicText;\n                    newAnnotation.Text = annotation.dynamicText;\n                    newAnnotation.Note = annotation.dynamicText;\n                    newAnnotation.TextAlign = annotation.textAlign;\n                    newAnnotation.Thickness = annotation.thicknes;\n                    newAnnotation.StrokeColor = annotation.strokeColor;\n                    newAnnotation.FillColor = annotation.fillColor;\n                    newAnnotation.FontColor = annotation.fontColor;\n                    newAnnotation.FontSize = annotation.fontSize;\n                    newAnnotation.FontFamily = annotation.fontFamily;\n                    newAnnotation.Rotate = annotation.rotateAngle;\n                    newAnnotation.Bounds = this.convertBounds(annotation.bounds);\n                    // eslint-disable-next-line max-len\n                    newAnnotation.Font = { 'Name': annotation.fontFamily, 'Size': annotation.fontSize, 'Bold': annotation.font.isBold, 'Italic': annotation.font.isItalic, 'Strikeout': annotation.font.isStrikeout, 'Underline': annotation.font.isUnderline };\n                    documentCollections[annotation.pageNumber].freeTextAnnotation.push(newAnnotation);\n                }\n                else if (annotation.shapeAnnotationType === 'stamp') {\n                    newAnnotation.AnnotType = 'stamp';\n                    newAnnotation.Icon = annotation.icon;\n                    newAnnotation.isDynamic = false;\n                    newAnnotation.Rect = this.convertBounds(annotation.bounds, false, true);\n                    newAnnotation.RotateAngle = annotation.rotateAngle;\n                    newAnnotation.FillColor = annotation.fillColor;\n                    newAnnotation.StrokeColor = annotation.strokeColor;\n                    newAnnotation.StampAnnotationType = annotation.stampAnnotationType;\n                    newAnnotation.CreationDate = annotation.creationDate;\n                    if (annotation.stampAnnotationType === 'image') {\n                        // eslint-disable-next-line\n                        var apperarance = [];\n                        // eslint-disable-next-line\n                        var imageData = { 'imagedata': annotation.stampAnnotationPath };\n                        apperarance.push(imageData);\n                        newAnnotation.Apperarance = apperarance;\n                    }\n                    if (annotation.isDynamicStamp) {\n                        newAnnotation.IsDynamic = true;\n                        newAnnotation.StrokeColor = annotation.stampFillcolor;\n                        // eslint-disable-next-line\n                        var apperarance = [];\n                        // eslint-disable-next-line\n                        var imageData = { 'type': 'string', 'text': annotation.dynamicText, 'currentFontname': '95b303ab-d397-438a-83af-e2ff8a9900f1', 'baseFontName': 'Helvetica-BoldOblique', 'fontSize': 10, 'isImport': true };\n                        apperarance.push(imageData);\n                        newAnnotation.Apperarance = apperarance;\n                    }\n                    documentCollections[annotation.pageNumber].stampAnnotations.push(newAnnotation);\n                }\n                else if (annotation.shapeAnnotationType === 'Ink' || annotation.shapeAnnotationType === 'Signature') {\n                    newAnnotation.StrokeColor = annotation.strokeColor;\n                    newAnnotation.FillColor = annotation.fillColor;\n                    newAnnotation.Thickness = annotation.thickness;\n                    newAnnotation.Bounds = this.convertBounds(annotation.bounds);\n                    newAnnotation.PathData = annotation.data;\n                    newAnnotation.pageIndex = annotation.pageNumber;\n                    if (annotation.shapeAnnotationType === 'Ink') {\n                        newAnnotation.AnnotType = 'Ink';\n                        newAnnotation.IsPathData = true;\n                        documentCollections[annotation.pageNumber].signatureInkAnnotation.push(newAnnotation);\n                    }\n                    if (annotation.shapeAnnotationType === 'Signature') {\n                        newAnnotation.AnnotType = 'Signature';\n                        newAnnotation.SignatureName = annotation.annotationId;\n                        newAnnotation.IsSignature = true;\n                        documentCollections[annotation.pageNumber].signatureAnnotation.push(newAnnotation);\n                    }\n                }\n                else {\n                    // eslint-disable-next-line max-len\n                    if (annotation.shapeAnnotationType === 'Line' || annotation.shapeAnnotationType === 'LineWidthArrowHead' || annotation.shapeAnnotationType === 'Polyline' || annotation.shapeAnnotationType === 'Polygon' || annotation.shapeAnnotationType === 'Polyline' || annotation.shapeAnnotationType === 'Circle' || annotation.shapeAnnotationType === 'Oval' || annotation.shapeAnnotationType === 'Rectangle' || annotation.shapeAnnotationType === 'Square' || annotation.shapeAnnotationType === 'Ellipse') {\n                        newAnnotation.AnnotType = 'shape';\n                        newAnnotation.StrokeColor = annotation.strokeColor;\n                        newAnnotation.FillColor = annotation.fillColor;\n                        newAnnotation.Thickness = annotation.thickness;\n                        newAnnotation.BorderStyle = annotation.borderStyle;\n                        newAnnotation.BorderDashArray = annotation.borderDashArray;\n                        newAnnotation.RotateAngle = annotation.rotateAngle;\n                        newAnnotation.IsCloudShape = annotation.isCloudShape;\n                        newAnnotation.CloudIntensity = annotation.cloudIntensity;\n                        newAnnotation.RectangleDifference = annotation.rectangleDifference;\n                        newAnnotation.LineHeadStart = annotation.lineHeadStart;\n                        newAnnotation.LineHeadEnd = annotation.lineHeadEnd;\n                        newAnnotation.IsLocked = annotation.isLocked;\n                        newAnnotation.EnableShapeLabel = annotation.enableShapeLabel;\n                        newAnnotation.LabelContent = annotation.labelContent;\n                        newAnnotation.LabelFillColor = annotation.labelFillColor;\n                        newAnnotation.LabelBorderColor = annotation.labelBorderColor;\n                        newAnnotation.FontColor = annotation.fontColor;\n                        newAnnotation.FontSize = annotation.fontSize;\n                        newAnnotation.LabelBounds = this.convertBounds(annotation.labelBounds);\n                        newAnnotation.LabelSettings = annotation.labelSettings;\n                        newAnnotation.Bounds = this.convertBounds(annotation.bounds);\n                        newAnnotation.LeaderLength = annotation.leaderLength;\n                        newAnnotation.LeaderLineExtenstion = annotation.leaderLineExtension;\n                        if (annotation.vertexPoints && annotation.vertexPoints.length >= 1) {\n                            // eslint-disable-next-line\n                            var points = new Array();\n                            for (var i = 0; i < annotation.vertexPoints.length; i++) {\n                                points.push(this.convertVertexPoints(annotation.vertexPoints[i]));\n                            }\n                            newAnnotation.VertexPoints = points;\n                        }\n                        newAnnotation.EnableShapeLabel = annotation.enableShapeLabel;\n                        // eslint-disable-next-line max-len\n                        if (annotation.subject === 'Distance calculation' || annotation.subject === 'Perimeter calculation' || annotation.subject === 'Area calculation' || annotation.subject === 'Radius calculation' || annotation.subject === 'Volume calculation') {\n                            newAnnotation.AnnotType = 'shape_measure';\n                            // eslint-disable-next-line\n                            var calibrate = annotation.calibrate;\n                            if (calibrate) {\n                                // eslint-disable-next-line\n                                newAnnotation.Calibrate = {\n                                    'Ratio': calibrate.ratio, 'X': [{ 'Unit': calibrate.x[0].unit, 'ConversionFactor': calibrate.x[0].conversionFactor, 'FractionalType': calibrate.x[0].fractionalType, 'Denominator': calibrate.x[0].denominator, 'FormatDenominator': calibrate.x[0].formatDenominator }],\n                                    // eslint-disable-next-line\n                                    'Distance': [{ 'Unit': calibrate.distance[0].unit, 'ConversionFactor': calibrate.distance[0].conversionFactor, 'FractionalType': calibrate.distance[0].fractionalType, 'Denominator': calibrate.distance[0].denominator, 'FormatDenominator': calibrate.distance[0].formatDenominator }],\n                                    // eslint-disable-next-line\n                                    'Area': [{ 'Unit': calibrate.area[0].unit, 'ConversionFactor': calibrate.area[0].conversionFactor, 'FractionalType': calibrate.area[0].fractionalType, 'Denominator': calibrate.area[0].denominator, 'FormatDenominator': calibrate.area[0].formatDenominator }],\n                                    // eslint-disable-next-line\n                                    'Angle': null, 'Volume': null, 'TargetUnitConversion': calibrate.targetUnitConversion, 'Depth': calibrate.depth\n                                };\n                            }\n                            newAnnotation.Indent = annotation.indent;\n                            newAnnotation.Caption = annotation.caption;\n                            newAnnotation.CaptionPosition = annotation.captionPosition;\n                            newAnnotation.LeaderLineExtension = annotation.leaderLineExtension;\n                            newAnnotation.LeaderLength = annotation.leaderLength;\n                            newAnnotation.LeaderLineOffset = annotation.leaderLineOffset;\n                            documentCollections[annotation.pageNumber].measureShapeAnnotation.push(newAnnotation);\n                        }\n                        else {\n                            documentCollections[annotation.pageNumber].shapeAnnotation.push(newAnnotation);\n                        }\n                    }\n                }\n            }\n            pdfAnnotation.pdfAnnotation = documentCollections;\n            this.pdfViewer.importAnnotation(pdfAnnotation);\n        }\n    };\n    /**\n     * @param bounds\n     * @private\n     */\n    // eslint-disable-next-line\n    PdfViewerBase.prototype.convertBounds = function (bounds, isRect, isStamp) {\n        if (bounds) {\n            if (isRect) {\n                var left = bounds.left ? bounds.left : bounds.Left ? bounds.Left : 0;\n                var right = bounds.right ? bounds.right : bounds.Right ? bounds.Right : 0;\n                var bottom = bounds.bottom ? bounds.bottom : bounds.Bottom ? bounds.Bottom : 0;\n                var top_5 = bounds.top ? bounds.top : bounds.Top ? bounds.Top : 0;\n                return { left: left, right: right, bottom: bottom, top: top_5 };\n            }\n            else {\n                var x = bounds.x ? bounds.x : bounds.left ? bounds.left : bounds.Left ? bounds.Left : 0;\n                var y = bounds.y ? bounds.y : bounds.top ? bounds.top : bounds.Top ? bounds.Top : 0;\n                var width = bounds.width ? bounds.width : bounds.Width ? bounds.Width : 0;\n                var height = bounds.height ? bounds.height : bounds.Height ? bounds.Height : 0;\n                if (isStamp) {\n                    return { X: this.ConvertPixelToPoint(x), Y: this.ConvertPixelToPoint(y), Left: this.ConvertPixelToPoint(x), Top: this.ConvertPixelToPoint(y), Height: this.ConvertPixelToPoint(height), Width: this.ConvertPixelToPoint(width) };\n                }\n                else {\n                    return { X: x, Y: y, Left: x, Top: y, Height: height, Width: width };\n                }\n            }\n        }\n    };\n    // eslint-disable-next-line\n    PdfViewerBase.prototype.ConvertPixelToPoint = function (number) {\n        return (number * (72 / 96));\n    };\n    // eslint-disable-next-line\n    PdfViewerBase.prototype.convertVertexPoints = function (points) {\n        if (points) {\n            var x = points.x ? points.x : points.X ? points.X : 0;\n            var y = points.y ? points.y : points.Y ? points.Y : 0;\n            return { X: x, Y: y, Left: x, Top: y };\n        }\n    };\n    // eslint-disable-next-line\n    PdfViewerBase.prototype.updateComments = function (annotation, comments) {\n        if (annotation && comments) {\n            // eslint-disable-next-line\n            var newAnnotation = {};\n            newAnnotation.ShapeAnnotationType = annotation.shapeAnnotationType;\n            newAnnotation.Author = comments.author;\n            newAnnotation.AnnotationSelectorSettings = annotation.annotationSelectorSettings;\n            newAnnotation.AnnotationSettings = annotation.annotationSettings;\n            newAnnotation.PageNumber = annotation.pageNumber;\n            newAnnotation.ModifiedDate = comments.modifiedDate;\n            newAnnotation.Subject = annotation.subject;\n            newAnnotation.Note = comments.note;\n            newAnnotation.AnnotName = comments.annotName;\n            newAnnotation.Comments = comments.comments;\n            newAnnotation.State = comments.review.state;\n            newAnnotation.StateModel = comments.review.stateModel;\n            newAnnotation.CustomData = annotation.customData;\n            newAnnotation.IsLock = comments.isLock;\n            return newAnnotation;\n        }\n    };\n    /**\n     * @private\n     */\n    // eslint-disable-next-line\n    PdfViewerBase.prototype.removeFocus = function () {\n        if (isBlazor()) {\n            // eslint-disable-next-line\n            var currentPageContainer = this.pdfViewer.element.querySelector('#' + this.pdfViewer.element.id + '_totalPage');\n            // eslint-disable-next-line max-len\n            if (currentPageContainer && currentPageContainer.firstElementChild && currentPageContainer.firstElementChild.firstElementChild) {\n                currentPageContainer.firstElementChild.firstElementChild.blur();\n            }\n        }\n    };\n    /**\n     * @private\n     */\n    // eslint-disable-next-line\n    PdfViewerBase.prototype.updateDocumentEditedProperty = function (isEdited) {\n        this.pdfViewer.allowServerDataBinding = true;\n        this.pdfViewer.isDocumentEdited = isEdited;\n        this.pdfViewer.allowServerDataBinding = false;\n    };\n    /**\n    * @private\n    */\n    PdfViewerBase.prototype.getWindowDevicePixelRatio = function () {\n        var devicePixelRatio = window.devicePixelRatio;\n        if (!Browser.isDevice) {\n            return devicePixelRatio;\n        }\n        else {\n            return devicePixelRatio = 2;\n        }\n    };\n    /**\n    * @private\n    */\n    PdfViewerBase.prototype.getZoomRatio = function (zoom) {\n        var zoomFactor = this.getZoomFactor();\n        var zoomValue = zoom ? zoom : 1;\n        var ratio;\n        var devicePixelRatio = this.getWindowDevicePixelRatio();\n        if (!Browser.isDevice || (Browser.isDevice && zoomFactor <= 0.7)) {\n            ratio = zoomValue * devicePixelRatio;\n        }\n        else {\n            ratio = zoomValue;\n        }\n        return ratio;\n    };\n    /**\n    * @private\n    */\n    PdfViewerBase.prototype.importJsonForRotatedDocuments = function (Rotate, pageNumber, bounds, originalRotation) {\n        // eslint-disable-next-line\n        var rotateAngle = Math.abs(Rotate);\n        var pageDetails = this.pageSize[pageNumber];\n        //originalRotation = !isNullOrUndefined(originalRotation) ? originalRotation : pageDetails.rotation;\n        if (originalRotation !== pageDetails.rotation) {\n            rotateAngle = this.getRotationAngle(originalRotation, pageNumber);\n            this.isPageRotated = true;\n        }\n        else {\n            rotateAngle = 0;\n            this.isPageRotated = false;\n        }\n        if (rotateAngle === 1) {\n            return { X: pageDetails.width - bounds.Y - bounds.Height, Y: bounds.X, Height: bounds.Width, Width: bounds.Height };\n        }\n        else if (rotateAngle === 2) {\n            return { X: pageDetails.width - bounds.X - bounds.Width, Y: pageDetails.height - bounds.Y - bounds.Height, Height: bounds.Height, Width: bounds.Width };\n        }\n        else if (rotateAngle === 3) {\n            return { X: bounds.Y, Y: pageDetails.height - bounds.X - bounds.Width, Height: bounds.Width, Width: bounds.Height };\n        }\n        else {\n            return bounds;\n        }\n    };\n    PdfViewerBase.prototype.getRotationAngle = function (originalRotation, pageNumber) {\n        var pageDetails = this.pageSize[pageNumber];\n        originalRotation = Math.abs(originalRotation);\n        var rotateAngle;\n        if (originalRotation === 0) {\n            return rotateAngle = pageDetails.rotation;\n        }\n        else if (originalRotation === 1 || originalRotation === 90) {\n            if (pageDetails.rotation == 0) {\n                return rotateAngle = 3;\n            }\n            else if (pageDetails.rotation === 2) {\n                return rotateAngle = 1;\n            }\n            else if (pageDetails.rotation === 3) {\n                return rotateAngle = 2;\n            }\n        }\n        else if (originalRotation === 2 || originalRotation === 180) {\n            if (pageDetails.rotation == 0) {\n                return rotateAngle = 2;\n            }\n            else if (pageDetails.rotation === 1) {\n                return rotateAngle = 3;\n            }\n            else if (pageDetails.rotation === 3) {\n                return rotateAngle = 1;\n            }\n        }\n        else if (originalRotation === 3 || originalRotation === 270) {\n            if (pageDetails.rotation == 0) {\n                return rotateAngle = 1;\n            }\n            else if (pageDetails.rotation === 2) {\n                return rotateAngle = 3;\n            }\n            else if (pageDetails.rotation === 1) {\n                return rotateAngle = 2;\n            }\n        }\n    };\n    /**\n   * @private\n   */\n    PdfViewerBase.prototype.calculateVertexPoints = function (Rotate, pageNumber, vertexPoints, originalRotation) {\n        // eslint-disable-next-line\n        var rotateAngle = Math.abs(Rotate);\n        var vPoints = [];\n        var pageDetails = this.pageSize[pageNumber];\n        var x;\n        var y;\n        var point;\n        //originalRotation = !isNullOrUndefined(originalRotation) ? originalRotation : pageDetails.rotation;\n        if (originalRotation !== pageDetails.rotation) {\n            rotateAngle = this.getRotationAngle(originalRotation, pageNumber);\n        }\n        else {\n            rotateAngle = 0;\n        }\n        for (var j = 0; j < vertexPoints.length; j++) {\n            if (rotateAngle === 1) {\n                x = vertexPoints[j].Y ? pageDetails.width - vertexPoints[j].Y : pageDetails.width - vertexPoints[j].y;\n                y = vertexPoints[j].X ? vertexPoints[j].X : vertexPoints[j].x;\n                point = { x: x, y: y };\n                vPoints.push(point);\n            }\n            else if (rotateAngle === 2) {\n                x = vertexPoints[j].X ? pageDetails.width - vertexPoints[j].X : pageDetails.width - vertexPoints[j].x;\n                y = vertexPoints[j].Y ? pageDetails.height - vertexPoints[j].Y : pageDetails.height - vertexPoints[j].y;\n                var point_1 = { x: x, y: y };\n                vPoints.push(point_1);\n            }\n            else if (rotateAngle == 3) {\n                x = vertexPoints[j].Y ? vertexPoints[j].Y : vertexPoints[j].y;\n                y = vertexPoints[j].X ? pageDetails.height - vertexPoints[j].X : pageDetails.height - vertexPoints[j].x;\n                point = { x: x, y: y };\n                vPoints.push(point);\n            }\n            else {\n                x = vertexPoints[j].X ? vertexPoints[j].X : vertexPoints[j].x;\n                y = vertexPoints[j].Y ? vertexPoints[j].Y : vertexPoints[j].y;\n                var point_2 = { x: x, y: y };\n                vPoints.push(point_2);\n            }\n        }\n        return vPoints;\n    };\n    return PdfViewerBase;\n}());\nexport { PdfViewerBase };\n"],"sourceRoot":""}
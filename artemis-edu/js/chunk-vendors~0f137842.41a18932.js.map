{"version":3,"sources":["webpack:///./node_modules/@syncfusion/ej2-drawings/src/drawing/utility/dom-util.js","webpack:///./node_modules/@syncfusion/ej2-drawings/src/drawing/core/elements/path-element.js","webpack:///./node_modules/@syncfusion/ej2-drawings/src/drawing/utility/base-util.js","webpack:///./node_modules/@syncfusion/ej2-drawings/src/drawing/core/elements/drawing-element.js","webpack:///./node_modules/@syncfusion/ej2-drawings/src/drawing/rendering/renderer.js","webpack:///./node_modules/@syncfusion/ej2-drawings/src/drawing/enum/enum.js","webpack:///./node_modules/@syncfusion/ej2-inputs/src/input/input.js","webpack:///./node_modules/@syncfusion/ej2-drawings/src/drawing/primitives/size.js","webpack:///./node_modules/@syncfusion/ej2-drawings/src/drawing/core/containers/canvas.js","webpack:///./node_modules/@syncfusion/ej2-drawings/src/drawing/rendering/canvas-renderer.js","webpack:///./node_modules/@syncfusion/ej2-drawings/src/drawing/core/containers/container.js","webpack:///./node_modules/@syncfusion/ej2-lists/src/common/list-base.js","webpack:///./node_modules/@syncfusion/ej2-drawings/src/drawing/core/appearance.js","webpack:///./node_modules/@syncfusion/ej2-drawings/src/drawing/utility/diagram-util.js","webpack:///./node_modules/@syncfusion/ej2-drawings/src/drawing/rendering/svg-renderer.js","webpack:///./node_modules/@syncfusion/ej2-inputs/src/numerictextbox/numerictextbox.js","webpack:///./node_modules/@syncfusion/ej2-drawings/src/drawing/utility/path-util.js","webpack:///./node_modules/@syncfusion/ej2-drawings/src/drawing/core/elements/image-element.js","webpack:///./node_modules/@syncfusion/ej2-drawings/src/drawing/primitives/matrix.js","webpack:///./node_modules/@syncfusion/ej2-drawings/src/drawing/primitives/point.js","webpack:///./node_modules/@syncfusion/ej2-drawings/src/drawing/primitives/rect.js","webpack:///./node_modules/@syncfusion/ej2-drawings/src/drawing/core/elements/text-element.js","webpack:///./node_modules/@syncfusion/ej2-inputs/src/textbox/textbox.js"],"names":["getChildNode","node","child","collection","info","name","i","childNodes","length","nodeType","push","children","measurePath","data","path","window","measureElement","style","visibility","svg","element","setAttribute","bounds","getBBox","x","y","width","height","svgBounds","currentValue","xmin","xmax","ymin","ymax","currentpath","replace","trim","split","Math","min","max","getTextOptions","maxWidth","options","fill","stroke","strokeColor","angle","rotateAngle","parentTransform","pivotX","pivot","pivotY","strokeWidth","dashArray","strokeDashArray","opacity","visible","id","actualSize","offsetX","offsetY","fontSize","fontFamily","textOverflow","textDecoration","doWrap","whiteSpace","textWrapping","content","breakWord","textAlign","color","italic","bold","wrapSvgText","text","textValue","txtValue","bounds1","k","dy","ceil","indexOf","wordWrapping","words","newText","existingWidth","existingText","j","wrap","eachLine","floor","wrapSvgTextAlign","txtWidth","wrapBounds","measureText","getDiagramElement","elementId","contentId","diagramElement","document","getElementById","querySelector","createHtmlElement","elementType","attribute","setAttributeHtml","attributes","keys","Object","createMeasureElements","usageCount","divElement","appendChild","imageElement","createElementNS","createTextNode","tSpan","setAttributeNS","body","measureImage","source","contentSize","getBoundingClientRect","__extends","extendStatics","d","b","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","this","constructor","prototype","create","PathElement","_super","_this","call","pathData","transformPath","absolutePath","canMeasurePath","absoluteBounds","defineProperty","get","set","value","isDirt","enumerable","configurable","measure","availableSize","staticSize","undefined","desiredSize","validateDesiredSize","arrange","updatePath","points","updateBounds","isScale","newPathString","scaleX","scaleY","arrayCollection","Number","randomId","num","chars","crypto","count","Uint16Array","intCrypto","msCrypto","getRandomValues","random","substring","cornersPointsBeforeRotation","ele","top","bottom","left","right","topLeft","topRight","bottomLeft","bottomRight","toBounds","rotateSize","size","matrix","minX","minY","maxX","maxY","getBounds","corners","middleLeft","topCenter","bottomCenter","middleRight","center","textAlignToString","state","wordBreakToString","bBoxText","textContent","bBox","whiteSpaceToString","rotatePoint","point","getOffset","obj","offX","offY","DrawingElement","rotateValue","cornerRadius","minHeight","minWidth","maxHeight","horizontalAlignment","verticalAlignment","margin","relativeMode","transform","Self","Parent","preventContainer","isRectElement","isCalculateDesiredSize","elementActions","None","position","unitMode","float","floatingBounds","setOffsetWithRespectToBounds","mode","getAbsolutePosition","DrawingRenderer","isSvgMode","renderer","diagramId","renderElement","canvas","htmlLayer","parentSvg","createParent","fromPalette","indexValue","renderContainer","renderImageElement","renderPathElement","renderTextElement","renderRect","imageWidth","imageHeight","sourceWidth","sourceHeight","getBaseAttributes","drawRectangle","stretch","contentWidth","contentHeight","widthRatio","heightRatio","ratio","abs","alignment","imageAlign","scale","imageScale","drawImage","drawPath","drawText","group","tx","ty","hasChildren","parentG","_i","_a","gradient","RotateTransform","ElementAction","ConnectorConstraints","ThumbsConstraints","SelectorConstraints","NoOfSegments","Input","CLASSNAMES","RTL","DISABLE","INPUT","TEXTAREA","INPUTGROUP","FLOATINPUT","FLOATLINE","FLOATTEXT","CLEARICON","CLEARICONHIDE","LABELTOP","LABELBOTTOM","NOFLOATLABEL","INPUTCUSTOMTAG","FLOATCUSTOMTAG","floatType","isBindClearAction","createInput","args","internalCreateElement","makeElement","inputObject","container","buttons","clearButton","floatLabelType","bindClearAction","createInputContainer","parentNode","insertBefore","createFloatingInput","bindInitialEvent","properties","showClearButton","tagName","setClearButton","classList","contains","appendSpan","validateInputType","setPropertyValue","checkInputValue","addEventListener","parent","getParentNode","add","remove","inputElement","inputValue","parentElement","_focusFn","label","getElementsByClassName","_blurFn","getElementsByTagName","wireFloatingEvents","unwireFloatingEvents","removeEventListener","customTag","floatLinelement","className","floatLabelElement","placeholder","innerText","encodePlaceHolder","removeAttribute","inputWrap","updateLabelState","event","getAttribute","checkFloatLabelType","type","prop","setCssClass","cssClass","setEnabled","enabled","setEnableRtl","enableRtl","setPlaceholder","setReadonly","readonly","updateIconState","button","isNotFocused","activeElement","createClearButton","initial","baseElement","insertAdjacentElement","wireClearBtnEvents","readOnly","preventDefault","focus","setTimeout","validateLabel","tagClass","tag","result","spanEle","createElement","innerHTML","hiddenInput","setValue","elements","oldClass","setWidth","match","isReadonly","isRtl","isEnable","inputContainer","disabledAttrs","considerWrapper","removeAttributes","addAttributes","isClear","attrs","key","removeFloating","input","inputEle","addFloating","iconEle","inputObj","isPrependIcon","floatLine","floatText","wrapper","setRipple","isRipple","_internalRipple","argsButton","querySelectorAll","index","_onMouseDownRipple","_onMouseUpRipple","_onMouseRipple","parentEle","createIconEle","iconClass","addIcon","icons","internalCreate","toLowerCase","result_1","icon","result_2","prependSpan","innerWrapper","containerElement","Size","clone","Canvas","apply","arguments","measureChildren","desired","desiredBounds","canMeasure","childSize","childBounds","canConsiderBounds","uniteRect","leftMargin","topMargin","stretchChildren","outerBounds","childX","childY","alignChildBasedOnParent","alignChildBasedOnaPoint","centerPoint","findChildOffsetFromCenter","parentSize","CanvasRenderer","getContext","setStyle","ctx","strokeStyle","lineWidth","globalAlpha","parseDashArray","setLineDash","fillStyle","rotateContext","translate","rotate","PI","setFontStyle","font","dashes","separator","splittedDashes","splittedDashes_1","save","beginPath","rect","fillRect","closePath","restore","renderPath","length_1","x0","y0","x1","y1","x2","y2","segs","seg","char","command","moveTo","lineTo","bezierCurveTo","quadraticCurveTo","curr","rx","r1","ry","r2","xAxisRotation","largeArc","sweep","cp","currp","cos","sin","l","pow","sqrt","s","isNaN","cpp","centp","a1","a","u","v","ad","r","dir","ah","ra","sx","sy","arc","labelAlign","fillText","startPointX","startPointY","textlength","endPointX","endPointY","m","acos","getMeetOffset","arg","res","dest","getSliceOffset","src","image","alignOptions","srcWidth","srcHeight","destinationW","destinationH","resultWidth","resultHeight","xalign","substr","yalign","sWidth","sHeight","dWidth","dHeight","canvas1","toString","ctx1","srcRatio","destRatio","complete","transform_1","getTransform","onload","setTransform","c","e","f","loadImage","Image","ctx_1","pivotX_1","pivotY_1","imageObj","labelX","labelY","offsetx","offsety","pointx","pointy","refreshDiagramElements","drawingObjects","Container","prevRotateAngle","force","GetChildrenBounds","offsetPt","newPoint","offset","refPoint","ListBase","li","ul","check","checked","selected","expanded","hasChild","level","url","collapsible","disabled","iconWrapper","anchorWrap","navigable","getFieldValues","dataItem","fields","fieldData","isHeader","field","dataField","compileTemplate","template","defaultMappedFields","isChecked","iconCss","isVisible","tooltip","htmlAttributes","urlAttributes","imageAttributes","imageUrl","groupBy","sortBy","defaultAriaAttributes","listRole","itemRole","groupItemRole","itemText","wrapperRole","defaultListBaseOptions","showCheckBox","showIcon","enableHtmlSanitizer","expandCollapse","ariaAttributes","listClass","itemClass","processSubChild","sortOrder","groupTemplate","headerTemplate","expandIconClass","moduleName","expandIconPosition","itemNavigable","createList","dataSource","isSingleLevel","componentInstance","curOpt","typeofData","typeof","createListFromArray","createListFromJson","subChild","createListItemFromArray","generateUL","getModuleClass","generateId","itemCreating","curData","generateSingleLevelLI","generateLI","itemCreated","item","createListItemFromJson","getModuleName","checkboxElement","anchorElement","curItem","innerEle","firstElementChild","display","attr","imageElemnt","iconElement","getSiblingLI","elementArray","isPrevious","siblingLI","liIndex","liCollections","slice","groupDataSource","curFields","cusQuery","addSorting","ds","getDataSource","itemObj","items","grpItem","hdr","newtext","_id","query","queries","fn","splice","executeLocal","createJsonFromElement","curEle","cloneNode","jsonAr","childs","anchor","json","i_1","hasChildNodes","attributes_1","getAllAttributes","elementAttributes","class","nodeName","nodeValue","renderContentTemplate","ulElement","role","compiledString","liCollection","currentID","groupTemplateID","templateID","compiledElement","isStringTemplate","renderGroupTemplate","headerItems","category","headerItems_1","header","headerData","subDS","subLi","expandElement","innerElements","grpLI","elementID","href","anchorTag","isFullNavigation","anchorWrapper","uID","innerDiv","liElement","generateIcon","__decorate","decorators","target","desc","getOwnPropertyDescriptor","Reflect","decorate","getGradientType","Thickness","Margin","Stop","getClassName","Gradient","LinearGradient","RadialGradient","ShapeStyle","StrokeStyle","TextStyle","intersect3","lineUtil1","lineUtil2","l1","l2","na","nb","intersectPt","ua","ub","mousePosition","corner","padding","SvgRenderer","onlyRect","isSelector","ariaLabel","poiterEvents","setAttributeSvg","setSvgStyle","updateSelectionRegion","gElement","createGElement","createSvgElement","drawCircle","enableSelector","circle","classval","centerX","centerY","radius","pointerEvents","canApplyStyle","canvasRenderer","svgLabelAlign","wrapBound","pos","pointX","pointY","drawLine","line","startPoint","endPoint","shadowElement","removeChild","segments","segment","ROOT","SPINICON","SPINUP","SPINDOWN","ERROR","INCREMENT","DECREMENT","INTREGEXP","RegExp","DECIMALSEPARATOR","COMPONENT","CONTROL","NUMERIC_FOCUS","HIDDENELEMENT","wrapperAttributes","NumericTextBox","isVue","preventChange","isAngular","isDynamicChange","numericOptions","preRender","isPrevFocused","decimalSeparator","intRegExp","isCalled","ejInstance","cloneElement","angularTagName","formEle","attributeName","filter","join","hasAttribute","localeText","incrementTitle","decrementTitle","l10n","locale","getConstant","setProperties","isValidState","inputStyle","inputName","cultureInfo","initCultureInfo","initCultureFunc","prevValue","updateHTMLAttrToElement","checkAttributes","inputEleValue","validateMinMax","validateStep","updatePlaceholder","render","createWrapper","showSpinButton","spinBtnCreation","setElementWidth","changeValue","strictMode","trimValue","wireEvents","decimals","roundNumber","elementPrevValue","renderComplete","isDynamic","setNumber","instance","getNumberParser","format","minValue","maxValue","stepValue","currency","currencyCode","updatedCssClassValue","getNumericValidClassList","inputWrapper","updateHTMLAttrToWrapper","updateDataAttribute","pro","updateCssClass","newClass","numericClassName","updatedClassValue","numericStyle","spinDown","spinUp","wireSpinBtnEvents","MAX_VALUE","formattedValue","getNumberFormat","maximumFractionDigits","minimumFractionDigits","useGrouping","step","action","operation","isInteract","isFocused","performAction","raiseChangeEvent","checkErrorClass","bindClearEvent","resetHandler","clear","setElementValue","formElement","nextElementSibling","keyupEvent","createEvent","initEvent","dispatchEvent","resetFormHandler","updateValue","setSpinButton","focusHandler","focusOutHandler","keyDownHandler","keyUpHandler","inputHandler","keyPressHandler","changeHandler","pasteHandler","touchStartEvent","mouseDownOnSpinner","touchEndEvent","mouseUpOnSpinner","touchMoveEvent","touchMoveOnSpinner","unwireEvents","unwireSpinBtnEvents","stopPropagation","parsedInput","eventArgs","changeEventArgs","previousValue","isInteracted","isInteraction","trigger","beforeUpdate","numericRegex","test","preventHandler","iOS","navigator","platform","selectionStart","currentPos","prevPos","start","valArray","numericObject","ignoreKeyCode","charCodeAt","prevVal","setSelectionRange","parseFloat","lastIndexOf","nextEle","cursorPosChanged","validateDecimalOnType","isDevice","parseValue","numerictextboxObj","fireFox","userAgent","parsedValue","localChange","current","previous","nonZeroRegex","keyCode","updatedValue","correctRounding","floatExp","floatValue","floatStep","valueCount","exec","stepCount","roundValue","precision","divide","round","updateCurrency","propVal","numberOfDecimals","getNumberOfDecimals","modifyText","validateState","formatNumber","elementValue","serverDecimalSeparator","val","EXPREGEXP","valueString","toFixed","parseInt","decimalPart","result1","result2","cancelEvent","version","which","metaKey","ctrlKey","currentChar","String","fromCharCode","isAlterNumPadDecimalChar","code","selectionEnd","fractionRule","mouseWheel","delta","rawEvent","wheelDelta","detail","focusEventArgs","formatValue_1","delay","isIos","blurEventArgs","value_1","ele_1","focusEvent","getElementData","currentTarget","mouseUpClick","timeOut","setInterval","touchEvent","touches","elementFromPoint","pageX","pageY","clientX","clientY","clearInterval","floatLabelTypeUpdate","increment","decrement","destroy","attrArray","getText","focusIn","focusOut","blur","getPersistData","keyEntity","addOnPersist","onPropertyChanged","newProp","oldProp","updateSpinButton","updateClearButton","setLocale","propValue","processPathData","parsePathData","ob","tokenizer","commands","lastIndex","isExponential","getRectanglePath","point2","next","pathSegmentCollection","prev","ctrl","cpt2","newSeg","arr","sX","sY","bX","bY","iX","iY","scalePathData","scaledPath","updatedSegment","getPathString","scaleFactor","oldOffset","newOffset","splitArrayCollection","getNewString","getString","string","cmd","ang","ImageElement","imageSource","MatrixTypes","Matrix","m11","m12","m21","m22","identityMatrix","Identity","transformPointByMatrix","pt","multiplyPoint","rotateMatrix","multiplyMatrix","createRotationRadians","scaleMatrix","createScaling","Scaling","Translation","setMatrix","num2","Unknown","matrix1","matrix2","type2","assignMatrix","m11New","m12New","m21New","m22New","offsetX_1","offsetY_1","mat","Point","equals","point1","isEmptyPoint","findLength","findAngle","atan2","distancePoints","pt1","pt2","getLengthFromListOfPoints","adjustPoint","isStart","direction","Rect","rect1","rect2","NaN","unitePoint","intersection","intersects","top_1","empty","Inflate","containsRect","containsPoint","toPoints","points_1","MIN_VALUE","TextElement","textNodes","textWrapBounds","refreshTextElement","HIDE_CLEAR","TEXTBOX_FOCUS","containerAttr","TextBox","isHiddenInput","isForm","inputPreviousValue","textboxOptions","textboxWrapper","respectiveElement","prevOnChange","isProtectedOnChange","isBlank","autocomplete","globalize","str","multiline","textarea","apiAttributes","attrs_1","autoCompleteTxt","getInputValidClassList","initialValue","setInitialValue","defaultValue","updatedClassValues","inputClassName","resetForm","animationHandler","resetValue","textboxObj","interaction","resetInputHandler","unWireEvents"],"mappings":"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","file":"js/chunk-vendors~0f137842.41a18932.js","sourcesContent":["import { Rect } from '../primitives/rect';\nimport { Size } from '../primitives/size';\nimport { whiteSpaceToString, wordBreakToString, textAlignToString, bBoxText } from './base-util';\nimport { identityMatrix, transformPointByMatrix, rotateMatrix } from '../primitives/matrix';\nimport { createElement, Browser } from '@syncfusion/ej2-base';\n/**\n * Defines the functionalities that need to access DOM\n */\nexport function getChildNode(node) {\n    var child;\n    var collection = [];\n    if (Browser.info.name === 'msie' || Browser.info.name === 'edge') {\n        for (var i = 0; i < node.childNodes.length; i++) {\n            child = node.childNodes[i];\n            if (child.nodeType === 1) {\n                collection.push(child);\n            }\n        }\n    }\n    else {\n        collection = node.children;\n    }\n    return collection;\n}\nexport function translatePoints(element, points) {\n    var translatedPts = [];\n    for (var _i = 0, points_1 = points; _i < points_1.length; _i++) {\n        var point = points_1[_i];\n        var pt1 = {\n            x: element.offsetX - element.actualSize.width * element.pivot.x + point.x,\n            y: element.offsetY - element.actualSize.height * element.pivot.y + point.y\n        };\n        var matrix = void 0;\n        var angle = element.rotateAngle + element.parentTransform;\n        if (angle) {\n            matrix = identityMatrix();\n            rotateMatrix(matrix, angle, element.offsetX, element.offsetY);\n        }\n        if (matrix) {\n            pt1 = transformPointByMatrix(matrix, pt1);\n        }\n        translatedPts.push(pt1);\n    }\n    return translatedPts;\n}\n/** @private */\nexport function measurePath(data) {\n    var path = 'pathTable';\n    if (!window[path]) {\n        window[path] = {};\n    }\n    if (data) {\n        var measureElement = 'measureElement';\n        window[measureElement].style.visibility = 'visible';\n        var svg = window[measureElement].children[2];\n        var element = getChildNode(svg)[0];\n        element.setAttribute('d', data);\n        //let bounds: SVGRect = element.getBBox();\n        var bounds = void 0;\n        if (window[path][data]) {\n            bounds = window[path][data];\n        }\n        else {\n            window[path][data] = bounds = element.getBBox();\n            if ((bounds.x === 0 || bounds.y === 0) && (bounds.width === 0 || bounds.height === 0)) {\n                window[path][data] = bounds = getBBox(data);\n            }\n        }\n        var svgBounds = new Rect(bounds.x, bounds.y, bounds.width, bounds.height);\n        window[measureElement].style.visibility = 'hidden';\n        return svgBounds;\n    }\n    return new Rect(0, 0, 0, 0);\n}\n// tslint:disable-next-line\nfunction getBBox(path) {\n    var xmin = 0;\n    var xmax = 0;\n    var ymin = 0;\n    var ymax = 0;\n    // tslint:disable-next-line\n    var currentValue;\n    // tslint:disable-next-line\n    var currentpath = path;\n    currentpath = currentpath.replace(/[a-z].*/g, ' ').replace(/[\\sA-Z]+/gi, ' ').trim().split(' ');\n    for (var i = 0; i < currentpath.length; i++) {\n        if (currentpath[i].length > 1) {\n            currentValue = currentpath[i].split(',');\n            xmin = xmax = currentValue[0];\n            ymin = ymax = currentValue[1];\n        }\n    }\n    for (var i = 0; i < currentpath.length; i++) {\n        currentValue = currentpath[i].split(',');\n        if (!currentValue[1]) {\n            currentValue[0] = xmin;\n            currentValue[1] = ymin;\n        }\n        xmin = Math.min(xmin, currentValue[0]);\n        xmax = Math.max(xmax, currentValue[0]);\n        ymin = Math.min(ymin, currentValue[1]);\n        ymax = Math.max(ymax, currentValue[1]);\n    }\n    return { x: xmin, y: ymin, width: xmax - xmin, height: ymax - ymin };\n}\nfunction getTextOptions(element, maxWidth) {\n    var options = {\n        fill: element.style.fill, stroke: element.style.strokeColor, angle: element.rotateAngle + element.parentTransform,\n        pivotX: element.pivot.x, pivotY: element.pivot.y, strokeWidth: element.style.strokeWidth,\n        dashArray: element.style.strokeDashArray, opacity: element.style.opacity,\n        visible: element.visible, id: element.id,\n        width: maxWidth || element.actualSize.width, height: element.actualSize.height,\n        x: element.offsetX - element.actualSize.width * element.pivot.x + 0.5,\n        y: element.offsetY - element.actualSize.height * element.pivot.y + 0.5\n    };\n    options.fontSize = element.style.fontSize;\n    options.fontFamily = element.style.fontFamily;\n    options.textOverflow = element.style.textOverflow;\n    options.textDecoration = element.style.textDecoration;\n    options.doWrap = element.doWrap;\n    options.whiteSpace = whiteSpaceToString(element.style.whiteSpace, element.style.textWrapping);\n    options.content = element.content;\n    options.textWrapping = element.style.textWrapping;\n    options.breakWord = wordBreakToString(element.style.textWrapping);\n    options.textAlign = textAlignToString(element.style.textAlign);\n    options.color = element.style.color;\n    options.italic = element.style.italic;\n    options.bold = element.style.bold;\n    options.dashArray = '';\n    options.strokeWidth = 0;\n    options.fill = '';\n    return options;\n}\nfunction wrapSvgText(text, textValue) {\n    var childNodes = [];\n    var k = 0;\n    var txtValue;\n    var bounds1;\n    var content = textValue || text.content;\n    if (text.whiteSpace !== 'nowrap' && text.whiteSpace !== 'pre') {\n        if (text.breakWord === 'breakall') {\n            txtValue = '';\n            txtValue += content[0];\n            for (k = 0; k < content.length; k++) {\n                bounds1 = bBoxText(txtValue, text);\n                if (bounds1 >= text.width && txtValue.length > 0) {\n                    childNodes[childNodes.length] = { text: txtValue, x: 0, dy: 0, width: bounds1 };\n                    txtValue = '';\n                }\n                else {\n                    txtValue = txtValue + (content[k + 1] || '');\n                    // if (txtValue.indexOf('\\n') > -1) {\n                    //     txtValue = txtValue.replace('\\n', '');\n                    // }\n                    var width = bBoxText(txtValue, text);\n                    if ((Math.ceil(width) + 2 >= text.width && txtValue.length > 0) || (txtValue.indexOf('\\n') > -1)) {\n                        childNodes[childNodes.length] = { text: txtValue, x: 0, dy: 0, width: width };\n                        txtValue = '';\n                    }\n                    if (k === content.length - 1 && txtValue.length > 0) {\n                        childNodes[childNodes.length] = { text: txtValue, x: 0, dy: 0, width: width };\n                        txtValue = '';\n                    }\n                }\n            }\n        }\n        else {\n            childNodes = wordWrapping(text, textValue);\n        }\n    }\n    else {\n        childNodes[childNodes.length] = { text: content, x: 0, dy: 0, width: bBoxText(content, text) };\n    }\n    return childNodes;\n}\nfunction wordWrapping(text, textValue) {\n    var childNodes = [];\n    var txtValue = '';\n    var j = 0;\n    var i = 0;\n    var wrap = text.whiteSpace !== 'nowrap' ? true : false;\n    var content = textValue || text.content;\n    var eachLine = content.split('\\n');\n    var txt;\n    var words;\n    var newText;\n    var existingWidth;\n    var existingText;\n    for (j = 0; j < eachLine.length; j++) {\n        txt = '';\n        words = text.textWrapping !== 'NoWrap' ? eachLine[j].split(' ') : eachLine;\n        for (i = 0; i < words.length; i++) {\n            txtValue += (((i !== 0 || words.length === 1) && wrap && txtValue.length > 0) ? ' ' : '') + words[i];\n            newText = txtValue + (words[i + 1] || '');\n            var width = bBoxText(newText, text);\n            if (Math.floor(width) > text.width - 2 && txtValue.length > 0) {\n                childNodes[childNodes.length] = {\n                    text: txtValue, x: 0, dy: 0,\n                    width: newText === txtValue ? width : (txtValue === existingText) ? existingWidth : bBoxText(txtValue, text)\n                };\n                txtValue = '';\n            }\n            else {\n                if (i === words.length - 1) {\n                    childNodes[childNodes.length] = { text: txtValue, x: 0, dy: 0, width: width };\n                    txtValue = '';\n                }\n            }\n            existingText = newText;\n            existingWidth = width;\n        }\n    }\n    return childNodes;\n}\nfunction wrapSvgTextAlign(text, childNodes) {\n    var wrapBounds = { x: 0, width: 0 };\n    var k = 0;\n    var txtWidth;\n    var width;\n    for (k = 0; k < childNodes.length; k++) {\n        txtWidth = childNodes[k].width;\n        width = txtWidth;\n        if (text.textAlign === 'left') {\n            txtWidth = 0;\n        }\n        else if (text.textAlign === 'center') {\n            if (txtWidth > text.width && (text.textOverflow === 'Ellipsis' || text.textOverflow === 'Clip')) {\n                txtWidth = 0;\n            }\n            else {\n                txtWidth = -txtWidth / 2;\n            }\n        }\n        else if (text.textAlign === 'right') {\n            txtWidth = -txtWidth;\n        }\n        else {\n            txtWidth = childNodes.length > 1 ? 0 : -txtWidth / 2;\n        }\n        childNodes[k].dy = text.fontSize * 1.2;\n        childNodes[k].x = txtWidth;\n        if (!wrapBounds) {\n            wrapBounds = {\n                x: txtWidth,\n                width: width\n            };\n        }\n        else {\n            wrapBounds.x = Math.min(wrapBounds.x, txtWidth);\n            wrapBounds.width = Math.max(wrapBounds.width, width);\n        }\n    }\n    return wrapBounds;\n}\n/** @private */\nexport function measureText(text, style, content, maxWidth, textValue) {\n    var bounds = new Size(0, 0);\n    var childNodes;\n    var wrapBounds;\n    var options = getTextOptions(text, maxWidth);\n    text.childNodes = childNodes = wrapSvgText(options, textValue);\n    text.wrapBounds = wrapBounds = wrapSvgTextAlign(options, childNodes);\n    bounds.width = wrapBounds.width;\n    if (text.wrapBounds.width >= maxWidth && options.textOverflow !== 'Wrap') {\n        bounds.width = maxWidth;\n    }\n    bounds.height = childNodes.length * text.style.fontSize * 1.2;\n    return bounds;\n}\n/** @private */\nexport function getDiagramElement(elementId, contentId) {\n    var diagramElement;\n    var element;\n    if (contentId) {\n        element = document.getElementById(contentId);\n    }\n    diagramElement = (element) ? element.querySelector('#' + elementId) : document.getElementById(elementId);\n    return diagramElement;\n}\n/** @private */\nexport function createHtmlElement(elementType, attribute) {\n    var element = createElement(elementType);\n    setAttributeHtml(element, attribute);\n    return element;\n}\n/** @private */\nexport function setAttributeHtml(element, attributes) {\n    var keys = Object.keys(attributes);\n    for (var i = 0; i < keys.length; i++) {\n        element.setAttribute(keys[i], attributes[keys[i]]);\n    }\n}\n/**\n * @private\n */\nexport function getAdornerLayerSvg(diagramId, index) {\n    var adornerLayerSvg = null;\n    var diagramElement = getDiagramElement(diagramId + index + '_diagramAdornerLayer');\n    var elementcoll;\n    if (diagramElement) {\n        elementcoll = diagramElement.getElementsByClassName('e-adorner-layer' + index);\n        adornerLayerSvg = elementcoll[0];\n    }\n    return adornerLayerSvg;\n}\n/** @private */\nexport function getSelectorElement(diagramId, index) {\n    var adornerLayer = null;\n    var adornerSvg = getAdornerLayerSvg(diagramId, index);\n    if (adornerSvg) {\n        adornerLayer = adornerSvg.getElementById(diagramId + '_SelectorElement');\n    }\n    return adornerLayer;\n}\n/** @private */\nexport function createMeasureElements() {\n    var measureElement = 'measureElement';\n    if (!window[measureElement]) {\n        var divElement = createHtmlElement('div', {\n            id: 'measureElement',\n            style: 'visibility:hidden ; height: 0px ; width: 0px; overflow: hidden;'\n        });\n        var text = createHtmlElement('span', { 'style': 'display:inline-block ; line-height: normal' });\n        divElement.appendChild(text);\n        var imageElement = void 0;\n        imageElement = createHtmlElement('img', {});\n        divElement.appendChild(imageElement);\n        var svg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n        svg.setAttribute('xlink', 'http://www.w3.org/1999/xlink');\n        divElement.appendChild(svg);\n        var element = document.createElementNS('http://www.w3.org/2000/svg', 'path');\n        svg.appendChild(element);\n        var data = document.createTextNode('');\n        var tSpan = document.createElementNS('http://www.w3.org/2000/svg', 'text');\n        tSpan.setAttributeNS('http://www.w3.org/XML/1998/namespace', 'xml:space', 'preserve');\n        svg.appendChild(tSpan);\n        window[measureElement] = divElement;\n        window[measureElement].usageCount = 1;\n        document.body.appendChild(divElement);\n    }\n    else {\n        window[measureElement].usageCount += 1;\n    }\n}\n/** @private */\nexport function measureImage(source, contentSize) {\n    var measureElement = 'measureElement';\n    window[measureElement].style.visibility = 'visible';\n    var imageElement = window[measureElement].children[1];\n    imageElement.setAttribute('src', source);\n    var bounds = imageElement.getBoundingClientRect();\n    var width = bounds.width;\n    var height = bounds.height;\n    contentSize = new Size(width, height);\n    window[measureElement].style.visibility = 'hidden';\n    return contentSize;\n}\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Size } from '../../primitives/size';\nimport { DrawingElement } from './drawing-element';\nimport { Rect } from '../../primitives/rect';\nimport { measurePath } from './../../utility/dom-util';\nimport { processPathData, splitArrayCollection, transformPath, getPathString } from '../../utility/path-util';\n/**\n * PathElement takes care of how to align the path based on offsetX and offsetY\n */\nvar PathElement = /** @class */ (function (_super) {\n    __extends(PathElement, _super);\n    /**\n     * set the id for each element\n     */\n    function PathElement() {\n        var _this = _super.call(this) || this;\n        /**\n         * Gets or sets the geometry of the path element\n         */\n        _this.pathData = '';\n        /**\n         * Gets/Sets whether the path has to be transformed to fit the given x,y, width, height\n         */\n        _this.transformPath = true;\n        /**\n         * Gets/Sets the equivalent path, that will have the origin as 0,0\n         */\n        _this.absolutePath = '';\n        /**   @private  */\n        _this.canMeasurePath = false;\n        //Private variables\n        /**   @private  */\n        _this.absoluteBounds = new Rect();\n        return _this;\n    }\n    Object.defineProperty(PathElement.prototype, \"data\", {\n        /**\n         * Gets the geometry of the path element\n         */\n        get: function () {\n            return this.pathData;\n        },\n        /**\n         * Sets the geometry of the path element\n         */\n        set: function (value) {\n            if (this.pathData !== value) {\n                this.pathData = value;\n                this.isDirt = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * Measures the minimum space that is required to render the element\n     * @param availableSize\n     */\n    PathElement.prototype.measure = function (availableSize) {\n        //Performance issue - Avoiding measuring the connector path\n        if (this.staticSize && this.width !== undefined && this.height !== undefined) {\n            this.absoluteBounds = new Rect(this.offsetX - this.width * this.pivot.x, this.offsetY - this.height * this.pivot.y, this.width, this.height);\n        }\n        else if (this.isDirt && (this.transformPath || (this.width === undefined || this.height === undefined))\n            && (!this.absoluteBounds || this.absoluteBounds.height === 0) || this.canMeasurePath) {\n            //Measure the element only whent the path data is changed/ size is not specified\n            this.absoluteBounds = measurePath(this.data ? this.data : '');\n        }\n        if (this.width === undefined) {\n            this.desiredSize = new Size(this.absoluteBounds.width, this.height || this.absoluteBounds.height);\n        }\n        else if (this.height === undefined) {\n            this.desiredSize = new Size(this.width || this.absoluteBounds.width, this.absoluteBounds.height);\n        }\n        else {\n            this.desiredSize = new Size(this.width, this.height);\n        }\n        this.desiredSize = this.validateDesiredSize(this.desiredSize, availableSize);\n        this.canMeasurePath = false;\n        return this.desiredSize;\n    };\n    /**\n     * Arranges the path element\n     * @param desiredSize\n     */\n    PathElement.prototype.arrange = function (desiredSize) {\n        if (this.isDirt || this.actualSize.width !== desiredSize.width || this.actualSize.height !== desiredSize.height) {\n            this.isDirt = true;\n            this.absolutePath = this.updatePath(this.data, this.absoluteBounds, desiredSize);\n            if (!this.staticSize) {\n                this.points = null;\n            }\n        }\n        this.actualSize = this.desiredSize;\n        this.updateBounds();\n        this.isDirt = false;\n        return this.actualSize;\n    };\n    /**\n     * Translates the path to 0,0 and scales the path based on the actual size\n     * @param pathData\n     * @param bounds\n     * @param actualSize\n     */\n    PathElement.prototype.updatePath = function (pathData, bounds, actualSize) {\n        var isScale = false;\n        var newPathString = '';\n        var scaleX = -bounds.x;\n        var scaleY = -bounds.y;\n        var arrayCollection = [];\n        if (actualSize.width !== bounds.width || actualSize.height !== bounds.height) {\n            scaleX = actualSize.width / Number(bounds.width ? bounds.width : 1);\n            scaleY = actualSize.height / Number(bounds.height ? bounds.height : 1);\n            isScale = true;\n        }\n        arrayCollection = processPathData(pathData);\n        arrayCollection = splitArrayCollection(arrayCollection);\n        if ((isScale || this.isDirt) && this.transformPath) {\n            newPathString = transformPath(arrayCollection, scaleX, scaleY, isScale, bounds.x, bounds.y, 0, 0);\n        }\n        else {\n            newPathString = getPathString(arrayCollection);\n        }\n        isScale = false;\n        return newPathString;\n    };\n    return PathElement;\n}(DrawingElement));\nexport { PathElement };\n","import { Rect } from '../primitives/rect';\nimport { identityMatrix, transformPointByMatrix, rotateMatrix } from '../primitives/matrix';\nimport { getChildNode } from './dom-util';\nimport { Size } from '../primitives/size';\n/**\n * Implements the basic functionalities\n */\n/** @private */\nexport function randomId() {\n    var chars = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz';\n    var id = '';\n    var num;\n    for (var i = 0; i < 5; i++) {\n        if ('crypto' in window && 'getRandomValues' in crypto) {\n            var count = new Uint16Array(1);\n            // tslint:disable-next-line:no-any\n            var intCrypto = window.msCrypto || window.crypto;\n            num = intCrypto.getRandomValues(count)[0] % (chars.length - 1);\n        }\n        else {\n            num = Math.floor(Math.random() * chars.length);\n        }\n        if (i === 0 && num < 10) {\n            i--;\n            continue;\n        }\n        id += chars.substring(num, num + 1);\n    }\n    return id;\n}\n/** @private */\nexport function cornersPointsBeforeRotation(ele) {\n    var bounds = new Rect();\n    var top = ele.offsetY - ele.actualSize.height * ele.pivot.y;\n    var bottom = ele.offsetY + ele.actualSize.height * (1 - ele.pivot.y);\n    var left = ele.offsetX - ele.actualSize.width * ele.pivot.x;\n    var right = ele.offsetX + ele.actualSize.width * (1 - ele.pivot.x);\n    var topLeft = { x: left, y: top };\n    var topCenter = { x: (left + right) / 2, y: top };\n    var topRight = { x: right, y: top };\n    var middleLeft = { x: left, y: (top + bottom) / 2 };\n    var middleRight = { x: right, y: (top + bottom) / 2 };\n    var bottomLeft = { x: left, y: bottom };\n    var bottomCenter = { x: (left + right) / 2, y: bottom };\n    var bottomRight = { x: right, y: bottom };\n    bounds = Rect.toBounds([topLeft, topRight, bottomLeft, bottomRight]);\n    return bounds;\n}\n/** @private */\nexport function rotateSize(size, angle) {\n    var matrix = identityMatrix();\n    rotateMatrix(matrix, angle, 0, 0);\n    var topLeft = transformPointByMatrix(matrix, { x: 0, y: 0 });\n    var topRight = transformPointByMatrix(matrix, { x: size.width, y: 0 });\n    var bottomLeft = transformPointByMatrix(matrix, { x: 0, y: size.height });\n    var bottomRight = transformPointByMatrix(matrix, { x: size.width, y: size.height });\n    var minX = Math.min(topLeft.x, topRight.x, bottomLeft.x, bottomRight.x);\n    var minY = Math.min(topLeft.y, topRight.y, bottomLeft.y, bottomRight.y);\n    var maxX = Math.max(topLeft.x, topRight.x, bottomLeft.x, bottomRight.x);\n    var maxY = Math.max(topLeft.y, topRight.y, bottomLeft.y, bottomRight.y);\n    return new Size(maxX - minX, maxY - minY);\n}\n/** @private */\nexport function getBounds(element) {\n    var bounds = new Rect();\n    var corners;\n    corners = cornersPointsBeforeRotation(element);\n    var middleLeft = corners.middleLeft;\n    var topCenter = corners.topCenter;\n    var bottomCenter = corners.bottomCenter;\n    var middleRight = corners.middleRight;\n    var topLeft = corners.topLeft;\n    var topRight = corners.topRight;\n    var bottomLeft = corners.bottomLeft;\n    var bottomRight = corners.bottomRight;\n    element.corners = {\n        topLeft: topLeft, topCenter: topCenter, topRight: topRight, middleLeft: middleLeft,\n        middleRight: middleRight, bottomLeft: bottomLeft, bottomCenter: bottomCenter, bottomRight: bottomRight\n    };\n    if (element.rotateAngle !== 0 || element.parentTransform !== 0) {\n        var matrix = identityMatrix();\n        rotateMatrix(matrix, element.rotateAngle + element.parentTransform, element.offsetX, element.offsetY);\n        element.corners.topLeft = topLeft = transformPointByMatrix(matrix, topLeft);\n        element.corners.topCenter = topCenter = transformPointByMatrix(matrix, topCenter);\n        element.corners.topRight = topRight = transformPointByMatrix(matrix, topRight);\n        element.corners.middleLeft = middleLeft = transformPointByMatrix(matrix, middleLeft);\n        element.corners.middleRight = middleRight = transformPointByMatrix(matrix, middleRight);\n        element.corners.bottomLeft = bottomLeft = transformPointByMatrix(matrix, bottomLeft);\n        element.corners.bottomCenter = bottomCenter = transformPointByMatrix(matrix, bottomCenter);\n        element.corners.bottomRight = bottomRight = transformPointByMatrix(matrix, bottomRight);\n        //Set corners based on rotate angle\n    }\n    bounds = Rect.toBounds([topLeft, topRight, bottomLeft, bottomRight]);\n    element.corners.left = bounds.left;\n    element.corners.right = bounds.right;\n    element.corners.top = bounds.top;\n    element.corners.bottom = bounds.bottom;\n    element.corners.center = bounds.center;\n    element.corners.width = bounds.width;\n    element.corners.height = bounds.height;\n    return bounds;\n}\n/** @private */\nexport function textAlignToString(value) {\n    var state = '';\n    switch (value) {\n        case 'Center':\n            state = 'center';\n            break;\n        case 'Left':\n            state = 'left';\n            break;\n        case 'Right':\n            state = 'right';\n            break;\n    }\n    return state;\n}\n/** @private */\nexport function wordBreakToString(value) {\n    var state = '';\n    switch (value) {\n        case 'Wrap':\n            state = 'breakall';\n            break;\n        case 'NoWrap':\n            state = 'keepall';\n            break;\n        case 'WrapWithOverflow':\n            state = 'normal';\n            break;\n        case 'LineThrough':\n            state = 'line-through';\n            break;\n    }\n    return state;\n}\nexport function bBoxText(textContent, options) {\n    var measureElement = 'measureElement';\n    window[measureElement].style.visibility = 'visible';\n    var svg = window[measureElement].children[2];\n    var text = getChildNode(svg)[1];\n    text.textContent = textContent;\n    text.setAttribute('style', 'font-size:' + options.fontSize + 'px; font-family:'\n        + options.fontFamily + ';font-weight:' + (options.bold ? 'bold' : 'normal'));\n    var bBox = text.getBBox().width;\n    window[measureElement].style.visibility = 'hidden';\n    return bBox;\n}\n/** @private */\nexport function middleElement(i, j) {\n    var m = 0;\n    m = (i + j) / 2;\n    return m;\n}\n/** @private */\nexport function whiteSpaceToString(value, wrap) {\n    if (wrap === 'NoWrap' && value === 'PreserveAll') {\n        return 'pre';\n    }\n    var state = '';\n    switch (value) {\n        case 'CollapseAll':\n            state = 'nowrap';\n            break;\n        case 'CollapseSpace':\n            state = 'pre-line';\n            break;\n        case 'PreserveAll':\n            state = 'pre-wrap';\n            break;\n    }\n    return state;\n}\n/** @private */\nexport function rotatePoint(angle, pivotX, pivotY, point) {\n    if (angle !== 0) {\n        var matrix = identityMatrix();\n        rotateMatrix(matrix, angle, pivotX, pivotY);\n        return transformPointByMatrix(matrix, point);\n    }\n    return point;\n}\n/** @private */\nexport function getOffset(topLeft, obj) {\n    var offX = topLeft.x + obj.desiredSize.width * obj.pivot.x;\n    var offY = topLeft.y + obj.desiredSize.height * obj.pivot.y;\n    return {\n        x: offX, y: offY\n    };\n}\n","import { RotateTransform, ElementAction } from '../../enum/enum';\nimport { Size } from '../../primitives/size';\nimport { Rect } from '../../primitives/rect';\nimport { getBounds } from '../../utility/base-util';\n/**\n * DiagramElement module defines the basic unit of diagram\n */\nvar DrawingElement = /** @class */ (function () {\n    function DrawingElement() {\n        /**\n         * Sets/Gets the reference point of the element\n         * ```html\n         * <div id='diagram'></div>\n         * ```\n         * ```typescript\n         * let stackPanel: StackPanel = new StackPanel();\n         * stackPanel.offsetX = 300; stackPanel.offsetY = 200;\n         * stackPanel.width = 100; stackPanel.height = 100;\n         * stackPanel.style.fill = 'red';\n         * stackPanel.pivot = { x: 0.5, y: 0.5 };\n         * let diagram: Diagram = new Diagram({\n         * ...\n         * basicElements: [stackPanel],\n         * ...\n         * });\n         * diagram.appendTo('#diagram');\n         * ```\n         */\n        this.pivot = { x: 0.5, y: 0.5 };\n        this.rotateValue = { x: 0, y: 0, angle: 0 };\n        /**\n         * Sets or gets whether the content of the element needs to be measured\n         */\n        this.isDirt = true;\n        /**\n         * Sets/Gets the x-coordinate of the element\n         */\n        this.offsetX = 0;\n        /**\n         * Sets/Gets the y-coordinate of the element\n         */\n        this.offsetY = 0;\n        /**\n         * Set the corner of the element\n         */\n        this.cornerRadius = 0;\n        /**\n         * Sets/Gets the minimum height of the element\n         */\n        this.minHeight = undefined;\n        /**\n         * Sets/Gets the minimum width of the element\n         */\n        this.minWidth = undefined;\n        /**\n         * Sets/Gets the maximum width of the element\n         */\n        this.maxWidth = undefined;\n        /**\n         * Sets/Gets the maximum height of the element\n         */\n        this.maxHeight = undefined;\n        /**\n         * Sets/Gets the width of the element\n         */\n        this.width = undefined;\n        /**\n         * Sets/Gets the height of the element\n         */\n        this.height = undefined;\n        /**\n         * Sets/Gets how the element has to be horizontally arranged with respect to its immediate parent\n         * * Stretch - Stretches the diagram element throughout its immediate parent\n         * * Left - Aligns the diagram element at the left of its immediate parent\n         * * Right - Aligns the diagram element at the right of its immediate parent\n         * * Center - Aligns the diagram element at the center of its immediate parent\n         * * Auto - Aligns the diagram element based on the characteristics of its immediate parent\n         */\n        this.horizontalAlignment = 'Auto';\n        /**\n         * Sets/Gets how the element has to be vertically arranged with respect to its immediate parent\n         * * Stretch - Stretches the diagram element throughout its immediate parent\n         * * Top - Aligns the diagram element at the top of its immediate parent\n         * * Bottom - Aligns the diagram element at the bottom of its immediate parent\n         * * Center - Aligns the diagram element at the center of its immediate parent\n         * * Auto - Aligns the diagram element based on the characteristics of its immediate parent\n         */\n        this.verticalAlignment = 'Auto';\n        /**\n         * Sets or gets whether the content of the element to be visible\n         */\n        this.visible = true;\n        /**\n         * Sets/Gets the rotate angle of the element\n         */\n        this.rotateAngle = 0;\n        /**\n         * Sets/Gets the margin of the element\n         */\n        this.margin = { left: 0, right: 0, top: 0, bottom: 0 };\n        /**\n         * Sets whether the element has to be aligned with respect to a point/with respect to its immediate parent\n         * * Point - Diagram elements will be aligned with respect to a point\n         * * Object - Diagram elements will be aligned with respect to its immediate parent\n         */\n        this.relativeMode = 'Point';\n        /**\n         * Sets whether the element has to be transformed based on its parent or not\n         * * Self - Sets the transform type as Self\n         * * Parent - Sets the transform type as Parent\n         */\n        /** @private */\n        this.transform = RotateTransform.Self | RotateTransform.Parent;\n        /**\n         * Sets the style of the element\n         */\n        this.style = { fill: 'white', strokeColor: 'black', opacity: 1, strokeWidth: 1 };\n        /**\n         * Gets the minimum size that is required by the element\n         */\n        this.desiredSize = new Size();\n        /**\n         * Gets the size that the element will be rendered\n         */\n        this.actualSize = new Size();\n        /**\n         * Gets the rotate angle that is set to the immediate parent of the element\n         */\n        this.parentTransform = 0;\n        /** @private */\n        this.preventContainer = false;\n        /**\n         * Gets/Sets the boundary of the element\n         */\n        this.bounds = new Rect(0, 0, 0, 0);\n        /**\n         * Defines whether the element has to be measured or not\n         */\n        this.staticSize = false;\n        /**\n         * check whether the element is rect or not\n         */\n        /** @private */\n        this.isRectElement = false;\n        /** @private */\n        this.isCalculateDesiredSize = true;\n        /**\n         * Defines whether the element is group or port\n         */\n        /** @private */\n        this.elementActions = ElementAction.None;\n        //private variables\n        this.position = undefined;\n        this.unitMode = undefined;\n        /**   @private  */\n        this.float = false;\n        this.floatingBounds = undefined;\n    }\n    // public constructor() {\n    //     this.id = randomId();\n    // }\n    /**\n     * Sets the offset of the element with respect to its parent\n     * @param x\n     * @param y\n     * @param mode\n     */\n    DrawingElement.prototype.setOffsetWithRespectToBounds = function (x, y, mode) {\n        this.unitMode = mode;\n        this.position = { x: x, y: y };\n    };\n    /**\n     * Gets the position of the element with respect to its parent\n     * @param size\n     */\n    DrawingElement.prototype.getAbsolutePosition = function (size) {\n        if (this.position !== undefined) {\n            if (this.unitMode === 'Absolute') {\n                return this.position;\n            }\n            else {\n                return {\n                    x: this.position.x * size.width, y: this.position.y * size.height\n                };\n            }\n        }\n        return undefined;\n    };\n    Object.defineProperty(DrawingElement.prototype, \"outerBounds\", {\n        get: function () {\n            return this.floatingBounds || this.bounds;\n        },\n        /**\n         * used to set the outer bounds value\n         * @private\n         */\n        set: function (bounds) {\n            this.floatingBounds = bounds;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * Measures the minimum space that the element requires\n     * @param availableSize\n     */\n    DrawingElement.prototype.measure = function (availableSize) {\n        var width = this.width !== undefined ? this.width : (availableSize.width || 0) - this.margin.left - this.margin.right;\n        var height = this.height !== undefined ? this.height : (availableSize.height || 0) - this.margin.top - this.margin.bottom;\n        this.desiredSize = new Size(width, height);\n        if (this.isCalculateDesiredSize) {\n            this.desiredSize = this.validateDesiredSize(this.desiredSize, availableSize);\n        }\n        return this.desiredSize;\n    };\n    /**\n     * Arranges the element\n     * @param desiredSize\n     */\n    DrawingElement.prototype.arrange = function (desiredSize) {\n        this.actualSize = desiredSize;\n        this.updateBounds();\n        return this.actualSize;\n    };\n    /**\n     * Updates the bounds of the element\n     */\n    DrawingElement.prototype.updateBounds = function () {\n        this.bounds = getBounds(this);\n    };\n    /**\n     * Validates the size of the element with respect to its minimum and maximum size\n     * @param desiredSize\n     * @param availableSize\n     */\n    DrawingElement.prototype.validateDesiredSize = function (desiredSize, availableSize) {\n        //Empty canvas\n        if (this.isRectElement && !this.width && !this.minWidth && !this.maxWidth) {\n            desiredSize.width = 50;\n        }\n        if (this.isRectElement && !this.height && !this.minHeight && !this.maxHeight) {\n            desiredSize.height = 50;\n        }\n        if (desiredSize === undefined || this.width !== undefined &&\n            this.height !== undefined) {\n            desiredSize = desiredSize || new Size();\n            desiredSize.width = this.width === undefined ? (availableSize.width || 0)\n                - this.margin.left - this.margin.right : this.width;\n            desiredSize.height = this.height === undefined ? (availableSize.height || 0)\n                - this.margin.top - this.margin.bottom : this.height;\n        }\n        //Considering min values\n        if (this.minWidth !== undefined) {\n            desiredSize.width = Math.max(desiredSize.width, this.minWidth);\n        }\n        if (this.minHeight !== undefined) {\n            desiredSize.height = Math.max(desiredSize.height, this.minHeight);\n        }\n        //Considering max values\n        if (this.maxWidth !== undefined) {\n            desiredSize.width = Math.min(desiredSize.width, this.maxWidth);\n        }\n        if (this.maxHeight !== undefined) {\n            desiredSize.height = Math.min(desiredSize.height, this.maxHeight);\n        }\n        return desiredSize;\n    };\n    return DrawingElement;\n}());\nexport { DrawingElement };\n","import { PathElement } from '../core/elements/path-element';\nimport { TextElement } from '../core/elements/text-element';\nimport { Container } from '../core/containers/container';\nimport { wordBreakToString, whiteSpaceToString, textAlignToString } from '../utility/base-util';\nimport { getDiagramElement } from '../utility/dom-util';\nimport { CanvasRenderer } from './canvas-renderer';\nimport { ImageElement } from '../core/elements/image-element';\n/**\n * Renderer module is used to render basic diagram elements\n */\n/** @private */\nvar DrawingRenderer = /** @class */ (function () {\n    function DrawingRenderer(name, isSvgMode) {\n        /**   @private  */\n        this.renderer = null;\n        // private svgRenderer: SvgRenderer;\n        /** @private */\n        this.isSvgMode = true;\n        this.diagramId = name;\n        this.element = getDiagramElement(this.diagramId);\n        this.isSvgMode = isSvgMode;\n        this.renderer = new CanvasRenderer();\n        //  this.svgRenderer = new SvgRenderer();\n    }\n    // /** @private */\n    // public setLayers(): void {\n    //     this.adornerSvgLayer = this.element.getElementsByClassName('e-adorner-layer')[0] as SVGSVGElement;\n    // }\n    /**   @private  */\n    DrawingRenderer.prototype.renderElement = function (element, canvas, htmlLayer, transform, parentSvg, createParent, fromPalette, indexValue) {\n        var isElement = true;\n        if (element instanceof Container) {\n            isElement = false;\n            this.renderContainer(element, canvas, htmlLayer, transform, parentSvg, createParent, fromPalette, indexValue);\n        }\n        else if (element instanceof ImageElement) {\n            this.renderImageElement(element, canvas, transform, parentSvg, fromPalette);\n        }\n        else if (element instanceof PathElement) {\n            this.renderPathElement(element, canvas, transform, parentSvg, fromPalette);\n        }\n        else if (element instanceof TextElement) {\n            this.renderTextElement(element, canvas, transform, parentSvg, fromPalette);\n        }\n        else {\n            this.renderRect(element, canvas, transform, parentSvg);\n        }\n    };\n    /**   @private  */\n    DrawingRenderer.prototype.renderImageElement = function (element, canvas, transform, parentSvg, fromPalette) {\n        var options = this.getBaseAttributes(element, transform);\n        options.cornerRadius = 0;\n        this.renderer.drawRectangle(canvas, options);\n        // let sx: number; let sy: number;\n        var imageWidth;\n        var imageHeight;\n        var sourceWidth;\n        var sourceHeight;\n        if (element.stretch === 'Stretch') {\n            imageWidth = element.actualSize.width;\n            imageHeight = element.actualSize.height;\n        }\n        else {\n            var contentWidth = element.contentSize.width;\n            var contentHeight = element.contentSize.height;\n            var widthRatio = options.width / contentWidth;\n            var heightRatio = options.height / contentHeight;\n            var ratio = void 0;\n            switch (element.stretch) {\n                case 'Meet':\n                    ratio = Math.min(widthRatio, heightRatio);\n                    imageWidth = contentWidth * ratio;\n                    imageHeight = contentHeight * ratio;\n                    options.x += Math.abs(options.width - imageWidth) / 2;\n                    options.y += Math.abs(options.height - imageHeight) / 2;\n                    break;\n                case 'Slice':\n                    widthRatio = options.width / contentWidth;\n                    heightRatio = options.height / contentHeight;\n                    ratio = Math.max(widthRatio, heightRatio);\n                    imageWidth = contentWidth * ratio;\n                    imageHeight = contentHeight * ratio;\n                    sourceWidth = options.width / imageWidth * contentWidth;\n                    sourceHeight = options.height / imageHeight * contentHeight;\n                    break;\n                case 'None':\n                    imageWidth = contentWidth;\n                    imageHeight = contentHeight;\n                    break;\n            }\n        }\n        options.width = imageWidth;\n        options.height = imageHeight;\n        //Commented for code coverage\n        //(options as ImageAttributes).sourceX = sx;\n        //(options as ImageAttrib                                                                           utes).sourceY = sy;\n        options.sourceWidth = sourceWidth;\n        options.sourceHeight = sourceHeight;\n        options.source = element.source;\n        options.alignment = element.imageAlign;\n        options.scale = element.imageScale;\n        this.renderer.drawImage(canvas, options, parentSvg, fromPalette);\n    };\n    /**   @private  */\n    DrawingRenderer.prototype.renderPathElement = function (element, canvas, transform, parentSvg, fromPalette) {\n        var options = this.getBaseAttributes(element, transform);\n        options.data = element.absolutePath;\n        options.data = element.absolutePath;\n        var ariaLabel = element.id;\n        if (!this.isSvgMode) {\n            options.x = options.x;\n            options.y = options.y;\n        }\n        this.renderer.drawPath(canvas, options);\n    };\n    /**   @private  */\n    DrawingRenderer.prototype.renderTextElement = function (element, canvas, transform, parentSvg, fromPalette) {\n        var options = this.getBaseAttributes(element, transform);\n        options.cornerRadius = 0;\n        options.whiteSpace = whiteSpaceToString(element.style.whiteSpace, element.style.textWrapping);\n        options.content = element.content;\n        options.breakWord = wordBreakToString(element.style.textWrapping);\n        options.textAlign = textAlignToString(element.style.textAlign);\n        options.color = element.style.color;\n        options.italic = element.style.italic;\n        options.bold = element.style.bold;\n        options.fontSize = element.style.fontSize;\n        options.fontFamily = element.style.fontFamily;\n        options.textOverflow = element.style.textOverflow;\n        options.textDecoration = element.style.textDecoration;\n        options.doWrap = element.doWrap;\n        options.wrapBounds = element.wrapBounds;\n        options.childNodes = element.childNodes;\n        options.dashArray = '';\n        options.strokeWidth = 0;\n        options.fill = element.style.fill;\n        var ariaLabel = element.content ? element.content : element.id;\n        this.renderer.drawRectangle(canvas, options);\n        this.renderer.drawText(canvas, options);\n    };\n    /**   @private  */\n    DrawingRenderer.prototype.renderContainer = function (group, canvas, htmlLayer, transform, parentSvg, createParent, fromPalette, indexValue) {\n        transform = { tx: 0, ty: 0, scale: 1 };\n        var svgParent = { svg: parentSvg, g: canvas };\n        if (this.diagramId) {\n            parentSvg = parentSvg;\n        }\n        this.renderRect(group, canvas, transform, parentSvg);\n        if (group.hasChildren()) {\n            var parentG = void 0;\n            var svgParent_1;\n            for (var _i = 0, _a = group.children; _i < _a.length; _i++) {\n                var child = _a[_i];\n                this.renderElement(child, parentG || canvas, htmlLayer, transform, parentSvg, true, fromPalette, indexValue);\n            }\n        }\n    };\n    /**   @private  */\n    DrawingRenderer.prototype.renderRect = function (element, canvas, transform, parentSvg) {\n        var options = this.getBaseAttributes(element, transform);\n        options.cornerRadius = element.cornerRadius || 0;\n        var ariaLabel = element.id;\n        this.renderer.drawRectangle(canvas, options);\n    };\n    /**   @private  */\n    DrawingRenderer.prototype.getBaseAttributes = function (element, transform) {\n        var options = {\n            width: element.actualSize.width, height: element.actualSize.height,\n            x: element.offsetX - element.actualSize.width * element.pivot.x + 0.5,\n            y: element.offsetY - element.actualSize.height * element.pivot.y + 0.5,\n            fill: element.style.fill, stroke: element.style.strokeColor, angle: element.rotateAngle + element.parentTransform,\n            pivotX: element.pivot.x, pivotY: element.pivot.y, strokeWidth: element.style.strokeWidth,\n            dashArray: element.style.strokeDashArray || '', opacity: element.style.opacity,\n            visible: element.visible, id: element.id, gradient: element.style.gradient,\n        };\n        if (transform) {\n            options.x += transform.tx;\n            options.y += transform.ty;\n        }\n        return options;\n    };\n    return DrawingRenderer;\n}());\nexport { DrawingRenderer };\n","/**\n * enum module defines the public enumerations\n */\n/**\n * Defines the container/canvas transform\n * Self - Sets the transform type as Self\n * Parent - Sets the transform type as Parent\n */\nexport var RotateTransform;\n(function (RotateTransform) {\n    /** Self - Sets the transform type as Self */\n    RotateTransform[RotateTransform[\"Self\"] = 1] = \"Self\";\n    /** Parent - Sets the transform type as Parent */\n    RotateTransform[RotateTransform[\"Parent\"] = 2] = \"Parent\";\n})(RotateTransform || (RotateTransform = {}));\n/** Enables/Disables The element actions\n * None - Diables all element actions are none\n * ElementIsPort - Enable element action is port\n * ElementIsGroup - Enable element action as Group\n * @private\n */\nexport var ElementAction;\n(function (ElementAction) {\n    /** Disables all element actions are none  */\n    ElementAction[ElementAction[\"None\"] = 0] = \"None\";\n    /** Enable the element action is Port  */\n    ElementAction[ElementAction[\"ElementIsPort\"] = 2] = \"ElementIsPort\";\n    /** Enable the element action as Group  */\n    ElementAction[ElementAction[\"ElementIsGroup\"] = 4] = \"ElementIsGroup\";\n})(ElementAction || (ElementAction = {}));\n/**\n * Defines the constraints to enable/disable certain features of connector.\n * * None - Interaction of the connectors cannot be done.\n * * Select - Selects the connector.\n * * Delete - Delete the connector.\n * * Drag - Drag the connector.\n * * DragSourceEnd - Drag the source end of the connector.\n * * DragTargetEnd - Drag the target end of the connector.\n * * DragSegmentThump - Drag the segment thumb of the connector.\n * * AllowDrop - Allow to drop a node.\n * * Bridging - Creates bridge  on intersection of two connectors.\n * * BridgeObstacle -\n * * InheritBridging - Creates bridge  on intersection of two connectors.\n * * PointerEvents - Sets the pointer events.\n * * Tooltip - Displays a tooltip for the connectors.\n * * InheritToolTip - Displays a tooltip for the connectors.\n * * Interaction - Features of the connector used for interaction.\n * * ReadOnly - Enables ReadOnly\n * * Default - Default features of the connector.\n * @aspNumberEnum\n * @IgnoreSingular\n */\nexport var ConnectorConstraints;\n(function (ConnectorConstraints) {\n    /** Disable all connector Constraints. */\n    ConnectorConstraints[ConnectorConstraints[\"None\"] = 1] = \"None\";\n    /** Enables connector to be selected. */\n    ConnectorConstraints[ConnectorConstraints[\"Select\"] = 2] = \"Select\";\n    /** Enables connector to be Deleted. */\n    ConnectorConstraints[ConnectorConstraints[\"Delete\"] = 4] = \"Delete\";\n    /** Enables connector to be Dragged. */\n    ConnectorConstraints[ConnectorConstraints[\"Drag\"] = 8] = \"Drag\";\n    /** Enables connectors source end to be selected. */\n    ConnectorConstraints[ConnectorConstraints[\"DragSourceEnd\"] = 16] = \"DragSourceEnd\";\n    /** Enables connectors target end to be selected. */\n    ConnectorConstraints[ConnectorConstraints[\"DragTargetEnd\"] = 32] = \"DragTargetEnd\";\n    /** Enables control point and end point of every segment in a connector for editing. */\n    ConnectorConstraints[ConnectorConstraints[\"DragSegmentThumb\"] = 64] = \"DragSegmentThumb\";\n    /** Enables AllowDrop constraints to the  connector. */\n    ConnectorConstraints[ConnectorConstraints[\"AllowDrop\"] = 128] = \"AllowDrop\";\n    /** Enables bridging to the connector. */\n    ConnectorConstraints[ConnectorConstraints[\"Bridging\"] = 256] = \"Bridging\";\n    /** Enables or Disables Bridge Obstacles with overlapping of connectors. */\n    ConnectorConstraints[ConnectorConstraints[\"BridgeObstacle\"] = 512] = \"BridgeObstacle\";\n    /** Enables bridging to the connector. */\n    ConnectorConstraints[ConnectorConstraints[\"InheritBridging\"] = 1024] = \"InheritBridging\";\n    /** Used to set the pointer events. */\n    ConnectorConstraints[ConnectorConstraints[\"PointerEvents\"] = 2048] = \"PointerEvents\";\n    /** Enables or disables tool tip for the connectors */\n    ConnectorConstraints[ConnectorConstraints[\"Tooltip\"] = 4096] = \"Tooltip\";\n    /** Enables or disables tool tip for the connectors */\n    ConnectorConstraints[ConnectorConstraints[\"InheritTooltip\"] = 8192] = \"InheritTooltip\";\n    /** Enables Interaction. */\n    ConnectorConstraints[ConnectorConstraints[\"Interaction\"] = 4218] = \"Interaction\";\n    /** Enables ReadOnly */\n    ConnectorConstraints[ConnectorConstraints[\"ReadOnly\"] = 16384] = \"ReadOnly\";\n    /** Enables all constraints. */\n    ConnectorConstraints[ConnectorConstraints[\"Default\"] = 11838] = \"Default\";\n})(ConnectorConstraints || (ConnectorConstraints = {}));\n/** Enables/Disables the handles of the selector\n * Rotate - Enable Rotate Thumb\n * ConnectorSource - Enable Connector source point\n * ConnectorTarget - Enable Connector target point\n * ResizeNorthEast - Enable ResizeNorthEast Resize\n * ResizeEast - Enable ResizeEast Resize\n * ResizeSouthEast - Enable ResizeSouthEast Resize\n * ResizeSouth - Enable ResizeSouth Resize\n * ResizeSouthWest - Enable ResizeSouthWest Resize\n * ResizeWest - Enable ResizeWest Resize\n * ResizeNorthWest - Enable ResizeNorthWest Resize\n * ResizeNorth - Enable ResizeNorth Resize\n * Default - Enables all constraints\n * @private\n */\nexport var ThumbsConstraints;\n(function (ThumbsConstraints) {\n    /** Enable Rotate Thumb  */\n    ThumbsConstraints[ThumbsConstraints[\"Rotate\"] = 2] = \"Rotate\";\n    /** Enable Connector source point  */\n    ThumbsConstraints[ThumbsConstraints[\"ConnectorSource\"] = 4] = \"ConnectorSource\";\n    /** Enable Connector target point  */\n    ThumbsConstraints[ThumbsConstraints[\"ConnectorTarget\"] = 8] = \"ConnectorTarget\";\n    /** Enable ResizeNorthEast Resize  */\n    ThumbsConstraints[ThumbsConstraints[\"ResizeNorthEast\"] = 16] = \"ResizeNorthEast\";\n    /** Enable ResizeEast Resize  */\n    ThumbsConstraints[ThumbsConstraints[\"ResizeEast\"] = 32] = \"ResizeEast\";\n    /** Enable ResizeSouthEast Resize */\n    ThumbsConstraints[ThumbsConstraints[\"ResizeSouthEast\"] = 64] = \"ResizeSouthEast\";\n    /** Enable ResizeSouth Resize */\n    ThumbsConstraints[ThumbsConstraints[\"ResizeSouth\"] = 128] = \"ResizeSouth\";\n    /** Enable ResizeSouthWest Resize */\n    ThumbsConstraints[ThumbsConstraints[\"ResizeSouthWest\"] = 256] = \"ResizeSouthWest\";\n    /** Enable ResizeWest Resize */\n    ThumbsConstraints[ThumbsConstraints[\"ResizeWest\"] = 512] = \"ResizeWest\";\n    /** Enable ResizeNorthWest Resize */\n    ThumbsConstraints[ThumbsConstraints[\"ResizeNorthWest\"] = 1024] = \"ResizeNorthWest\";\n    /** Enable ResizeNorth Resize */\n    ThumbsConstraints[ThumbsConstraints[\"ResizeNorth\"] = 2048] = \"ResizeNorth\";\n    /** Enables all constraints */\n    ThumbsConstraints[ThumbsConstraints[\"Default\"] = 4094] = \"Default\";\n})(ThumbsConstraints || (ThumbsConstraints = {}));\n/**\n * Defines the visibility of the selector handles\n * None - Hides all the selector elements\n * ConnectorSourceThumb - Shows/hides the source thumb of the connector\n * ConnectorTargetThumb - Shows/hides the target thumb of the connector\n * ResizeSouthEast - Shows/hides the bottom right resize handle of the selector\n * ResizeSouthWest - Shows/hides the bottom left resize handle of the selector\n * ResizeNorthEast - Shows/hides the top right resize handle of the selector\n * ResizeNorthWest - Shows/hides the top left resize handle of the selector\n * ResizeEast - Shows/hides the middle right resize handle of the selector\n * ResizeWest - Shows/hides the middle left resize handle of the selector\n * ResizeSouth - Shows/hides the bottom center resize handle of the selector\n * ResizeNorth - Shows/hides the top center resize handle of the selector\n * Rotate - Shows/hides the rotate handle of the selector\n * UserHandles - Shows/hides the user handles of the selector\n * Resize - Shows/hides all resize handles of the selector\n * @aspNumberEnum\n * @IgnoreSingular\n */\nexport var SelectorConstraints;\n(function (SelectorConstraints) {\n    /** Hides all the selector elements */\n    SelectorConstraints[SelectorConstraints[\"None\"] = 1] = \"None\";\n    /** Shows/hides the source thumb of the connector */\n    SelectorConstraints[SelectorConstraints[\"ConnectorSourceThumb\"] = 2] = \"ConnectorSourceThumb\";\n    /** Shows/hides the target thumb of the connector */\n    SelectorConstraints[SelectorConstraints[\"ConnectorTargetThumb\"] = 4] = \"ConnectorTargetThumb\";\n    /** Shows/hides the bottom right resize handle of the selector */\n    SelectorConstraints[SelectorConstraints[\"ResizeSouthEast\"] = 8] = \"ResizeSouthEast\";\n    /** Shows/hides the bottom left resize handle of the selector */\n    SelectorConstraints[SelectorConstraints[\"ResizeSouthWest\"] = 16] = \"ResizeSouthWest\";\n    /** Shows/hides the top right resize handle of the selector */\n    SelectorConstraints[SelectorConstraints[\"ResizeNorthEast\"] = 32] = \"ResizeNorthEast\";\n    /** Shows/hides the top left resize handle of the selector */\n    SelectorConstraints[SelectorConstraints[\"ResizeNorthWest\"] = 64] = \"ResizeNorthWest\";\n    /** Shows/hides the middle right resize handle of the selector  */\n    SelectorConstraints[SelectorConstraints[\"ResizeEast\"] = 128] = \"ResizeEast\";\n    /** Shows/hides the middle left resize handle of the selector */\n    SelectorConstraints[SelectorConstraints[\"ResizeWest\"] = 256] = \"ResizeWest\";\n    /** Shows/hides the bottom center resize handle of the selector */\n    SelectorConstraints[SelectorConstraints[\"ResizeSouth\"] = 512] = \"ResizeSouth\";\n    /** Shows/hides the top center resize handle of the selector */\n    SelectorConstraints[SelectorConstraints[\"ResizeNorth\"] = 1024] = \"ResizeNorth\";\n    /**  Shows/hides the rotate handle of the selector */\n    SelectorConstraints[SelectorConstraints[\"Rotate\"] = 2048] = \"Rotate\";\n    /** Shows/hides the user handles of the selector */\n    SelectorConstraints[SelectorConstraints[\"UserHandle\"] = 4096] = \"UserHandle\";\n    /** Shows/hides the default tooltip of nodes and connectors */\n    SelectorConstraints[SelectorConstraints[\"ToolTip\"] = 8192] = \"ToolTip\";\n    /** Shows/hides all resize handles of the selector */\n    SelectorConstraints[SelectorConstraints[\"ResizeAll\"] = 2046] = \"ResizeAll\";\n    /** Shows all handles of the selector  */\n    SelectorConstraints[SelectorConstraints[\"All\"] = 16382] = \"All\";\n})(SelectorConstraints || (SelectorConstraints = {}));\n/** @private */\nexport var NoOfSegments;\n(function (NoOfSegments) {\n    NoOfSegments[NoOfSegments[\"Zero\"] = 0] = \"Zero\";\n    NoOfSegments[NoOfSegments[\"One\"] = 1] = \"One\";\n    NoOfSegments[NoOfSegments[\"Two\"] = 2] = \"Two\";\n    NoOfSegments[NoOfSegments[\"Three\"] = 3] = \"Three\";\n    NoOfSegments[NoOfSegments[\"Four\"] = 4] = \"Four\";\n    NoOfSegments[NoOfSegments[\"Five\"] = 5] = \"Five\";\n})(NoOfSegments || (NoOfSegments = {}));\n","/* eslint-disable valid-jsdoc, jsdoc/require-jsdoc, jsdoc/require-returns, jsdoc/require-param */\nimport { createElement, attributes, addClass, removeClass, detach, classList } from '@syncfusion/ej2-base';\nimport { closest, formatUnit, isNullOrUndefined, remove } from '@syncfusion/ej2-base';\nvar CLASSNAMES = {\n    RTL: 'e-rtl',\n    DISABLE: 'e-disabled',\n    INPUT: 'e-input',\n    TEXTAREA: 'e-multi-line-input',\n    INPUTGROUP: 'e-input-group',\n    FLOATINPUT: 'e-float-input',\n    FLOATLINE: 'e-float-line',\n    FLOATTEXT: 'e-float-text',\n    CLEARICON: 'e-clear-icon',\n    CLEARICONHIDE: 'e-clear-icon-hide',\n    LABELTOP: 'e-label-top',\n    LABELBOTTOM: 'e-label-bottom',\n    NOFLOATLABEL: 'e-no-float-label',\n    INPUTCUSTOMTAG: 'e-input-custom-tag',\n    FLOATCUSTOMTAG: 'e-float-custom-tag'\n};\n/**\n * Base for Input creation through util methods.\n */\n// eslint-disable-next-line @typescript-eslint/no-namespace\nexport var Input;\n(function (Input) {\n    var privateInputObj = {\n        container: null,\n        buttons: [],\n        clearButton: null\n    };\n    var floatType;\n    var isBindClearAction = true;\n    /**\n     * Create a wrapper to input element with multiple span elements and set the basic properties to input based components.\n     * ```\n     * E.g : Input.createInput({ element: element, floatLabelType : \"Auto\", properties: { placeholder: 'Search' } });\n     * ```\n     *\n     */\n    function createInput(args, internalCreateElement) {\n        var makeElement = !isNullOrUndefined(internalCreateElement) ? internalCreateElement : createElement;\n        var inputObject = { container: null, buttons: [], clearButton: null };\n        floatType = args.floatLabelType;\n        isBindClearAction = args.bindClearAction;\n        if (isNullOrUndefined(args.floatLabelType) || args.floatLabelType === 'Never') {\n            inputObject.container = createInputContainer(args, CLASSNAMES.INPUTGROUP, CLASSNAMES.INPUTCUSTOMTAG, 'span', makeElement);\n            args.element.parentNode.insertBefore(inputObject.container, args.element);\n            addClass([args.element], CLASSNAMES.INPUT);\n            inputObject.container.appendChild(args.element);\n        }\n        else {\n            createFloatingInput(args, inputObject, makeElement);\n        }\n        bindInitialEvent(args);\n        if (!isNullOrUndefined(args.properties) && !isNullOrUndefined(args.properties.showClearButton) &&\n            args.properties.showClearButton && args.element.tagName !== 'TEXTAREA') {\n            setClearButton(args.properties.showClearButton, args.element, inputObject, true, makeElement);\n            inputObject.clearButton.setAttribute('role', 'button');\n            if (inputObject.container.classList.contains(CLASSNAMES.FLOATINPUT)) {\n                addClass([inputObject.container], CLASSNAMES.INPUTGROUP);\n            }\n        }\n        if (!isNullOrUndefined(args.buttons) && args.element.tagName !== 'TEXTAREA') {\n            for (var i = 0; i < args.buttons.length; i++) {\n                inputObject.buttons.push(appendSpan(args.buttons[i], inputObject.container, makeElement));\n            }\n        }\n        if (!isNullOrUndefined(args.element) && args.element.tagName === 'TEXTAREA') {\n            addClass([inputObject.container], CLASSNAMES.TEXTAREA);\n        }\n        validateInputType(inputObject.container, args.element);\n        inputObject = setPropertyValue(args, inputObject);\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\n        privateInputObj = inputObject;\n        return inputObject;\n    }\n    Input.createInput = createInput;\n    function bindInitialEvent(args) {\n        checkInputValue(args.floatLabelType, args.element);\n        args.element.addEventListener('focus', function () {\n            var parent = getParentNode(this);\n            if (parent.classList.contains('e-input-group') || parent.classList.contains('e-outline')\n                || parent.classList.contains('e-filled')) {\n                parent.classList.add('e-input-focus');\n            }\n        });\n        args.element.addEventListener('blur', function () {\n            var parent = getParentNode(this);\n            if (parent.classList.contains('e-input-group') || parent.classList.contains('e-outline')\n                || parent.classList.contains('e-filled')) {\n                parent.classList.remove('e-input-focus');\n            }\n        });\n        args.element.addEventListener('input', function () {\n            checkInputValue(floatType, args.element);\n        });\n    }\n    Input.bindInitialEvent = bindInitialEvent;\n    function checkInputValue(floatLabelType, inputElement) {\n        var inputValue = inputElement.value;\n        if (inputValue !== '' && !isNullOrUndefined(inputValue) && inputElement.parentElement) {\n            inputElement.parentElement.classList.add('e-valid-input');\n        }\n        else if (floatLabelType !== 'Always' && inputElement.parentElement) {\n            inputElement.parentElement.classList.remove('e-valid-input');\n        }\n    }\n    function _focusFn() {\n        var label = getParentNode(this).getElementsByClassName('e-float-text')[0];\n        if (!isNullOrUndefined(label)) {\n            addClass([label], CLASSNAMES.LABELTOP);\n            if (label.classList.contains(CLASSNAMES.LABELBOTTOM)) {\n                removeClass([label], CLASSNAMES.LABELBOTTOM);\n            }\n        }\n    }\n    function _blurFn() {\n        var parent = getParentNode(this);\n        if ((parent.getElementsByTagName('textarea')[0]) ? parent.getElementsByTagName('textarea')[0].value === '' :\n            parent.getElementsByTagName('input')[0].value === '') {\n            var label = parent.getElementsByClassName('e-float-text')[0];\n            if (!isNullOrUndefined(label)) {\n                if (label.classList.contains(CLASSNAMES.LABELTOP)) {\n                    removeClass([label], CLASSNAMES.LABELTOP);\n                }\n                addClass([label], CLASSNAMES.LABELBOTTOM);\n            }\n        }\n    }\n    function wireFloatingEvents(element) {\n        element.addEventListener('focus', _focusFn);\n        element.addEventListener('blur', _blurFn);\n    }\n    Input.wireFloatingEvents = wireFloatingEvents;\n    function unwireFloatingEvents(element) {\n        element.removeEventListener('focus', _focusFn);\n        element.removeEventListener('blur', _blurFn);\n    }\n    function createFloatingInput(args, inputObject, internalCreateElement) {\n        var makeElement = !isNullOrUndefined(internalCreateElement) ? internalCreateElement : createElement;\n        if (args.floatLabelType === 'Auto') {\n            wireFloatingEvents(args.element);\n        }\n        if (isNullOrUndefined(inputObject.container)) {\n            inputObject.container = createInputContainer(args, CLASSNAMES.FLOATINPUT, CLASSNAMES.FLOATCUSTOMTAG, 'div', makeElement);\n            if (args.element.parentNode) {\n                args.element.parentNode.insertBefore(inputObject.container, args.element);\n            }\n        }\n        else {\n            if (!isNullOrUndefined(args.customTag)) {\n                inputObject.container.classList.add(CLASSNAMES.FLOATCUSTOMTAG);\n            }\n            inputObject.container.classList.add(CLASSNAMES.FLOATINPUT);\n        }\n        var floatLinelement = makeElement('span', { className: CLASSNAMES.FLOATLINE });\n        var floatLabelElement = makeElement('label', { className: CLASSNAMES.FLOATTEXT });\n        if (!isNullOrUndefined(args.element.id) && args.element.id !== '') {\n            floatLabelElement.id = 'label_' + args.element.id.replace(/ /g, '_');\n            attributes(args.element, { 'aria-labelledby': floatLabelElement.id });\n        }\n        if (!isNullOrUndefined(args.element.placeholder) && args.element.placeholder !== '') {\n            floatLabelElement.innerText = encodePlaceHolder(args.element.placeholder);\n            args.element.removeAttribute('placeholder');\n        }\n        if (!isNullOrUndefined(args.properties) && !isNullOrUndefined(args.properties.placeholder) &&\n            args.properties.placeholder !== '') {\n            floatLabelElement.innerText = encodePlaceHolder(args.properties.placeholder);\n        }\n        if (!floatLabelElement.innerText) {\n            inputObject.container.classList.add(CLASSNAMES.NOFLOATLABEL);\n        }\n        if (inputObject.container.classList.contains('e-float-icon-left')) {\n            var inputWrap = inputObject.container.querySelector('.e-input-in-wrap');\n            inputWrap.appendChild(args.element);\n            inputWrap.appendChild(floatLinelement);\n            inputWrap.appendChild(floatLabelElement);\n        }\n        else {\n            inputObject.container.appendChild(args.element);\n            inputObject.container.appendChild(floatLinelement);\n            inputObject.container.appendChild(floatLabelElement);\n        }\n        updateLabelState(args.element.value, floatLabelElement);\n        if (args.floatLabelType === 'Always') {\n            if (floatLabelElement.classList.contains(CLASSNAMES.LABELBOTTOM)) {\n                removeClass([floatLabelElement], CLASSNAMES.LABELBOTTOM);\n            }\n            addClass([floatLabelElement], CLASSNAMES.LABELTOP);\n        }\n        if (args.floatLabelType === 'Auto') {\n            // eslint-disable-next-line @typescript-eslint/no-unused-vars\n            args.element.addEventListener('input', function (event) {\n                updateLabelState(args.element.value, floatLabelElement, args.element);\n            });\n            // eslint-disable-next-line @typescript-eslint/no-unused-vars\n            args.element.addEventListener('blur', function (event) {\n                updateLabelState(args.element.value, floatLabelElement);\n            });\n        }\n        if (!isNullOrUndefined(args.element.getAttribute('id'))) {\n            floatLabelElement.setAttribute('for', args.element.getAttribute('id'));\n        }\n    }\n    function checkFloatLabelType(type, container) {\n        if (type === 'Always' && container.classList.contains('e-outline')) {\n            container.classList.add('e-valid-input');\n        }\n    }\n    function setPropertyValue(args, inputObject) {\n        if (!isNullOrUndefined(args.properties)) {\n            for (var _i = 0, _a = Object.keys(args.properties); _i < _a.length; _i++) {\n                var prop = _a[_i];\n                switch (prop) {\n                    case 'cssClass':\n                        setCssClass(args.properties.cssClass, [inputObject.container]);\n                        checkFloatLabelType(args.floatLabelType, inputObject.container);\n                        break;\n                    case 'enabled':\n                        setEnabled(args.properties.enabled, args.element, args.floatLabelType, inputObject.container);\n                        break;\n                    case 'enableRtl':\n                        setEnableRtl(args.properties.enableRtl, [inputObject.container]);\n                        break;\n                    case 'placeholder':\n                        setPlaceholder(args.properties.placeholder, args.element);\n                        break;\n                    case 'readonly':\n                        setReadonly(args.properties.readonly, args.element);\n                        break;\n                }\n            }\n        }\n        return inputObject;\n    }\n    function updateIconState(value, button, readonly) {\n        if (value && !readonly) {\n            removeClass([button], CLASSNAMES.CLEARICONHIDE);\n        }\n        else {\n            addClass([button], CLASSNAMES.CLEARICONHIDE);\n        }\n    }\n    function updateLabelState(value, label, element) {\n        if (element === void 0) { element = null; }\n        if (value) {\n            addClass([label], CLASSNAMES.LABELTOP);\n            if (label.classList.contains(CLASSNAMES.LABELBOTTOM)) {\n                removeClass([label], CLASSNAMES.LABELBOTTOM);\n            }\n        }\n        else {\n            var isNotFocused = element != null ? element !== document.activeElement : true;\n            if (isNotFocused) {\n                if (label.classList.contains(CLASSNAMES.LABELTOP)) {\n                    removeClass([label], CLASSNAMES.LABELTOP);\n                }\n                addClass([label], CLASSNAMES.LABELBOTTOM);\n            }\n        }\n    }\n    function getParentNode(element) {\n        var parentNode = isNullOrUndefined(element.parentNode) ? element\n            : element.parentNode;\n        if (parentNode && parentNode.classList.contains('e-input-in-wrap')) {\n            parentNode = parentNode.parentNode;\n        }\n        return parentNode;\n    }\n    /**\n     * To create clear button.\n     */\n    function createClearButton(element, inputObject, initial, internalCreateElement) {\n        var makeElement = !isNullOrUndefined(internalCreateElement) ? internalCreateElement : createElement;\n        var button = makeElement('span', { className: CLASSNAMES.CLEARICON });\n        var container = inputObject.container;\n        if (!isNullOrUndefined(initial)) {\n            container.appendChild(button);\n        }\n        else {\n            var baseElement = inputObject.container.classList.contains(CLASSNAMES.FLOATINPUT) ?\n                inputObject.container.querySelector('.' + CLASSNAMES.FLOATTEXT) : element;\n            baseElement.insertAdjacentElement('afterend', button);\n        }\n        if (!isNullOrUndefined(container) &&\n            container.classList.contains(CLASSNAMES.FLOATINPUT)) {\n            addClass([container], CLASSNAMES.INPUTGROUP);\n        }\n        addClass([button], CLASSNAMES.CLEARICONHIDE);\n        wireClearBtnEvents(element, button, container);\n        button.setAttribute('aria-label', 'close');\n        return button;\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    function wireClearBtnEvents(element, button, container) {\n        if (isBindClearAction == undefined || isBindClearAction) {\n            button.addEventListener('click', function (event) {\n                if (!(element.classList.contains(CLASSNAMES.DISABLE) || element.readOnly)) {\n                    event.preventDefault();\n                    if (element !== document.activeElement) {\n                        element.focus();\n                    }\n                    element.value = '';\n                    addClass([button], CLASSNAMES.CLEARICONHIDE);\n                }\n            });\n        }\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\n        element.addEventListener('input', function (event) {\n            updateIconState(element.value, button);\n        });\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\n        element.addEventListener('focus', function (event) {\n            updateIconState(element.value, button, element.readOnly);\n        });\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\n        element.addEventListener('blur', function (event) {\n            setTimeout(function () {\n                addClass([button], CLASSNAMES.CLEARICONHIDE);\n            }, 200);\n        });\n    }\n    Input.wireClearBtnEvents = wireClearBtnEvents;\n    function validateLabel(element, floatLabelType) {\n        var parent = getParentNode(element);\n        if (parent.classList.contains(CLASSNAMES.FLOATINPUT) && floatLabelType === 'Auto') {\n            var label = getParentNode(element).getElementsByClassName('e-float-text')[0];\n            updateLabelState(element.value, label, element);\n        }\n    }\n    /**\n     * To create input box contianer.\n     */\n    function createInputContainer(args, className, tagClass, tag, internalCreateElement) {\n        var makeElement = !isNullOrUndefined(internalCreateElement) ? internalCreateElement : createElement;\n        var container;\n        if (!isNullOrUndefined(args.customTag)) {\n            container = makeElement(args.customTag, { className: className });\n            container.classList.add(tagClass);\n        }\n        else {\n            container = makeElement(tag, { className: className });\n        }\n        container.classList.add('e-control-wrapper');\n        return container;\n    }\n    function encodePlaceHolder(placeholder) {\n        var result = '';\n        if (!isNullOrUndefined(placeholder) && placeholder !== '') {\n            var spanEle = document.createElement('span');\n            spanEle.innerHTML = '<input  placeholder=\"' + placeholder + '\"/>';\n            var hiddenInput = (spanEle.children[0]);\n            result = hiddenInput.placeholder;\n        }\n        return result;\n    }\n    /**\n     * Sets the value to the input element.\n     * ```\n     * E.g : Input.setValue('content', element, \"Auto\", true );\n     * ```\n     *\n     * @param {string} value - Specify the value of the input element.\n     * @param {HTMLInputElement | HTMLTextAreaElement} element - The element on which the specified value is updated.\n     * @param {string} floatLabelType - Specify the float label type of the input element.\n     * @param {boolean} clearButton - Boolean value to specify whether the clear icon is enabled / disabled on the input.\n     */\n    function setValue(value, element, floatLabelType, clearButton) {\n        element.value = value;\n        if ((!isNullOrUndefined(floatLabelType)) && floatLabelType === 'Auto') {\n            validateLabel(element, floatLabelType);\n        }\n        if (!isNullOrUndefined(clearButton) && clearButton) {\n            var parentElement = getParentNode(element);\n            if (!isNullOrUndefined(parentElement)) {\n                var button = parentElement.getElementsByClassName(CLASSNAMES.CLEARICON)[0];\n                if (!isNullOrUndefined(button)) {\n                    if (element.value && parentElement.classList.contains('e-input-focus')) {\n                        removeClass([button], CLASSNAMES.CLEARICONHIDE);\n                    }\n                    else {\n                        addClass([button], CLASSNAMES.CLEARICONHIDE);\n                    }\n                }\n            }\n        }\n        checkInputValue(floatLabelType, element);\n    }\n    Input.setValue = setValue;\n    /**\n     * Sets the single or multiple cssClass to wrapper of input element.\n     * ```\n     * E.g : Input.setCssClass('e-custom-class', [element]);\n     * ```\n     *\n     * @param {string} cssClass - Css class names which are needed to add.\n     * @param {Element[] | NodeList} elements - The elements which are needed to add / remove classes.\n     * @param {string} oldClass\n     * - Css class names which are needed to remove. If old classes are need to remove, can give this optional parameter.\n     */\n    function setCssClass(cssClass, elements, oldClass) {\n        if (!isNullOrUndefined(oldClass) && oldClass !== '') {\n            removeClass(elements, oldClass.split(' '));\n        }\n        if (!isNullOrUndefined(cssClass) && cssClass !== '') {\n            addClass(elements, cssClass.split(' '));\n        }\n    }\n    Input.setCssClass = setCssClass;\n    /**\n     * Set the width to the wrapper of input element.\n     * ```\n     * E.g : Input.setWidth('200px', container);\n     * ```\n     *\n     * @param {number | string} width - Width value which is need to add.\n     * @param {HTMLElement} container - The element on which the width is need to add.\n     */\n    function setWidth(width, container) {\n        if (typeof width === 'number') {\n            container.style.width = formatUnit(width);\n        }\n        else if (typeof width === 'string') {\n            container.style.width = (width.match(/px|%|em/)) ? (width) : (formatUnit(width));\n        }\n    }\n    Input.setWidth = setWidth;\n    /**\n     * Set the placeholder attribute to the input element.\n     * ```\n     * E.g : Input.setPlaceholder('Search here', element);\n     * ```\n     *\n     * @param {string} placeholder - Placeholder value which is need to add.\n     * @param {HTMLInputElement | HTMLTextAreaElement} element - The element on which the placeholder is need to add.\n     */\n    function setPlaceholder(placeholder, element) {\n        placeholder = encodePlaceHolder(placeholder);\n        var parentElement = getParentNode(element);\n        if (parentElement.classList.contains(CLASSNAMES.FLOATINPUT)) {\n            if (!isNullOrUndefined(placeholder) && placeholder !== '') {\n                parentElement.getElementsByClassName(CLASSNAMES.FLOATTEXT)[0].textContent = placeholder;\n                parentElement.classList.remove(CLASSNAMES.NOFLOATLABEL);\n                element.removeAttribute('placeholder');\n            }\n            else {\n                parentElement.classList.add(CLASSNAMES.NOFLOATLABEL);\n                parentElement.getElementsByClassName(CLASSNAMES.FLOATTEXT)[0].textContent = '';\n            }\n        }\n        else {\n            if (!isNullOrUndefined(placeholder) && placeholder !== '') {\n                attributes(element, { 'placeholder': placeholder, 'aria-placeholder': placeholder });\n            }\n            else {\n                element.removeAttribute('placeholder');\n                element.removeAttribute('aria-placeholder');\n            }\n        }\n    }\n    Input.setPlaceholder = setPlaceholder;\n    /**\n     * Set the read only attribute to the input element\n     * ```\n     * E.g : Input.setReadonly(true, element);\n     * ```\n     *\n     * @param {boolean} isReadonly\n     * - Boolean value to specify whether to set read only. Setting \"True\" value enables read only.\n     * @param {HTMLInputElement | HTMLTextAreaElement} element\n     * - The element which is need to enable read only.\n     */\n    function setReadonly(isReadonly, element, floatLabelType) {\n        if (isReadonly) {\n            attributes(element, { readonly: '' });\n        }\n        else {\n            element.removeAttribute('readonly');\n        }\n        if (!isNullOrUndefined(floatLabelType)) {\n            validateLabel(element, floatLabelType);\n        }\n    }\n    Input.setReadonly = setReadonly;\n    /**\n     * Displays the element direction from right to left when its enabled.\n     * ```\n     * E.g : Input.setEnableRtl(true, [inputObj.container]);\n     * ```\n     *\n     * @param {boolean} isRtl\n     * - Boolean value to specify whether to set RTL. Setting \"True\" value enables the RTL mode.\n     * @param {Element[] | NodeList} elements\n     * - The elements that are needed to enable/disable RTL.\n     */\n    function setEnableRtl(isRtl, elements) {\n        if (isRtl) {\n            addClass(elements, CLASSNAMES.RTL);\n        }\n        else {\n            removeClass(elements, CLASSNAMES.RTL);\n        }\n    }\n    Input.setEnableRtl = setEnableRtl;\n    /**\n     * Enables or disables the given input element.\n     * ```\n     * E.g : Input.setEnabled(false, element);\n     * ```\n     *\n     * @param {boolean} isEnable\n     * - Boolean value to specify whether to enable or disable.\n     * @param {HTMLInputElement | HTMLTextAreaElement} element\n     * - Element to be enabled or disabled.\n     */\n    function setEnabled(isEnable, element, floatLabelType, inputContainer) {\n        var disabledAttrs = { 'disabled': 'disabled', 'aria-disabled': 'true' };\n        var considerWrapper = isNullOrUndefined(inputContainer) ? false : true;\n        if (isEnable) {\n            element.classList.remove(CLASSNAMES.DISABLE);\n            removeAttributes(disabledAttrs, element);\n            if (considerWrapper) {\n                removeClass([inputContainer], CLASSNAMES.DISABLE);\n            }\n        }\n        else {\n            element.classList.add(CLASSNAMES.DISABLE);\n            addAttributes(disabledAttrs, element);\n            if (considerWrapper) {\n                addClass([inputContainer], CLASSNAMES.DISABLE);\n            }\n        }\n        if (!isNullOrUndefined(floatLabelType)) {\n            validateLabel(element, floatLabelType);\n        }\n    }\n    Input.setEnabled = setEnabled;\n    function setClearButton(isClear, element, inputObject, initial, internalCreateElement) {\n        var makeElement = !isNullOrUndefined(internalCreateElement) ? internalCreateElement : createElement;\n        if (isClear) {\n            inputObject.clearButton = createClearButton(element, inputObject, initial, makeElement);\n        }\n        else {\n            remove(inputObject.clearButton);\n            inputObject.clearButton = null;\n        }\n    }\n    Input.setClearButton = setClearButton;\n    /**\n     * Removing the multiple attributes from the given element such as \"disabled\",\"id\" , etc.\n     * ```\n     * E.g : Input.removeAttributes({ 'disabled': 'disabled', 'aria-disabled': 'true' }, element);\n     * ```\n     *\n     * @param {string} attrs\n     * - Array of attributes which are need to removed from the element.\n     * @param {HTMLInputElement | HTMLElement} element\n     * - Element on which the attributes are needed to be removed.\n     */\n    function removeAttributes(attrs, element) {\n        for (var _i = 0, _a = Object.keys(attrs); _i < _a.length; _i++) {\n            var key = _a[_i];\n            var parentElement = getParentNode(element);\n            if (key === 'disabled') {\n                element.classList.remove(CLASSNAMES.DISABLE);\n            }\n            if (key === 'disabled' && parentElement.classList.contains(CLASSNAMES.INPUTGROUP)) {\n                parentElement.classList.remove(CLASSNAMES.DISABLE);\n            }\n            if (key === 'placeholder' && parentElement.classList.contains(CLASSNAMES.FLOATINPUT)) {\n                parentElement.getElementsByClassName(CLASSNAMES.FLOATTEXT)[0].textContent = '';\n            }\n            else {\n                element.removeAttribute(key);\n            }\n        }\n    }\n    Input.removeAttributes = removeAttributes;\n    /**\n     * Adding the multiple attributes to the given element such as \"disabled\",\"id\" , etc.\n     * ```\n     * E.g : Input.addAttributes({ 'id': 'inputpopup' }, element);\n     * ```\n     *\n     * @param {string} attrs\n     * - Array of attributes which is added to element.\n     * @param {HTMLInputElement | HTMLElement} element\n     * - Element on which the attributes are needed to be added.\n     */\n    function addAttributes(attrs, element) {\n        for (var _i = 0, _a = Object.keys(attrs); _i < _a.length; _i++) {\n            var key = _a[_i];\n            var parentElement = getParentNode(element);\n            if (key === 'disabled') {\n                element.classList.add(CLASSNAMES.DISABLE);\n            }\n            if (key === 'disabled' && parentElement.classList.contains(CLASSNAMES.INPUTGROUP)) {\n                parentElement.classList.add(CLASSNAMES.DISABLE);\n            }\n            if (key === 'placeholder' && parentElement.classList.contains(CLASSNAMES.FLOATINPUT)) {\n                parentElement.getElementsByClassName(CLASSNAMES.FLOATTEXT)[0].textContent = attrs[key];\n            }\n            else {\n                element.setAttribute(key, attrs[key]);\n            }\n        }\n    }\n    Input.addAttributes = addAttributes;\n    function removeFloating(input) {\n        var container = input.container;\n        if (!isNullOrUndefined(container) && container.classList.contains(CLASSNAMES.FLOATINPUT)) {\n            var inputEle = container.querySelector('textarea') ? container.querySelector('textarea') :\n                container.querySelector('input');\n            var placeholder = container.querySelector('.' + CLASSNAMES.FLOATTEXT).textContent;\n            var clearButton = container.querySelector('.e-clear-icon') !== null;\n            detach(container.querySelector('.' + CLASSNAMES.FLOATLINE));\n            detach(container.querySelector('.' + CLASSNAMES.FLOATTEXT));\n            classList(container, [CLASSNAMES.INPUTGROUP], [CLASSNAMES.FLOATINPUT]);\n            unwireFloatingEvents(inputEle);\n            attributes(inputEle, { 'placeholder': placeholder });\n            inputEle.classList.add(CLASSNAMES.INPUT);\n            if (!clearButton && inputEle.tagName === 'INPUT') {\n                inputEle.removeAttribute('required');\n            }\n        }\n    }\n    Input.removeFloating = removeFloating;\n    function addFloating(input, type, placeholder, internalCreateElement) {\n        var makeElement = !isNullOrUndefined(internalCreateElement) ? internalCreateElement : createElement;\n        var container = closest(input, '.' + CLASSNAMES.INPUTGROUP);\n        floatType = type;\n        if (type !== 'Never') {\n            var customTag = container.tagName;\n            customTag = customTag !== 'DIV' && customTag !== 'SPAN' ? customTag : null;\n            var args = { element: input, floatLabelType: type,\n                customTag: customTag, properties: { placeholder: placeholder } };\n            var iconEle = container.querySelector('.e-clear-icon');\n            var inputObj = { container: container };\n            input.classList.remove(CLASSNAMES.INPUT);\n            createFloatingInput(args, inputObj, makeElement);\n            var isPrependIcon = container.classList.contains('e-float-icon-left');\n            if (isNullOrUndefined(iconEle)) {\n                if (isPrependIcon) {\n                    var inputWrap = container.querySelector('.e-input-in-wrap');\n                    iconEle = inputWrap.querySelector('.e-input-group-icon');\n                }\n                else {\n                    iconEle = container.querySelector('.e-input-group-icon');\n                }\n            }\n            if (isNullOrUndefined(iconEle)) {\n                if (isPrependIcon) {\n                    iconEle = container.querySelector('.e-input-group-icon');\n                }\n                if (isNullOrUndefined(iconEle)) {\n                    container.classList.remove(CLASSNAMES.INPUTGROUP);\n                }\n            }\n            else {\n                var floatLine = container.querySelector('.' + CLASSNAMES.FLOATLINE);\n                var floatText = container.querySelector('.' + CLASSNAMES.FLOATTEXT);\n                var wrapper = isPrependIcon ? container.querySelector('.e-input-in-wrap') : container;\n                wrapper.insertBefore(input, iconEle);\n                wrapper.insertBefore(floatLine, iconEle);\n                wrapper.insertBefore(floatText, iconEle);\n            }\n        }\n        checkFloatLabelType(type, input.parentElement);\n    }\n    Input.addFloating = addFloating;\n    /**\n     * Enable or Disable the ripple effect on the icons inside the Input. Ripple effect is only applicable for material theme.\n     * ```\n     * E.g : Input.setRipple(true, [inputObjects]);\n     * ```\n     *\n     * @param {boolean} isRipple\n     * - Boolean value to specify whether to enable the ripple effect.\n     * @param {InputObject[]} inputObj\n     * - Specify the collection of input objects.\n     */\n    function setRipple(isRipple, inputObj) {\n        for (var i = 0; i < inputObj.length; i++) {\n            _internalRipple(isRipple, inputObj[i].container);\n        }\n    }\n    Input.setRipple = setRipple;\n    function _internalRipple(isRipple, container, button) {\n        var argsButton = [];\n        argsButton.push(button);\n        var buttons = isNullOrUndefined(button) ?\n            container.querySelectorAll('.e-input-group-icon') : argsButton;\n        if (isRipple && buttons.length > 0) {\n            for (var index = 0; index < buttons.length; index++) {\n                buttons[index].addEventListener('mousedown', _onMouseDownRipple, false);\n                buttons[index].addEventListener('mouseup', _onMouseUpRipple, false);\n            }\n        }\n        else if (buttons.length > 0) {\n            for (var index = 0; index < buttons.length; index++) {\n                buttons[index].removeEventListener('mousedown', _onMouseDownRipple, this);\n                buttons[index].removeEventListener('mouseup', _onMouseUpRipple, this);\n            }\n        }\n    }\n    function _onMouseRipple(container, button) {\n        if (!container.classList.contains('e-disabled') && !container.querySelector('input').readOnly) {\n            button.classList.add('e-input-btn-ripple');\n        }\n    }\n    function _onMouseDownRipple() {\n        // eslint-disable-next-line @typescript-eslint/no-this-alias\n        var ele = this;\n        var parentEle = this.parentElement;\n        while (!parentEle.classList.contains('e-input-group')) {\n            parentEle = parentEle.parentElement;\n        }\n        _onMouseRipple(parentEle, ele);\n    }\n    function _onMouseUpRipple() {\n        // eslint-disable-next-line @typescript-eslint/no-this-alias\n        var ele = this;\n        setTimeout(function () {\n            ele.classList.remove('e-input-btn-ripple');\n        }, 500);\n    }\n    function createIconEle(iconClass, makeElement) {\n        var button = makeElement('span', { className: iconClass });\n        button.classList.add('e-input-group-icon');\n        return button;\n    }\n    /**\n     * Creates a new span element with the given icons added and append it in container element.\n     * ```\n     * E.g : Input.addIcon('append', 'e-icon-spin', inputObj.container, inputElement);\n     * ```\n     *\n     * @param {string} position - Specify the icon placement on the input.Possible values are append and prepend.\n     * @param {string | string[]} icons - Icon classes which are need to add to the span element which is going to created.\n     * Span element acts as icon or button element for input.\n     * @param {HTMLElement} container - The container on which created span element is going to append.\n     * @param {HTMLElement} input - The inputElement on which created span element is going to prepend.\n     */\n    /* eslint-disable @typescript-eslint/indent */\n    function addIcon(position, icons, container, input, internalCreate) {\n        /* eslint-enable @typescript-eslint/indent */\n        var result = typeof (icons) === 'string' ? icons.split(',')\n            : icons;\n        if (position.toLowerCase() === 'append') {\n            for (var _i = 0, result_1 = result; _i < result_1.length; _i++) {\n                var icon = result_1[_i];\n                appendSpan(icon, container, internalCreate);\n            }\n        }\n        else {\n            for (var _a = 0, result_2 = result; _a < result_2.length; _a++) {\n                var icon = result_2[_a];\n                prependSpan(icon, container, input, internalCreate);\n            }\n        }\n    }\n    Input.addIcon = addIcon;\n    /**\n     * Creates a new span element with the given icons added and prepend it in input element.\n     * ```\n     * E.g : Input.prependSpan('e-icon-spin', inputObj.container, inputElement);\n     * ```\n     *\n     * @param {string} iconClass - Icon classes which are need to add to the span element which is going to created.\n     * Span element acts as icon or button element for input.\n     * @param {HTMLElement} container - The container on which created span element is going to append.\n     * @param {HTMLElement} inputElement - The inputElement on which created span element is going to prepend.\n     */\n    /* eslint-disable @typescript-eslint/indent */\n    function prependSpan(iconClass, container, inputElement, internalCreateElement) {\n        /* eslint-enable @typescript-eslint/indent */\n        var makeElement = !isNullOrUndefined(internalCreateElement) ? internalCreateElement : createElement;\n        var button = createIconEle(iconClass, makeElement);\n        container.classList.add('e-float-icon-left');\n        var innerWrapper = container.querySelector('.e-input-in-wrap');\n        if (isNullOrUndefined(innerWrapper)) {\n            innerWrapper = makeElement('span', { className: 'e-input-in-wrap' });\n            inputElement.parentNode.insertBefore(innerWrapper, inputElement);\n            var result = container.querySelectorAll(inputElement.tagName + ' ~ *');\n            innerWrapper.appendChild(inputElement);\n            for (var i = 0; i < result.length; i++) {\n                innerWrapper.appendChild(result[i]);\n            }\n        }\n        innerWrapper.parentNode.insertBefore(button, innerWrapper);\n        if (!container.classList.contains(CLASSNAMES.INPUTGROUP)) {\n            container.classList.add(CLASSNAMES.INPUTGROUP);\n        }\n        _internalRipple(true, container, button);\n        return button;\n    }\n    Input.prependSpan = prependSpan;\n    /**\n     * Creates a new span element with the given icons added and append it in container element.\n     * ```\n     * E.g : Input.appendSpan('e-icon-spin', inputObj.container);\n     * ```\n     *\n     * @param {string} iconClass - Icon classes which are need to add to the span element which is going to created.\n     * Span element acts as icon or button element for input.\n     * @param {HTMLElement} container - The container on which created span element is going to append.\n     */\n    function appendSpan(iconClass, container, internalCreateElement) {\n        var makeElement = !isNullOrUndefined(internalCreateElement) ? internalCreateElement : createElement;\n        var button = createIconEle(iconClass, makeElement);\n        if (!container.classList.contains(CLASSNAMES.INPUTGROUP)) {\n            container.classList.add(CLASSNAMES.INPUTGROUP);\n        }\n        var wrap = (container.classList.contains('e-float-icon-left')) ? container.querySelector('.e-input-in-wrap') :\n            container;\n        wrap.appendChild(button);\n        _internalRipple(true, container, button);\n        return button;\n    }\n    Input.appendSpan = appendSpan;\n    function validateInputType(containerElement, input) {\n        if (input.type === 'hidden') {\n            containerElement.classList.add('e-hidden');\n        }\n        else if (containerElement.classList.contains('e-hidden')) {\n            containerElement.classList.remove('e-hidden');\n        }\n    }\n    Input.validateInputType = validateInputType;\n})(Input || (Input = {}));\n/* eslint-enable valid-jsdoc, jsdoc/require-jsdoc, jsdoc/require-returns, jsdoc/require-param */\n","/**\n * Size defines and processes the size(width/height) of the objects\n */\nvar Size = /** @class */ (function () {\n    function Size(width, height) {\n        this.width = width;\n        this.height = height;\n    }\n    // /**   @private  */\n    // public isEmpty(): boolean {\n    //     return this.height === 0 && this.width === 0;\n    // }\n    /**   @private  */\n    Size.prototype.clone = function () {\n        return new Size(this.width, this.height);\n    };\n    return Size;\n}());\nexport { Size };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Container } from './container';\nimport { RotateTransform } from '../../enum/enum';\nimport { Size } from '../../primitives/size';\nimport { Rect } from '../../primitives/rect';\nimport { TextElement } from '../elements/text-element';\nimport { identityMatrix, rotateMatrix, transformPointByMatrix } from '../../primitives/matrix';\nimport { rotateSize } from '../../utility/base-util';\n/**\n * Canvas module is used to define a plane(canvas) and to arrange the children based on margin\n */\nvar Canvas = /** @class */ (function (_super) {\n    __extends(Canvas, _super);\n    function Canvas() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /**\n         * Not applicable for canvas\n         *  @private\n         */\n        _this.measureChildren = undefined;\n        return _this;\n    }\n    /**\n     * Measures the minimum space that the canvas requires\n     * @param availableSize\n     */\n    Canvas.prototype.measure = function (availableSize) {\n        var desired = undefined;\n        var desiredBounds = undefined;\n        if (this.hasChildren()) {\n            //Measuring the children\n            for (var _i = 0, _a = this.children; _i < _a.length; _i++) {\n                var child = _a[_i];\n                if (child instanceof TextElement) {\n                    if (child.canMeasure) {\n                        availableSize.width = availableSize.width || this.maxWidth || this.minWidth;\n                        child.measure(availableSize);\n                    }\n                    else {\n                        break;\n                    }\n                }\n                else if (!(child instanceof TextElement)) {\n                    child.measure(availableSize);\n                }\n                var childSize = child.desiredSize.clone();\n                if (child.rotateAngle !== 0) {\n                    childSize = rotateSize(childSize, child.rotateAngle);\n                }\n                var right = childSize.width + child.margin.right;\n                var bottom = childSize.height + child.margin.bottom;\n                var childBounds = new Rect(child.margin.left, child.margin.top, right, bottom);\n                if (child.float) {\n                    var position = child.getAbsolutePosition(childSize);\n                    if (position !== undefined) {\n                        continue;\n                    }\n                }\n                if ((!(child instanceof TextElement)) || (child instanceof TextElement && child.canConsiderBounds)) {\n                    if (desiredBounds === undefined) {\n                        desiredBounds = childBounds;\n                    }\n                    else {\n                        desiredBounds.uniteRect(childBounds);\n                    }\n                }\n            }\n            if (desiredBounds) {\n                var leftMargin = 0;\n                var topMargin = 0;\n                leftMargin = Math.max(desiredBounds.left, 0);\n                topMargin = Math.max(desiredBounds.top, 0);\n                desired = new Size(desiredBounds.width + leftMargin, desiredBounds.height + topMargin);\n            }\n        }\n        desired = _super.prototype.validateDesiredSize.call(this, desired, availableSize);\n        _super.prototype.stretchChildren.call(this, desired);\n        this.desiredSize = desired;\n        return desired;\n    };\n    /**\n     * Arranges the child elements of the canvas\n     */\n    Canvas.prototype.arrange = function (desiredSize) {\n        this.outerBounds = new Rect();\n        if (this.hasChildren()) {\n            var y = void 0;\n            var x = void 0;\n            y = this.offsetY - desiredSize.height * this.pivot.y;\n            x = this.offsetX - desiredSize.width * this.pivot.x;\n            for (var _i = 0, _a = this.children; _i < _a.length; _i++) {\n                var child = _a[_i];\n                if ((child.transform & RotateTransform.Parent) !== 0) {\n                    child.parentTransform = this.parentTransform + this.rotateAngle;\n                    var childSize = child.desiredSize.clone();\n                    var topLeft = void 0;\n                    var center = { x: 0, y: 0 };\n                    var childX = x;\n                    var childY = y;\n                    if (child.relativeMode === 'Point') {\n                        var position = child.getAbsolutePosition(desiredSize);\n                        if (position !== undefined) {\n                            childX += position.x;\n                            childY += position.y;\n                        }\n                    }\n                    if (child.relativeMode === 'Object') {\n                        topLeft = this.alignChildBasedOnParent(child, childSize, desiredSize, childX, childY);\n                    }\n                    else {\n                        topLeft = this.alignChildBasedOnaPoint(child, childX, childY);\n                    }\n                    center = { x: topLeft.x + childSize.width / 2, y: topLeft.y + childSize.height / 2 };\n                    if (child.rotateValue) {\n                        var rotateValue = {\n                            x: this.offsetX + (child.rotateValue.x || 0),\n                            y: this.offsetY + (child.rotateValue.y || 0)\n                        };\n                        var centerPoint = { x: this.offsetX, y: this.offsetY };\n                        var angle = child.rotateValue.angle | 0;\n                        var matrix = identityMatrix();\n                        rotateMatrix(matrix, angle, centerPoint.x, centerPoint.y);\n                        center = transformPointByMatrix(matrix, rotateValue);\n                    }\n                    _super.prototype.findChildOffsetFromCenter.call(this, child, center);\n                }\n                if ((child.horizontalAlignment === 'Stretch' || child.verticalAlignment === 'Stretch')) {\n                    child.arrange(desiredSize);\n                }\n                else {\n                    if (child instanceof TextElement && child.canMeasure) {\n                        child.arrange(child.desiredSize);\n                        this.outerBounds.uniteRect(child.outerBounds);\n                    }\n                    else if (!(child instanceof TextElement)) {\n                        child.arrange(child.desiredSize);\n                        this.outerBounds.uniteRect(child.outerBounds);\n                    }\n                }\n            }\n        }\n        this.actualSize = desiredSize;\n        this.updateBounds();\n        this.outerBounds.uniteRect(this.bounds);\n        return desiredSize;\n    };\n    /**\n     * Aligns the child element based on its parent\n     * @param child\n     * @param childSize\n     * @param parentSize\n     * @param x\n     * @param y\n     */\n    Canvas.prototype.alignChildBasedOnParent = function (child, childSize, parentSize, x, y) {\n        switch (child.horizontalAlignment) {\n            case 'Auto':\n            case 'Left':\n                x += child.margin.left;\n                break;\n            case 'Right':\n                x += parentSize.width - childSize.width - child.margin.right;\n                break;\n            case 'Stretch':\n            case 'Center':\n                x += parentSize.width / 2 - childSize.width / 2;\n                break;\n        }\n        switch (child.verticalAlignment) {\n            case 'Auto':\n            case 'Top':\n                y += child.margin.top;\n                break;\n            case 'Bottom':\n                y += parentSize.height - childSize.height - child.margin.bottom;\n                break;\n            case 'Stretch':\n            case 'Center':\n                y += parentSize.height / 2 - childSize.height / 2;\n                break;\n        }\n        return { x: x, y: y };\n    };\n    /**\n     * Aligns the child elements based on a point\n     * @param child\n     * @param x\n     * @param y\n     */\n    Canvas.prototype.alignChildBasedOnaPoint = function (child, x, y) {\n        x += child.margin.left - child.margin.right;\n        y += child.margin.top - child.margin.bottom;\n        switch (child.horizontalAlignment) {\n            case 'Auto':\n            case 'Left':\n                x = x;\n                break;\n            case 'Stretch':\n            case 'Center':\n                x -= child.desiredSize.width * child.pivot.x;\n                break;\n            case 'Right':\n                x -= child.desiredSize.width;\n                break;\n        }\n        switch (child.verticalAlignment) {\n            case 'Auto':\n            case 'Top':\n                y = y;\n                break;\n            case 'Stretch':\n            case 'Center':\n                y -= child.desiredSize.height * child.pivot.y;\n                break;\n            case 'Bottom':\n                y -= child.desiredSize.height;\n                break;\n        }\n        return { x: x, y: y };\n    };\n    return Canvas;\n}(Container));\nexport { Canvas };\n","import { Size } from './../primitives/size';\nimport { pathSegmentCollection, getRectanglePath, processPathData } from './../utility/path-util';\n// import { overFlow } from './../utility/base-util';\nimport { createHtmlElement } from './../utility/dom-util';\n/**\n * Canvas Renderer\n */\n/** @private */\nvar CanvasRenderer = /** @class */ (function () {\n    function CanvasRenderer() {\n    }\n    /**   @private  */\n    CanvasRenderer.getContext = function (canvas) {\n        return canvas.getContext('2d');\n    };\n    CanvasRenderer.prototype.setStyle = function (canvas, style) {\n        var ctx = CanvasRenderer.getContext(canvas);\n        if (style.fill === 'none') {\n            style.fill = 'transparent';\n        }\n        if (style.stroke === 'none') {\n            style.stroke = 'transparent';\n        }\n        ctx.strokeStyle = style.stroke;\n        ctx.lineWidth = style.strokeWidth;\n        if (style.strokeWidth === 0) {\n            ctx.strokeStyle = 'transparent';\n        }\n        ctx.globalAlpha = style.opacity;\n        var dashArray = [];\n        if (style.dashArray) {\n            dashArray = this.parseDashArray(style.dashArray);\n        }\n        ctx.setLineDash(dashArray);\n        ctx.fillStyle = style.fill;\n    };\n    CanvasRenderer.prototype.rotateContext = function (canvas, angle, x, y) {\n        var ctx = CanvasRenderer.getContext(canvas);\n        ctx.translate(x, y);\n        ctx.rotate(angle * Math.PI / 180);\n        ctx.translate(-x, -y);\n    };\n    CanvasRenderer.prototype.setFontStyle = function (canvas, text) {\n        var ctx = CanvasRenderer.getContext(canvas);\n        var font = '';\n        if (text.italic) {\n            font += 'italic ';\n        }\n        if (text.bold) {\n            font += 'bold ';\n        }\n        font += (text.fontSize) + 'px ';\n        font += text.fontFamily;\n        ctx.font = font;\n    };\n    /**   @private  */\n    CanvasRenderer.prototype.parseDashArray = function (dashArray) {\n        var dashes = [];\n        var separator = dashArray.indexOf(' ') !== -1 ? ' ' : ',';\n        var splittedDashes = dashArray.split(separator);\n        for (var _i = 0, splittedDashes_1 = splittedDashes; _i < splittedDashes_1.length; _i++) {\n            var i = splittedDashes_1[_i];\n            dashes.push(Number(i));\n        }\n        return dashes;\n    };\n    //Rendering Part\n    /**   @private  */\n    CanvasRenderer.prototype.drawRectangle = function (canvas, options) {\n        if (options.visible === true) {\n            if (options.cornerRadius) {\n                options.data = getRectanglePath(options.cornerRadius, options.height, options.width);\n                this.drawPath(canvas, options);\n            }\n            else {\n                var ctx = CanvasRenderer.getContext(canvas);\n                ctx.save();\n                ctx.beginPath();\n                var cornerRadius = options.cornerRadius;\n                var pivotX = options.x + options.width * options.pivotX;\n                var pivotY = options.y + options.height * options.pivotY;\n                this.rotateContext(canvas, options.angle, pivotX, pivotY);\n                this.setStyle(canvas, options);\n                ctx.rect(options.x, options.y, options.width, options.height);\n                ctx.fillRect(options.x, options.y, options.width, options.height);\n                ctx.fill();\n                ctx.stroke();\n                ctx.closePath();\n                ctx.restore();\n            }\n        }\n    };\n    /**   @private  */\n    CanvasRenderer.prototype.drawPath = function (canvas, options) {\n        var collection = [];\n        collection = processPathData(options.data);\n        collection = pathSegmentCollection(collection);\n        var ctx = CanvasRenderer.getContext(canvas);\n        ctx.save();\n        ctx.beginPath();\n        var pivotY = options.y + options.height * options.pivotY;\n        var pivotX = options.x + options.width * options.pivotX;\n        this.rotateContext(canvas, options.angle, pivotX, pivotY);\n        this.setStyle(canvas, options);\n        ctx.translate(options.x, options.y);\n        this.renderPath(canvas, options, collection);\n        ctx.fill();\n        ctx.translate(-options.x, -options.y);\n        ctx.stroke();\n        ctx.restore();\n    };\n    /**   @private  */\n    CanvasRenderer.prototype.renderPath = function (canvas, options, collection) {\n        if (options.visible === true) {\n            var ctx = CanvasRenderer.getContext(canvas);\n            var x0 = void 0;\n            var y0 = void 0;\n            var x1 = void 0;\n            var y1 = void 0;\n            var x2 = void 0;\n            var y2 = void 0;\n            var x = void 0;\n            var y = void 0;\n            var length_1;\n            var i = void 0;\n            var newSeg = void 0;\n            var segs = collection;\n            for (x = 0, y = 0, i = 0, length_1 = segs.length; i < length_1; ++i) {\n                var obj = segs[i];\n                var seg = obj;\n                var char = seg.command;\n                if ('x1' in seg) {\n                    x1 = seg.x1;\n                }\n                if ('x2' in seg) {\n                    x2 = seg.x2;\n                }\n                if ('y1' in seg) {\n                    y1 = seg.y1;\n                }\n                if ('y2' in seg) {\n                    y2 = seg.y2;\n                }\n                if ('x' in seg) {\n                    x = seg.x;\n                }\n                if ('y' in seg) {\n                    y = seg.y;\n                }\n                switch (char) {\n                    case 'M':\n                        ctx.moveTo(x, y);\n                        seg.x = x;\n                        seg.y = y;\n                        break;\n                    case 'L':\n                        ctx.lineTo(x, y);\n                        seg.x = x;\n                        seg.y = y;\n                        break;\n                    case 'C':\n                        ctx.bezierCurveTo(x1, y1, x2, y2, x, y);\n                        seg.x = x;\n                        seg.y = y;\n                        seg.x1 = x1;\n                        seg.y1 = y1;\n                        seg.x2 = x2;\n                        seg.y2 = y2;\n                        break;\n                    case 'Q':\n                        ctx.quadraticCurveTo(x1, y1, x, y);\n                        seg.x = x;\n                        seg.y = y;\n                        seg.x1 = x1;\n                        seg.y1 = y1;\n                        break;\n                    case 'A':\n                        var curr = { x: x0, y: y0 };\n                        var rx = seg.r1;\n                        var ry = seg.r2;\n                        var xAxisRotation = seg.angle * (Math.PI / 180.0);\n                        var largeArc = seg.largeArc;\n                        var sweep = seg.sweep;\n                        var cp = { x: x, y: y };\n                        var currp = {\n                            x: Math.cos(xAxisRotation) * (curr.x - cp.x) / 2.0 + Math.sin(xAxisRotation) * (curr.y - cp.y) / 2.0,\n                            y: -Math.sin(xAxisRotation) * (curr.x - cp.x) / 2.0 + Math.cos(xAxisRotation) * (curr.y - cp.y) / 2.0\n                        };\n                        var l = Math.pow(currp.x, 2) / Math.pow(rx, 2) + Math.pow(currp.y, 2) / Math.pow(ry, 2);\n                        if (l > 1) {\n                            rx *= Math.sqrt(l);\n                            ry *= Math.sqrt(l);\n                        }\n                        var k = (Math.pow(ry, 2) * Math.pow(currp.x, 2));\n                        var s = (largeArc === sweep ? -1 : 1) * Math.sqrt(((Math.pow(rx, 2) * Math.pow(ry, 2)) - (Math.pow(rx, 2) * Math.pow(currp.y, 2)) - k) /\n                            (Math.pow(rx, 2) * Math.pow(currp.y, 2) + Math.pow(ry, 2) * Math.pow(currp.x, 2)));\n                        if (isNaN(s)) {\n                            s = 0;\n                        }\n                        var cpp = { x: s * rx * currp.y / ry, y: s * -ry * currp.x / rx };\n                        var centp = {\n                            x: (curr.x + cp.x) / 2.0 + Math.cos(xAxisRotation) * cpp.x - Math.sin(xAxisRotation) * cpp.y,\n                            y: (curr.y + cp.y) / 2.0 + Math.sin(xAxisRotation) * cpp.x + Math.cos(xAxisRotation) * cpp.y\n                        };\n                        var a1 = this.a([1, 0], [(currp.x - cpp.x) / rx, (currp.y - cpp.y) / ry]);\n                        var u = [(currp.x - cpp.x) / rx, (currp.y - cpp.y) / ry];\n                        var v = [(-currp.x - cpp.x) / rx, (-currp.y - cpp.y) / ry];\n                        var ad = this.a(u, v);\n                        if (this.r(u, v) <= -1) {\n                            ad = Math.PI;\n                        }\n                        if (this.r(u, v) >= 1) {\n                            ad = 0;\n                        }\n                        var dir = !sweep ? -1.0 : 1.0;\n                        var ah = a1 + dir * (ad / 2.0);\n                        var halfWay = {\n                            x: centp.x + rx * Math.cos(ah),\n                            y: centp.y + ry * Math.sin(ah)\n                        };\n                        seg.centp = centp;\n                        seg.xAxisRotation = xAxisRotation;\n                        seg.rx = rx;\n                        seg.ry = ry;\n                        seg.a1 = a1;\n                        seg.ad = ad;\n                        seg.sweep = sweep;\n                        if (ctx != null) {\n                            var ra = rx > ry ? rx : ry;\n                            var sx = rx > ry ? 1 : rx / ry;\n                            var sy = rx > ry ? ry / rx : 1;\n                            ctx.save();\n                            ctx.translate(centp.x, centp.y);\n                            ctx.rotate(xAxisRotation);\n                            ctx.scale(sx, sy);\n                            ctx.arc(0, 0, ra, a1, a1 + ad, !sweep);\n                            ctx.scale(1 / sx, 1 / sy);\n                            ctx.rotate(-xAxisRotation);\n                            ctx.translate(-centp.x, -centp.y);\n                            ctx.restore();\n                        }\n                        break;\n                    case 'Z':\n                    case 'z':\n                        ctx.closePath();\n                        x = x0;\n                        y = y0;\n                        break;\n                }\n                x0 = x;\n                y0 = y;\n            }\n        }\n    };\n    /**   @private  */\n    CanvasRenderer.prototype.drawText = function (canvas, options) {\n        if (options.content && options.visible === true) {\n            var ctx = CanvasRenderer.getContext(canvas);\n            ctx.save();\n            this.setStyle(canvas, options);\n            var pivotX = options.x + options.width * options.pivotX;\n            var pivotY = options.y + options.height * options.pivotY;\n            this.rotateContext(canvas, options.angle, pivotX, pivotY);\n            this.setFontStyle(canvas, options);\n            var i = 0;\n            var childNodes = [];\n            childNodes = options.childNodes;\n            var wrapBounds = options.wrapBounds;\n            ctx.fillStyle = options.color;\n            if (wrapBounds) {\n                var position = this.labelAlign(options, wrapBounds, childNodes);\n                for (i = 0; i < childNodes.length; i++) {\n                    var child = childNodes[i];\n                    var offsetX = position.x + child.x - wrapBounds.x;\n                    var offsetY = position.y + child.dy * i + ((options.fontSize) * 0.8);\n                    // if (wrapBounds.width > options.width && options.textOverflow !== 'Wrap') {\n                    //     child.text = overFlow(child.text, options);\n                    // }\n                    ctx.fillText(child.text, offsetX, offsetY);\n                    if (options.textDecoration === 'Underline'\n                        || options.textDecoration === 'Overline'\n                        || options.textDecoration === 'LineThrough') {\n                        var startPointX = offsetX;\n                        var startPointY = void 0;\n                        var textlength = ctx.measureText(child.text).width;\n                        var endPointX = offsetX + textlength;\n                        var endPointY = void 0;\n                        switch (options.textDecoration) {\n                            case 'Underline':\n                                startPointY = offsetY + 2;\n                                endPointY = offsetY + 2;\n                                break;\n                            case 'Overline':\n                                startPointY = (position.y + child.dy * i);\n                                endPointY = (position.y + child.dy * i);\n                                break;\n                            case 'LineThrough':\n                                startPointY = ((offsetY + position.y + child.dy * i) / 2) + 2;\n                                endPointY = ((offsetY + position.y + child.dy * i) / 2) + 2;\n                        }\n                        ctx.beginPath();\n                        ctx.moveTo(startPointX, startPointY);\n                        ctx.lineTo(endPointX, endPointY);\n                        ctx.strokeStyle = options.color;\n                        ctx.lineWidth = options.fontSize * .08;\n                        ctx.globalAlpha = options.opacity;\n                        ctx.stroke();\n                    }\n                }\n            }\n            ctx.restore();\n        }\n    };\n    //end region\n    // vector magnitude\n    CanvasRenderer.prototype.m = function (v) { return Math.sqrt(Math.pow(v[0], 2) + Math.pow(v[1], 2)); };\n    // ratio between two vectors\n    CanvasRenderer.prototype.r = function (u, v) { return (u[0] * v[0] + u[1] * v[1]) / (this.m(u) * this.m(v)); };\n    // angle between two vectors\n    CanvasRenderer.prototype.a = function (u, v) { return (u[0] * v[1] < u[1] * v[0] ? -1 : 1) * Math.acos(this.r(u, v)); };\n    CanvasRenderer.prototype.getMeetOffset = function (arg, res, dest) {\n        var max = Math.max(res, dest);\n        var min = Math.min(res, dest);\n        switch (arg) {\n            case 'min': return 0;\n            case 'mid': return (max - min) / 2;\n            case 'max': return max - min;\n            default: return 0;\n        }\n    };\n    CanvasRenderer.prototype.getSliceOffset = function (arg, res, dest, src) {\n        switch (arg) {\n            case 'min': return 0;\n            case 'mid': return (res - dest) / 2 * src / res;\n            case 'max': return (res - dest) * src / res;\n            default: return 0;\n        }\n    };\n    CanvasRenderer.prototype.image = function (ctx, image, x, y, width, height, alignOptions) {\n        ctx.beginPath();\n        var srcWidth = image.width;\n        var srcHeight = image.height;\n        var destinationW = width;\n        var destinationH = height;\n        var resultWidth = 0;\n        var resultHeight = 0;\n        ctx.globalAlpha = alignOptions.opacity;\n        if (alignOptions && alignOptions.alignment !== 'None') {\n            var xalign = alignOptions.alignment.toLowerCase().substr(1, 3);\n            var yalign = alignOptions.alignment.toLowerCase().substr(5, 3);\n            if (alignOptions.scale === 'Slice') {\n                var a = function () {\n                    resultWidth = destinationW;\n                    resultHeight = srcHeight * destinationW / srcWidth;\n                };\n                var b = function () {\n                    resultWidth = srcWidth * destinationH / srcHeight;\n                    resultHeight = destinationH;\n                };\n                if (destinationW > destinationH) {\n                    a();\n                    if (destinationH > resultHeight) {\n                        b();\n                    }\n                }\n                else if (destinationW === destinationH) {\n                    if (srcWidth > srcHeight) {\n                        b();\n                    }\n                    else {\n                        a();\n                    }\n                }\n                else {\n                    b();\n                    if (destinationW > resultWidth) {\n                        a();\n                    }\n                }\n                var x1 = this.getSliceOffset(xalign, resultWidth, destinationW, srcWidth);\n                var y1 = this.getSliceOffset(yalign, resultHeight, destinationH, srcHeight);\n                var sWidth = srcWidth - x1;\n                var sHeight = srcHeight - y1;\n                var dWidth = resultWidth - (x1 * (resultWidth / srcWidth));\n                var dHeight = resultHeight - (y1 * (resultHeight / srcHeight));\n                var canvas1 = createHtmlElement('canvas', { 'width': width.toString(), 'height': height.toString() });\n                var ctx1 = canvas1.getContext('2d');\n                ctx1.drawImage(image, x1, y1, sWidth, sHeight, 0, 0, dWidth, dHeight);\n                ctx.drawImage(canvas1, x, y, width, height);\n            }\n            else if (alignOptions.scale === 'Meet') {\n                var srcRatio = (srcHeight / srcWidth);\n                var destRatio = (destinationH / destinationW);\n                resultWidth = destRatio > srcRatio ? destinationW : destinationH / srcRatio;\n                resultHeight = destRatio > srcRatio ? destinationW * srcRatio : destinationH;\n                x += this.getMeetOffset(xalign, resultWidth, destinationW);\n                y += this.getMeetOffset(yalign, resultHeight, destinationH);\n                ctx.drawImage(image, 0, 0, srcWidth, srcHeight, x, y, resultWidth, resultHeight);\n            }\n            else {\n                ctx.drawImage(image, x, y, width, height);\n            }\n        }\n        else {\n            if (image.complete) {\n                ctx.drawImage(image, x, y, width, height);\n            }\n            else {\n                var transform_1 = ctx.getTransform();\n                image.onload = function () {\n                    ctx.setTransform(transform_1.a, transform_1.b, transform_1.c, transform_1.d, transform_1.e, transform_1.f);\n                    ctx.drawImage(image, x, y, width, height);\n                };\n            }\n        }\n        ctx.closePath();\n    };\n    // text utility\n    CanvasRenderer.prototype.loadImage = function (ctx, obj, canvas, pivotX, pivotY) {\n        this.rotateContext(canvas, obj.angle, pivotX, pivotY);\n        var image = new Image();\n        image.src = obj.source;\n        this.image(ctx, image, obj.x, obj.y, obj.width, obj.height, obj);\n    };\n    /**   @private  */\n    CanvasRenderer.prototype.drawImage = function (canvas, obj, parentSvg, fromPalette) {\n        var _this = this;\n        if (obj.visible) {\n            var ctx_1 = CanvasRenderer.getContext(canvas);\n            ctx_1.save();\n            var pivotX_1 = obj.x + obj.width * obj.pivotX;\n            var pivotY_1 = obj.y + obj.height * obj.pivotY;\n            var imageObj = new Image();\n            imageObj.src = obj.source;\n            var id = ctx_1.canvas.id.split('_');\n            var value = id[id.length - 1] === ('diagram' || 'diagramLayer') ? true : false;\n            /**\n             *  Since Clipping portion for node with slice option is not calculated properly\n             * if (obj.sourceX !== undefined && obj.sourceY !== undefined && obj.sourceWidth !== undefined\n             *  && obj.sourceHeight !== undefined) {\n             *  ctx.drawImage(imageObj, obj.sourceX, obj.sourceY, obj.sourceWidth, obj.sourceHeight, obj.x, obj.y, obj.width, obj.height);\n             *  } else {\n             *             ctx.drawImage(imageObj, obj.x, obj.y, obj.width, obj.height);\n             * }\n             */\n            if (!fromPalette) {\n                this.loadImage(ctx_1, obj, canvas, pivotX_1, pivotY_1);\n            }\n            else {\n                imageObj.onload = function () {\n                    _this.loadImage(ctx_1, obj, canvas, pivotX_1, pivotY_1);\n                };\n            }\n            ctx_1.restore();\n        }\n    };\n    /**   @private  */\n    CanvasRenderer.prototype.labelAlign = function (text, wrapBounds, childNodes) {\n        var bounds = new Size(wrapBounds.width, childNodes.length * (text.fontSize * 1.2));\n        var position = { x: 0, y: 0 };\n        var labelX = text.x;\n        var labelY = text.y;\n        var offsetx = text.width * 0.5;\n        var offsety = text.height * 0.5;\n        var pointx = offsetx;\n        var pointy = offsety;\n        if (text.textAlign === 'left') {\n            pointx = 0;\n        }\n        else if (text.textAlign === 'center') {\n            if (wrapBounds.width > text.width && (text.textOverflow === 'Ellipsis' || text.textOverflow === 'Clip')) {\n                pointx = 0;\n            }\n            else {\n                pointx = text.width * 0.5;\n            }\n        }\n        else if (text.textAlign === 'right') {\n            pointx = (text.width * 1);\n        }\n        position.x = labelX + pointx + (wrapBounds ? wrapBounds.x : 0);\n        position.y = labelY + pointy - bounds.height / 2;\n        return position;\n    };\n    return CanvasRenderer;\n}());\nexport { CanvasRenderer };\nexport function refreshDiagramElements(canvas, drawingObjects, renderer) {\n    for (var i = 0; i < drawingObjects.length; i++) {\n        renderer.renderElement(drawingObjects[i], canvas, undefined);\n    }\n}\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { DrawingElement } from '../elements/drawing-element';\nimport { Size } from '../../primitives/size';\nimport { Rect } from '../../primitives/rect';\nimport { rotatePoint, getOffset } from '../../utility/base-util';\n/**\n * Container module is used to group related objects\n */\nvar Container = /** @class */ (function (_super) {\n    __extends(Container, _super);\n    function Container() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        //private members    \n        _this.desiredBounds = undefined;\n        /** @private */\n        _this.measureChildren = true;\n        /**   @private  */\n        _this.prevRotateAngle = 0;\n        return _this;\n    }\n    /**\n     * returns whether the container has child elements or not\n     */\n    Container.prototype.hasChildren = function () {\n        if (this.children !== undefined && this.children.length > 0) {\n            return true;\n        }\n        return false;\n    };\n    /**\n     * Measures the minimum space that the container requires\n     *\n     * @param availableSize\n     */\n    Container.prototype.measure = function (availableSize) {\n        // measure the element and find the desired size\n        this.desiredBounds = undefined;\n        var desired = undefined;\n        var child;\n        var center = { x: 0, y: 0 };\n        var y;\n        var x;\n        var childBounds;\n        if (this.hasChildren()) {\n            //Measuring the children\n            for (var i = 0; i < this.children.length; i++) {\n                child = this.children[i];\n                if (child.horizontalAlignment === 'Stretch' && !availableSize.width) {\n                    availableSize.width = child.bounds.width;\n                }\n                if (child.verticalAlignment === 'Stretch' && !availableSize.height) {\n                    availableSize.height = child.bounds.height;\n                }\n                var force = child.horizontalAlignment === 'Stretch' || child.verticalAlignment === 'Stretch';\n                if (this.measureChildren || force || (child instanceof Container && child.measureChildren !== undefined)) {\n                    child.measure(availableSize);\n                }\n                childBounds = this.GetChildrenBounds(child);\n                if (child.horizontalAlignment !== 'Stretch' && child.verticalAlignment !== 'Stretch') {\n                    if (this.desiredBounds === undefined) {\n                        this.desiredBounds = childBounds;\n                    }\n                    else {\n                        this.desiredBounds.uniteRect(childBounds);\n                    }\n                }\n                else if (this.actualSize && !this.actualSize.width && !this.actualSize.height &&\n                    !child.preventContainer && child.horizontalAlignment === 'Stretch' && child.verticalAlignment === 'Stretch') {\n                    if (this.desiredBounds === undefined) {\n                        this.desiredBounds = child.bounds;\n                    }\n                    else {\n                        this.desiredBounds.uniteRect(child.bounds);\n                    }\n                }\n            }\n            if (this.desiredBounds !== undefined && this.rotateAngle !== 0) {\n                var offsetPt = {\n                    x: this.desiredBounds.x + this.desiredBounds.width * this.pivot.x,\n                    y: this.desiredBounds.y + this.desiredBounds.height * this.pivot.y\n                };\n                var newPoint = rotatePoint(this.rotateAngle, undefined, undefined, offsetPt);\n                this.desiredBounds.x = newPoint.x - this.desiredBounds.width * this.pivot.x;\n                this.desiredBounds.y = newPoint.y - this.desiredBounds.height * this.pivot.y;\n            }\n            if (this.desiredBounds) {\n                desired = new Size(this.desiredBounds.width, this.desiredBounds.height);\n            }\n        }\n        desired = this.validateDesiredSize(desired, availableSize);\n        this.stretchChildren(desired);\n        this.desiredSize = desired;\n        return desired;\n    };\n    /**\n     * Arranges the container and its children\n     * @param desiredSize\n     */\n    Container.prototype.arrange = function (desiredSize) {\n        var child;\n        var bounds;\n        var childBounds = this.desiredBounds;\n        if (childBounds) {\n            var x = this.offsetX;\n            var y = this.offsetY;\n            this.offsetX = childBounds.x + childBounds.width * this.pivot.x;\n            this.offsetY = childBounds.y + childBounds.height * this.pivot.y;\n            // container has rotateAngle\n            if (this.hasChildren()) {\n                //Measuring the children\n                for (var i = 0; i < this.children.length; i++) {\n                    child = this.children[i];\n                    var arrange = false;\n                    if (child.horizontalAlignment === 'Stretch') {\n                        child.offsetX = this.offsetX;\n                        child.parentTransform = this.parentTransform + this.rotateAngle;\n                        arrange = true;\n                    }\n                    if (child.verticalAlignment === 'Stretch') {\n                        child.offsetY = this.offsetY;\n                        child.parentTransform = this.parentTransform + this.rotateAngle;\n                        arrange = true;\n                    }\n                    if (arrange || this.measureChildren || (child instanceof Container && child.measureChildren !== undefined)) {\n                        child.arrange(child.desiredSize);\n                    }\n                }\n            }\n        }\n        this.actualSize = desiredSize;\n        this.updateBounds();\n        this.prevRotateAngle = this.rotateAngle;\n        return desiredSize;\n    };\n    //protected methods\n    /**\n     * Stretches the child elements based on the size of the container\n     * @param size\n     */\n    Container.prototype.stretchChildren = function (size) {\n        if (this.hasChildren()) {\n            for (var _i = 0, _a = this.children; _i < _a.length; _i++) {\n                var child = _a[_i];\n                if (child.horizontalAlignment === 'Stretch' || child.desiredSize.width === undefined) {\n                    child.desiredSize.width = size.width - child.margin.left - child.margin.right;\n                }\n                if (child.verticalAlignment === 'Stretch' || child.desiredSize.height === undefined) {\n                    child.desiredSize.height = size.height - child.margin.top - child.margin.bottom;\n                }\n                if (child instanceof Container) {\n                    child.stretchChildren(child.desiredSize);\n                }\n            }\n        }\n    };\n    /**\n     * Finds the offset of the child element with respect to the container\n     * @param child\n     * @param center\n     */\n    Container.prototype.findChildOffsetFromCenter = function (child, center) {\n        var topLeft = { x: center.x - child.desiredSize.width / 2, y: center.y - child.desiredSize.height / 2 };\n        var offset = getOffset(topLeft, child);\n        //Rotate based on child rotate angle\n        offset = rotatePoint(child.rotateAngle, center.x, center.y, offset);\n        //Rotate based on parent pivot\n        offset = rotatePoint(this.rotateAngle + this.parentTransform, this.offsetX, this.offsetY, offset);\n        child.offsetX = offset.x;\n        child.offsetY = offset.y;\n    };\n    //private methods - check its need\n    Container.prototype.GetChildrenBounds = function (child) {\n        var childBounds;\n        var childSize;\n        childSize = child.desiredSize.clone();\n        var diffAngle = child.rotateAngle - this.rotateAngle;\n        var refPoint = { x: child.offsetX, y: child.offsetY };\n        var left = refPoint.x - childSize.width * child.pivot.x;\n        var top = refPoint.y - childSize.height * child.pivot.y;\n        var right = left + childSize.width;\n        var bottom = top + childSize.height;\n        var topLeft = { x: left, y: top };\n        var topRight = { x: right, y: top };\n        var bottomLeft = { x: left, y: bottom };\n        var bottomRight = { x: right, y: bottom };\n        topLeft = rotatePoint(child.rotateAngle, child.offsetX, child.offsetY, topLeft);\n        topRight = rotatePoint(child.rotateAngle, child.offsetX, child.offsetY, topRight);\n        bottomLeft = rotatePoint(child.rotateAngle, child.offsetX, child.offsetY, bottomLeft);\n        bottomRight = rotatePoint(child.rotateAngle, child.offsetX, child.offsetY, bottomRight);\n        if (this.rotateAngle !== 0) {\n            topLeft = rotatePoint(-this.rotateAngle, undefined, undefined, topLeft);\n            topRight = rotatePoint(-this.rotateAngle, undefined, undefined, topRight);\n            bottomLeft = rotatePoint(-this.rotateAngle, undefined, undefined, bottomLeft);\n            bottomRight = rotatePoint(-this.rotateAngle, undefined, undefined, bottomRight);\n        }\n        return Rect.toBounds([topLeft, topRight, bottomLeft, bottomRight]);\n    };\n    return Container;\n}(DrawingElement));\nexport { Container };\n","/* eslint-disable no-inner-declarations */\nimport { extend, merge, isNullOrUndefined, getValue } from '@syncfusion/ej2-base';\nimport { attributes, prepend, isVisible, append, addClass } from '@syncfusion/ej2-base';\nimport { compile } from '@syncfusion/ej2-base';\nimport { DataManager, Query } from '@syncfusion/ej2-data';\nexport var cssClass = {\n    li: 'e-list-item',\n    ul: 'e-list-parent e-ul',\n    group: 'e-list-group-item',\n    icon: 'e-list-icon',\n    text: 'e-list-text',\n    check: 'e-list-check',\n    checked: 'e-checked',\n    selected: 'e-selected',\n    expanded: 'e-expanded',\n    textContent: 'e-text-content',\n    hasChild: 'e-has-child',\n    level: 'e-level',\n    url: 'e-list-url',\n    collapsible: 'e-icon-collapsible',\n    disabled: 'e-disabled',\n    image: 'e-list-img',\n    iconWrapper: 'e-icon-wrapper',\n    anchorWrap: 'e-anchor-wrap',\n    navigable: 'e-navigable'\n};\n/**\n * Base List Generator\n */\n// eslint-disable-next-line @typescript-eslint/no-namespace\nexport var ListBase;\n(function (ListBase) {\n    /**\n     *\n     * Default mapped fields.\n     */\n    ListBase.defaultMappedFields = {\n        id: 'id',\n        text: 'text',\n        url: 'url',\n        value: 'value',\n        isChecked: 'isChecked',\n        enabled: 'enabled',\n        expanded: 'expanded',\n        selected: 'selected',\n        iconCss: 'iconCss',\n        child: 'child',\n        isVisible: 'isVisible',\n        hasChildren: 'hasChildren',\n        tooltip: 'tooltip',\n        htmlAttributes: 'htmlAttributes',\n        urlAttributes: 'urlAttributes',\n        imageAttributes: 'imageAttributes',\n        imageUrl: 'imageUrl',\n        groupBy: null,\n        sortBy: null\n    };\n    var defaultAriaAttributes = {\n        level: 1,\n        listRole: 'presentation',\n        itemRole: 'presentation',\n        groupItemRole: 'group',\n        itemText: 'list-item',\n        wrapperRole: 'presentation'\n    };\n    var defaultListBaseOptions = {\n        showCheckBox: false,\n        showIcon: false,\n        enableHtmlSanitizer: false,\n        expandCollapse: false,\n        fields: ListBase.defaultMappedFields,\n        ariaAttributes: defaultAriaAttributes,\n        listClass: '',\n        itemClass: '',\n        processSubChild: false,\n        sortOrder: 'None',\n        template: null,\n        groupTemplate: null,\n        headerTemplate: null,\n        expandIconClass: 'e-icon-collapsible',\n        moduleName: 'list',\n        expandIconPosition: 'Right',\n        itemNavigable: false\n    };\n    /**\n     * Function helps to created and return the UL Li element based on your data.\n     *\n     * @param  {createElementParams} createElement - Specifies an array of JSON data.\n     *\n     * @param  {{Object}[]} dataSource - Specifies an array of JSON data.\n     *\n     * @param  {ListBaseOptions} options? - Specifies the list options that need to provide.\n     *\n     * @param  {boolean} isSingleLevel? - Specifies the list options that need to provide.\n     *\n     * @param  {any} componentInstance? - Specifies the list options that need to provide.\n     *\n     * @returns  {createElement} createListFromJson - Specifies the list options that need to provide.\n     */\n    function createList(createElement, dataSource, \n    // eslint-disable-next-line\n    options, isSingleLevel, componentInstance) {\n        var curOpt = extend({}, defaultListBaseOptions, options);\n        var ariaAttributes = extend({}, defaultAriaAttributes, curOpt.ariaAttributes);\n        var type = typeofData(dataSource).typeof;\n        if (type === 'string' || type === 'number') {\n            return createListFromArray(createElement, dataSource, isSingleLevel, options, componentInstance);\n        }\n        else {\n            return createListFromJson(createElement, dataSource, options, ariaAttributes.level, isSingleLevel, componentInstance);\n        }\n    }\n    ListBase.createList = createList;\n    /**\n     * Function helps to created an element list based on string array input .\n     *\n     * @param  {createElementParams} createElement - Specifies an array of JSON data.\n     *\n     * @param  {{Object}[]} dataSource - Specifies an array of JSON data.\n     *\n     * @param  {ListBaseOptions} options? - Specifies the list options that need to provide.\n     *\n     * @param  {boolean} isSingleLevel? - Specifies the list options that need to provide.\n     *\n     * @param  {any} componentInstance? - Specifies the list options that need to provide.\n     *\n     * @returns  {createElement} generateUL - returns the list options that need to provide.\n     */\n    function createListFromArray(createElement, dataSource, \n    // tslint:disable-next-line\n    // eslint-disable-next-line\n    isSingleLevel, options, componentInstance) {\n        var subChild = createListItemFromArray(createElement, dataSource, isSingleLevel, options, componentInstance);\n        return generateUL(createElement, subChild, null, options);\n    }\n    ListBase.createListFromArray = createListFromArray;\n    /**\n     * Function helps to created an element list based on string array input .\n     *\n     * @param  {createElementParams} createElement - Specifies an array of JSON data.\n     *\n     * @param  {{Object}[]} dataSource - Specifies an array of JSON data.\n     *\n     * @param  {ListBaseOptions} options? - Specifies the list options that need to provide.\n     *\n     * @param  {boolean} isSingleLevel? - Specifies the list options that need to provide.\n     *\n     * @param  {any} componentInstance? - Specifies the list options that need to provide.\n     *\n     * @returns  {HTMLElement[]} subChild - returns the list options that need to provide.\n     */\n    function createListItemFromArray(createElement, dataSource, \n    // eslint-disable-next-line\n    isSingleLevel, options, componentInstance) {\n        var subChild = [];\n        var curOpt = extend({}, defaultListBaseOptions, options);\n        cssClass = getModuleClass(curOpt.moduleName);\n        var id = generateId(); // generate id for drop-down-list option.\n        for (var i = 0; i < dataSource.length; i++) {\n            if (isNullOrUndefined(dataSource[i])) {\n                continue;\n            }\n            var li = void 0;\n            if (curOpt.itemCreating && typeof curOpt.itemCreating === 'function') {\n                var curData = {\n                    dataSource: dataSource,\n                    curData: dataSource[i],\n                    text: dataSource[i],\n                    options: curOpt\n                };\n                curOpt.itemCreating(curData);\n            }\n            if (isSingleLevel) {\n                li = generateSingleLevelLI(createElement, dataSource[i], undefined, null, null, [], null, id, i, options);\n            }\n            else {\n                li = generateLI(createElement, dataSource[i], undefined, null, null, options, componentInstance);\n            }\n            if (curOpt.itemCreated && typeof curOpt.itemCreated === 'function') {\n                var curData = {\n                    dataSource: dataSource,\n                    curData: dataSource[i],\n                    text: dataSource[i],\n                    item: li,\n                    options: curOpt\n                };\n                curOpt.itemCreated(curData);\n            }\n            subChild.push(li);\n        }\n        return subChild;\n    }\n    ListBase.createListItemFromArray = createListItemFromArray;\n    /**\n     * Function helps to created an element list based on array of JSON input .\n     *\n     * @param  {createElementParams} createElement - Specifies an array of JSON data.\n     *\n     * @param  {{Object}[]} dataSource - Specifies an array of JSON data.\n     *\n     * @param  {ListBaseOptions} options? - Specifies the list options that need to provide.\n     *\n     * @param  {boolean} isSingleLevel? - Specifies the list options that need to provide.\n     *\n     * @param  {number} level? - Specifies the list options that need to provide.\n     *\n     * @param  {any} componentInstance? - Specifies the list options that need to provide.\n     *\n     * @returns  {HTMLElement[]} child - returns the list options that need to provide.\n     */\n    function createListItemFromJson(createElement, dataSource, \n    // eslint-disable-next-line\n    options, level, isSingleLevel, componentInstance) {\n        var curOpt = extend({}, defaultListBaseOptions, options);\n        cssClass = getModuleClass(curOpt.moduleName);\n        var fields = (componentInstance &&\n            (componentInstance.getModuleName() === 'listview' || componentInstance.getModuleName() === 'multiselect'))\n            ? curOpt.fields : extend({}, ListBase.defaultMappedFields, curOpt.fields);\n        var ariaAttributes = extend({}, defaultAriaAttributes, curOpt.ariaAttributes);\n        var id;\n        var checkboxElement = [];\n        if (level) {\n            ariaAttributes.level = level;\n        }\n        var child = [];\n        var li;\n        var anchorElement;\n        if (dataSource && dataSource.length && !isNullOrUndefined(typeofData(dataSource).item) &&\n            // eslint-disable-next-line no-prototype-builtins\n            !typeofData(dataSource).item.hasOwnProperty(fields.id)) {\n            id = generateId(); // generate id for drop-down-list option.\n        }\n        for (var i = 0; i < dataSource.length; i++) {\n            var fieldData = getFieldValues(dataSource[i], fields);\n            if (isNullOrUndefined(dataSource[i])) {\n                continue;\n            }\n            if (curOpt.itemCreating && typeof curOpt.itemCreating === 'function') {\n                var curData = {\n                    dataSource: dataSource,\n                    curData: dataSource[i],\n                    text: fieldData[fields.text],\n                    options: curOpt,\n                    fields: fields\n                };\n                curOpt.itemCreating(curData);\n            }\n            var curItem = dataSource[i];\n            if (curOpt.itemCreating && typeof curOpt.itemCreating === 'function') {\n                fieldData = getFieldValues(dataSource[i], fields);\n            }\n            // eslint-disable-next-line no-prototype-builtins\n            if (fieldData.hasOwnProperty(fields.id) && !isNullOrUndefined(fieldData[fields.id])) {\n                id = fieldData[fields.id];\n            }\n            var innerEle = [];\n            if (curOpt.showCheckBox) {\n                if (curOpt.itemNavigable && (fieldData[fields.url] || fieldData[fields.urlAttributes])) {\n                    checkboxElement.push(createElement('input', { className: cssClass.check, attrs: { type: 'checkbox' } }));\n                }\n                else {\n                    innerEle.push(createElement('input', { className: cssClass.check, attrs: { type: 'checkbox' } }));\n                }\n            }\n            if (isSingleLevel === true) {\n                // eslint-disable-next-line no-prototype-builtins\n                if (curOpt.showIcon && fieldData.hasOwnProperty(fields.iconCss) && !isNullOrUndefined(fieldData[fields.iconCss])) {\n                    innerEle.push(createElement('span', { className: cssClass.icon + ' ' + fieldData[fields.iconCss] }));\n                }\n                li = generateSingleLevelLI(createElement, curItem, fieldData, fields, curOpt.itemClass, innerEle, \n                // eslint-disable-next-line no-prototype-builtins\n                (curItem.hasOwnProperty('isHeader') &&\n                    curItem.isHeader) ? true : false, id, i, options);\n                anchorElement = li.querySelector('.' + cssClass.anchorWrap);\n                if (curOpt.itemNavigable && checkboxElement.length) {\n                    prepend(checkboxElement, li.firstElementChild);\n                }\n            }\n            else {\n                li = generateLI(createElement, curItem, fieldData, fields, curOpt.itemClass, options, componentInstance);\n                li.classList.add(cssClass.level + '-' + ariaAttributes.level);\n                li.setAttribute('aria-level', ariaAttributes.level.toString());\n                anchorElement = li.querySelector('.' + cssClass.anchorWrap);\n                // eslint-disable-next-line no-prototype-builtins\n                if (fieldData.hasOwnProperty(fields.tooltip)) {\n                    li.setAttribute('title', fieldData[fields.tooltip]);\n                }\n                // eslint-disable-next-line no-prototype-builtins\n                if (fieldData.hasOwnProperty(fields.htmlAttributes) && fieldData[fields.htmlAttributes]) {\n                    setAttribute(li, fieldData[fields.htmlAttributes]);\n                }\n                // eslint-disable-next-line no-prototype-builtins\n                if (fieldData.hasOwnProperty(fields.enabled) && fieldData[fields.enabled] === false) {\n                    li.classList.add(cssClass.disabled);\n                }\n                // eslint-disable-next-line no-prototype-builtins\n                if (fieldData.hasOwnProperty(fields.isVisible) && fieldData[fields.isVisible] === false) {\n                    li.style.display = 'none';\n                }\n                // eslint-disable-next-line no-prototype-builtins\n                if (fieldData.hasOwnProperty(fields.imageUrl) && !isNullOrUndefined(fieldData[fields.imageUrl])\n                    && !curOpt.template) {\n                    var attr = { src: fieldData[fields.imageUrl] };\n                    merge(attr, fieldData[fields.imageAttributes]);\n                    var imageElemnt = createElement('img', { className: cssClass.image, attrs: attr });\n                    if (anchorElement) {\n                        anchorElement.insertAdjacentElement('afterbegin', imageElemnt);\n                    }\n                    else {\n                        prepend([imageElemnt], li.firstElementChild);\n                    }\n                }\n                // eslint-disable-next-line no-prototype-builtins\n                if (curOpt.showIcon && fieldData.hasOwnProperty(fields.iconCss) &&\n                    !isNullOrUndefined(fieldData[fields.iconCss]) && !curOpt.template) {\n                    var iconElement = createElement('div', { className: cssClass.icon + ' ' + fieldData[fields.iconCss] });\n                    if (anchorElement) {\n                        anchorElement.insertAdjacentElement('afterbegin', iconElement);\n                    }\n                    else {\n                        prepend([iconElement], li.firstElementChild);\n                    }\n                }\n                if (innerEle.length) {\n                    prepend(innerEle, li.firstElementChild);\n                }\n                if (curOpt.itemNavigable && checkboxElement.length) {\n                    prepend(checkboxElement, li.firstElementChild);\n                }\n                processSubChild(createElement, fieldData, fields, dataSource, curOpt, li, ariaAttributes.level);\n            }\n            if (anchorElement) {\n                addClass([li], [cssClass.navigable]);\n            }\n            if (curOpt.itemCreated && typeof curOpt.itemCreated === 'function') {\n                var curData = {\n                    dataSource: dataSource,\n                    curData: dataSource[i],\n                    text: fieldData[fields.text],\n                    item: li,\n                    options: curOpt,\n                    fields: fields\n                };\n                curOpt.itemCreated(curData);\n            }\n            checkboxElement = [];\n            child.push(li);\n        }\n        return child;\n    }\n    ListBase.createListItemFromJson = createListItemFromJson;\n    /**\n     * Function helps to created an element list based on array of JSON input .\n     *\n     * @param  {createElementParams} createElement - Specifies an array of JSON data.\n     *\n     * @param  {{Object}[]} dataSource - Specifies an array of JSON data.\n     *\n     * @param  {ListBaseOptions} options? - Specifies the list options that need to provide.\n     *\n     * @param  {number} level? - Specifies the list options that need to provide.\n     *\n     * @param  {boolean} isSingleLevel? - Specifies the list options that need to provide.\n     *\n     * @param  {any} componentInstance? - Specifies the list options that need to provide.\n     *\n     * @returns  {createElement} generateUL - Specifies the list options that need to provide.\n     */\n    function createListFromJson(createElement, dataSource, \n    // eslint-disable-next-line\n    options, level, isSingleLevel, componentInstance) {\n        var curOpt = extend({}, defaultListBaseOptions, options);\n        var li = createListItemFromJson(createElement, dataSource, options, level, isSingleLevel, componentInstance);\n        return generateUL(createElement, li, curOpt.listClass, options);\n    }\n    ListBase.createListFromJson = createListFromJson;\n    /**\n     * Return the next or previous visible element.\n     *\n     * @param  {Element[]|NodeList} elementArray - An element array to find next or previous element.\n     * @param  {Element} li - An element to find next or previous after this element.\n     * @param  {boolean} isPrevious? - Specify when the need get previous element from array.\n     */\n    function getSiblingLI(elementArray, element, isPrevious) {\n        cssClass = getModuleClass(defaultListBaseOptions.moduleName);\n        if (!elementArray || !elementArray.length) {\n            return void 0;\n        }\n        var siblingLI;\n        var liIndex;\n        var liCollections = Array.prototype.slice.call(elementArray);\n        if (element) {\n            liIndex = indexOf(element, liCollections);\n        }\n        else {\n            liIndex = (isPrevious === true ? liCollections.length : -1);\n        }\n        siblingLI = liCollections[liIndex + (isPrevious === true ? -1 : 1)];\n        while (siblingLI && (!isVisible(siblingLI) || siblingLI.classList.contains(cssClass.disabled))) {\n            liIndex = liIndex + (isPrevious === true ? -1 : 1);\n            siblingLI = liCollections[liIndex];\n        }\n        return siblingLI;\n    }\n    ListBase.getSiblingLI = getSiblingLI;\n    /**\n     * Return the index of the li element\n     *\n     * @param  {Element} item - An element to find next or previous after this element.\n     * @param  {Element[]} elementArray - An element array to find index of given li.\n     */\n    function indexOf(item, elementArray) {\n        if (!elementArray || !item) {\n            return void 0;\n        }\n        else {\n            var liCollections = elementArray;\n            liCollections = Array.prototype.slice.call(elementArray);\n            return liCollections.indexOf(item);\n        }\n    }\n    ListBase.indexOf = indexOf;\n    /**\n     * Returns the grouped data from given dataSource.\n     *\n     * @param  {{Object}[]} dataSource - The JSON data which is necessary to process.\n     * @param  {FieldsMapping} fields - Fields that are mapped from the data source.\n     * @param  {SortOrder} sortOrder- Specifies final result sort order.\n     */\n    function groupDataSource(dataSource, fields, sortOrder) {\n        if (sortOrder === void 0) { sortOrder = 'None'; }\n        var curFields = extend({}, ListBase.defaultMappedFields, fields);\n        var cusQuery = new Query().group(curFields.groupBy);\n        // need to remove once sorting issues fixed in DataManager\n        cusQuery = addSorting(sortOrder, 'key', cusQuery);\n        var ds = getDataSource(dataSource, cusQuery);\n        dataSource = [];\n        for (var j = 0; j < ds.length; j++) {\n            var itemObj = ds[j].items;\n            var grpItem = {};\n            var hdr = 'isHeader';\n            grpItem[curFields.text] = ds[j].key;\n            grpItem[hdr] = true;\n            var newtext = curFields.text;\n            if (newtext === 'id') {\n                newtext = 'text';\n                grpItem[newtext] = ds[j].key;\n            }\n            grpItem._id = 'group-list-item-' + (ds[j].key ?\n                ds[j].key.toString().trim() : 'undefined');\n            grpItem.items = itemObj;\n            dataSource.push(grpItem);\n            for (var k = 0; k < itemObj.length; k++) {\n                dataSource.push(itemObj[k]);\n            }\n        }\n        return dataSource;\n    }\n    ListBase.groupDataSource = groupDataSource;\n    /**\n     * Returns a sorted query object.\n     *\n     * @param  {SortOrder} sortOrder - Specifies that sort order.\n     * @param  {string} sortBy - Specifies sortBy fields.\n     * @param  {Query} query - Pass if any existing query.\n     */\n    function addSorting(sortOrder, sortBy, query) {\n        if (query === void 0) { query = new Query(); }\n        if (sortOrder === 'Ascending') {\n            query.sortBy(sortBy, 'ascending', true);\n        }\n        else if (sortOrder === 'Descending') {\n            query.sortBy(sortBy, 'descending', true);\n        }\n        else {\n            for (var i = 0; i < query.queries.length; i++) {\n                if (query.queries[i].fn === 'onSortBy') {\n                    query.queries.splice(i, 1);\n                }\n            }\n        }\n        return query;\n    }\n    ListBase.addSorting = addSorting;\n    /**\n     * Return an array of JSON Data that processed based on queries.\n     *\n     * @param  {{Object}[]} dataSource - Specifies local JSON data source.\n     *\n     * @param  {Query} query - Specifies query that need to process.\n     */\n    function getDataSource(dataSource, query) {\n        // eslint-disable-next-line\n        return new DataManager(dataSource)\n            .executeLocal(query);\n    }\n    ListBase.getDataSource = getDataSource;\n    /**\n     * Created JSON data based the UL and LI element\n     *\n     * @param  {HTMLElement|Element} element - UL element that need to convert as a JSON\n     * @param  {ListBaseOptions} options? - Specifies listbase option for fields.\n     */\n    function createJsonFromElement(element, options) {\n        var curOpt = extend({}, defaultListBaseOptions, options);\n        var fields = extend({}, ListBase.defaultMappedFields, curOpt.fields);\n        var curEle = element.cloneNode(true);\n        // eslint-disable-next-line\n        var jsonAr = [];\n        curEle.classList.add('json-parent');\n        var childs = curEle.querySelectorAll('.json-parent>li');\n        curEle.classList.remove('json-parent');\n        for (var i = 0; i < childs.length; i++) {\n            var li = childs[i];\n            var anchor = li.querySelector('a');\n            var ul = li.querySelector('ul');\n            // eslint-disable-next-line\n            var json = {};\n            var childNodes = anchor ? anchor.childNodes : li.childNodes;\n            var keys = Object.keys(childNodes);\n            for (var i_1 = 0; i_1 < childNodes.length; i_1++) {\n                if (!(childNodes[Number(keys[i_1])]).hasChildNodes()) {\n                    json[fields.text] = childNodes[Number(keys[i_1])].textContent;\n                }\n            }\n            var attributes_1 = getAllAttributes(li);\n            if (attributes_1.id) {\n                json[fields.id] = attributes_1.id;\n                delete attributes_1.id;\n            }\n            else {\n                json[fields.id] = generateId();\n            }\n            if (Object.keys(attributes_1).length) {\n                json[fields.htmlAttributes] = attributes_1;\n            }\n            if (anchor) {\n                attributes_1 = getAllAttributes(anchor);\n                if (Object.keys(attributes_1).length) {\n                    json[fields.urlAttributes] = attributes_1;\n                }\n            }\n            if (ul) {\n                json[fields.child] = createJsonFromElement(ul, options);\n            }\n            jsonAr.push(json);\n        }\n        return jsonAr;\n    }\n    ListBase.createJsonFromElement = createJsonFromElement;\n    function typeofData(data) {\n        var match = { typeof: null, item: null };\n        for (var i = 0; i < data.length; i++) {\n            if (!isNullOrUndefined(data[i])) {\n                return match = { typeof: typeof data[i], item: data[i] };\n            }\n        }\n        return match;\n    }\n    function setAttribute(element, elementAttributes) {\n        var attr = {};\n        merge(attr, elementAttributes);\n        if (attr.class) {\n            addClass([element], attr.class.split(' '));\n            delete attr.class;\n        }\n        attributes(element, attr);\n    }\n    function getAllAttributes(element) {\n        var attributes = {};\n        var attr = element.attributes;\n        for (var index = 0; index < attr.length; index++) {\n            attributes[attr[index].nodeName] = attr[index].nodeValue;\n        }\n        return attributes;\n    }\n    /**\n     * Created UL element from content template.\n     *\n     * @param  {string} template - that need to convert and generate li element.\n     * @param  {{Object}[]} dataSource - Specifies local JSON data source.\n     * @param  {ListBaseOptions} options? - Specifies listbase option for fields.\n     */\n    function renderContentTemplate(createElement, template, dataSource, \n    // eslint-disable-next-line\n    fields, options, componentInstance) {\n        cssClass = getModuleClass(defaultListBaseOptions.moduleName);\n        var ulElement = createElement('ul', { className: cssClass.ul, attrs: { role: 'presentation' } });\n        var curOpt = extend({}, defaultListBaseOptions, options);\n        var curFields = extend({}, ListBase.defaultMappedFields, fields);\n        // eslint-disable-next-line\n        var compiledString = compileTemplate(template);\n        var liCollection = [];\n        var value;\n        var id = generateId(); // generate id for drop-down-list option.\n        for (var i = 0; i < dataSource.length; i++) {\n            var fieldData = getFieldValues(dataSource[i], curFields);\n            var curItem = dataSource[i];\n            var isHeader = curItem.isHeader;\n            if (typeof dataSource[i] === 'string' || typeof dataSource[i] === 'number') {\n                value = curItem;\n            }\n            else {\n                value = fieldData[curFields.value];\n            }\n            if (curOpt.itemCreating && typeof curOpt.itemCreating === 'function') {\n                var curData = {\n                    dataSource: dataSource,\n                    curData: curItem,\n                    text: value,\n                    options: curOpt,\n                    fields: curFields\n                };\n                curOpt.itemCreating(curData);\n            }\n            if (curOpt.itemCreating && typeof curOpt.itemCreating === 'function') {\n                fieldData = getFieldValues(dataSource[i], curFields);\n                if (typeof dataSource[i] === 'string' || typeof dataSource[i] === 'number') {\n                    value = curItem;\n                }\n                else {\n                    value = fieldData[curFields.value];\n                }\n            }\n            var li = createElement('li', {\n                id: id + '-' + i,\n                className: isHeader ? cssClass.group : cssClass.li, attrs: { role: 'presentation' }\n            });\n            if (isHeader) {\n                if (typeof dataSource[i] === 'string' || typeof dataSource[i] === 'number') {\n                    li.innerText = curItem;\n                }\n                else {\n                    li.innerText = fieldData[curFields.text];\n                }\n            }\n            else {\n                var currentID = isHeader ? curOpt.groupTemplateID : curOpt.templateID;\n                if (isHeader) {\n                    if (componentInstance && componentInstance.getModuleName() != 'listview') {\n                        // eslint-disable-next-line\n                        var compiledElement = compiledString(curItem, componentInstance, 'headerTemplate', currentID, !!curOpt.isStringTemplate, null, li);\n                        if (compiledElement) {\n                            append(compiledElement, li);\n                        }\n                    }\n                    else {\n                        append(compiledString(curItem, componentInstance, 'headerTemplate', currentID, !!curOpt.isStringTemplate), li);\n                    }\n                }\n                else {\n                    if (componentInstance && componentInstance.getModuleName() !== 'listview') {\n                        // eslint-disable-next-line\n                        var compiledElement = compiledString(curItem, componentInstance, 'template', currentID, !!curOpt.isStringTemplate, null, li);\n                        if (compiledElement) {\n                            append(compiledElement, li);\n                        }\n                    }\n                    else {\n                        append(compiledString(curItem, componentInstance, 'template', currentID, !!curOpt.isStringTemplate), li);\n                    }\n                }\n                li.setAttribute('data-value', isNullOrUndefined(value) ? 'null' : value);\n                li.setAttribute('role', 'option');\n            }\n            if (curOpt.itemCreated && typeof curOpt.itemCreated === 'function') {\n                var curData = {\n                    dataSource: dataSource,\n                    curData: curItem,\n                    text: value,\n                    item: li,\n                    options: curOpt,\n                    fields: curFields\n                };\n                curOpt.itemCreated(curData);\n            }\n            liCollection.push(li);\n        }\n        append(liCollection, ulElement);\n        return ulElement;\n    }\n    ListBase.renderContentTemplate = renderContentTemplate;\n    /**\n     * Created header items from group template.\n     *\n     * @param  {string} template - that need to convert and generate li element.\n     *\n     * @param  {{Object}[]} dataSource - Specifies local JSON data source.\n     *\n     * @param  {FieldsMapping} fields - Specifies fields for mapping the dataSource.\n     *\n     * @param  {Element[]} headerItems? - Specifies listbase header items.\n     */\n    // tslint:disable-next-line\n    function renderGroupTemplate(groupTemplate, groupDataSource, fields, \n    // eslint-disable-next-line\n    headerItems, options, componentInstance) {\n        // eslint-disable-next-line @typescript-eslint/ban-types\n        var compiledString = compileTemplate(groupTemplate);\n        var curFields = extend({}, ListBase.defaultMappedFields, fields);\n        var curOpt = extend({}, defaultListBaseOptions, options);\n        var category = curFields.groupBy;\n        for (var _i = 0, headerItems_1 = headerItems; _i < headerItems_1.length; _i++) {\n            var header = headerItems_1[_i];\n            var headerData = {};\n            headerData[category] = header.textContent;\n            header.innerHTML = '';\n            if (componentInstance && componentInstance.getModuleName() !== \"listview\") {\n                // eslint-disable-next-line\n                var compiledElement = compiledString(headerData, componentInstance, 'groupTemplate', curOpt.groupTemplateID, !!curOpt.isStringTemplate, null, header);\n                if (compiledElement) {\n                    append(compiledElement, header);\n                }\n            }\n            else {\n                append(compiledString(headerData, componentInstance, 'groupTemplate', curOpt.groupTemplateID, !!curOpt.isStringTemplate), header);\n            }\n        }\n        return headerItems;\n    }\n    ListBase.renderGroupTemplate = renderGroupTemplate;\n    function generateId() {\n        return Math.floor((1 + Math.random()) * 0x10000)\n            .toString(16)\n            .substring(1);\n    }\n    ListBase.generateId = generateId;\n    function processSubChild(createElement, fieldData, fields, ds, options, element, level) {\n        // Get SubList\n        var subDS = fieldData[fields.child] || [];\n        var hasChildren = fieldData[fields.hasChildren];\n        //Create Sub child\n        if (subDS.length) {\n            hasChildren = true;\n            element.classList.add(cssClass.hasChild);\n            if (options.processSubChild) {\n                var subLi = createListFromJson(createElement, subDS, options, ++level);\n                element.appendChild(subLi);\n            }\n        }\n        // Create expand and collapse node\n        if (!!options.expandCollapse && hasChildren && !options.template) {\n            element.firstElementChild.classList.add(cssClass.iconWrapper);\n            // eslint-disable-next-line @typescript-eslint/ban-types\n            var expandElement = options.expandIconPosition === 'Left' ? prepend : append;\n            expandElement([createElement('div', { className: 'e-icons ' + options.expandIconClass })], element.querySelector('.' + cssClass.textContent));\n        }\n    }\n    function generateSingleLevelLI(createElement, item, fieldData, fields, className, innerElements, grpLI, id, index, options) {\n        var curOpt = extend({}, defaultListBaseOptions, options);\n        var ariaAttributes = extend({}, defaultAriaAttributes, curOpt.ariaAttributes);\n        var text = item;\n        var value = item;\n        var dataSource;\n        if (typeof item !== 'string' && typeof item !== 'number' && typeof item !== 'boolean') {\n            dataSource = item;\n            text = (typeof fieldData[fields.text] === 'boolean' || typeof fieldData[fields.text] === 'number') ?\n                fieldData[fields.text] : (fieldData[fields.text] || '');\n            value = fieldData[fields.value];\n        }\n        var elementID;\n        if (!isNullOrUndefined(dataSource) && !isNullOrUndefined(fieldData[fields.id])\n            && fieldData[fields.id] !== '') {\n            elementID = id;\n        }\n        else {\n            elementID = id + '-' + index;\n        }\n        var li = createElement('li', {\n            className: (grpLI === true ? cssClass.group : cssClass.li) + ' ' + (isNullOrUndefined(className) ? '' : className),\n            id: elementID, attrs: (ariaAttributes.groupItemRole !== '' && ariaAttributes.itemRole !== '' ?\n                { role: (grpLI === true ? ariaAttributes.groupItemRole : ariaAttributes.itemRole) } : {})\n        });\n        // eslint-disable-next-line no-prototype-builtins\n        if (dataSource && fieldData.hasOwnProperty(fields.enabled) && fieldData[fields.enabled].toString() === 'false') {\n            li.classList.add(cssClass.disabled);\n        }\n        if (grpLI) {\n            li.innerText = text;\n        }\n        else {\n            li.setAttribute('data-value', isNullOrUndefined(value) ? 'null' : value);\n            li.setAttribute('role', 'option');\n            // eslint-disable-next-line no-prototype-builtins\n            if (dataSource && fieldData.hasOwnProperty(fields.htmlAttributes) && fieldData[fields.htmlAttributes]) {\n                setAttribute(li, fieldData[fields.htmlAttributes]);\n            }\n            if (innerElements.length && !curOpt.itemNavigable) {\n                append(innerElements, li);\n            }\n            if (dataSource && (fieldData[fields.url] || (fieldData[fields.urlAttributes] &&\n                fieldData[fields.urlAttributes].href))) {\n                li.appendChild(anchorTag(createElement, dataSource, fields, text, innerElements, curOpt.itemNavigable));\n            }\n            else {\n                if (innerElements.length && curOpt.itemNavigable) {\n                    append(innerElements, li);\n                }\n                li.appendChild(document.createTextNode(text));\n            }\n        }\n        return li;\n    }\n    function getModuleClass(moduleName) {\n        var moduleClass;\n        // eslint-disable-next-line\n        return moduleClass = {\n            li: \"e-\" + moduleName + \"-item\",\n            ul: \"e-\" + moduleName + \"-parent e-ul\",\n            group: \"e-\" + moduleName + \"-group-item\",\n            icon: \"e-\" + moduleName + \"-icon\",\n            text: \"e-\" + moduleName + \"-text\",\n            check: \"e-\" + moduleName + \"-check\",\n            checked: 'e-checked',\n            selected: 'e-selected',\n            expanded: 'e-expanded',\n            textContent: 'e-text-content',\n            hasChild: 'e-has-child',\n            level: 'e-level',\n            url: \"e-\" + moduleName + \"-url\",\n            collapsible: 'e-icon-collapsible',\n            disabled: 'e-disabled',\n            image: \"e-\" + moduleName + \"-img\",\n            iconWrapper: 'e-icon-wrapper',\n            anchorWrap: 'e-anchor-wrap',\n            navigable: 'e-navigable'\n        };\n    }\n    function anchorTag(createElement, dataSource, fields, text, innerElements, isFullNavigation) {\n        var fieldData = getFieldValues(dataSource, fields);\n        var attr = { href: fieldData[fields.url] };\n        // eslint-disable-next-line no-prototype-builtins\n        if (fieldData.hasOwnProperty(fields.urlAttributes) && fieldData[fields.urlAttributes]) {\n            merge(attr, fieldData[fields.urlAttributes]);\n            attr.href = fieldData[fields.url] ? fieldData[fields.url] :\n                fieldData[fields.urlAttributes].href;\n        }\n        var anchorTag;\n        if (!isFullNavigation) {\n            anchorTag = createElement('a', { className: cssClass.text + ' ' + cssClass.url, innerHTML: text });\n        }\n        else {\n            anchorTag = createElement('a', { className: cssClass.text + ' ' + cssClass.url });\n            var anchorWrapper = createElement('div', { className: cssClass.anchorWrap });\n            if (innerElements && innerElements.length) {\n                append(innerElements, anchorWrapper);\n            }\n            anchorWrapper.appendChild(document.createTextNode(text));\n            append([anchorWrapper], anchorTag);\n        }\n        setAttribute(anchorTag, attr);\n        return anchorTag;\n    }\n    // tslint:disable-next-line\n    /* tslint:disable:align */\n    function generateLI(createElement, item, fieldData, \n    // eslint-disable-next-line\n    fields, className, options, componentInstance) {\n        var curOpt = extend({}, defaultListBaseOptions, options);\n        var ariaAttributes = extend({}, defaultAriaAttributes, curOpt.ariaAttributes);\n        var text = item;\n        var uID;\n        var grpLI;\n        var dataSource;\n        if (typeof item !== 'string' && typeof item !== 'number') {\n            dataSource = item;\n            text = fieldData[fields.text] || '';\n            // tslint:disable-next-line\n            uID = (isNullOrUndefined(fieldData['_id'])) ? fieldData[fields.id] : fieldData['_id'];\n            // eslint-disable-next-line no-prototype-builtins\n            grpLI = (item.hasOwnProperty('isHeader') && item.isHeader)\n                ? true : false;\n        }\n        if (options && options.enableHtmlSanitizer) {\n            // eslint-disable-next-line no-self-assign\n            text = text;\n        }\n        var li = createElement('li', {\n            className: (grpLI === true ? cssClass.group : cssClass.li) + ' ' + (isNullOrUndefined(className) ? '' : className),\n            attrs: (ariaAttributes.groupItemRole !== '' && ariaAttributes.itemRole !== '' ?\n                { role: (grpLI === true ? ariaAttributes.groupItemRole : ariaAttributes.itemRole) } : {})\n        });\n        if (!isNullOrUndefined(uID) === true) {\n            li.setAttribute('data-uid', uID);\n        }\n        else {\n            li.setAttribute('data-uid', generateId());\n        }\n        if (grpLI && options && options.groupTemplate) {\n            // eslint-disable-next-line @typescript-eslint/ban-types\n            var compiledString = compileTemplate(options.groupTemplate);\n            if (componentInstance && componentInstance.getModuleName() !== \"listview\") {\n                // eslint-disable-next-line\n                var compiledElement = compiledString(item, componentInstance, 'groupTemplate', curOpt.groupTemplateID, !!curOpt.isStringTemplate, null, li);\n                if (compiledElement) {\n                    append(compiledElement, li);\n                }\n            }\n            else {\n                append(compiledString(item, componentInstance, 'groupTemplate', curOpt.groupTemplateID, !!curOpt.isStringTemplate), li);\n            }\n        }\n        else if (!grpLI && options && options.template) {\n            // eslint-disable-next-line @typescript-eslint/ban-types\n            var compiledString = compileTemplate(options.template);\n            if (componentInstance && componentInstance.getModuleName() !== 'listview') {\n                // eslint-disable-next-line\n                var compiledElement = compiledString(item, componentInstance, 'template', curOpt.templateID, !!curOpt.isStringTemplate, null, li);\n                if (compiledElement) {\n                    append(compiledElement, li);\n                }\n            }\n            else {\n                append(compiledString(item, componentInstance, 'template', curOpt.templateID, !!curOpt.isStringTemplate), li);\n            }\n        }\n        else {\n            var innerDiv = createElement('div', {\n                className: cssClass.textContent,\n                attrs: (ariaAttributes.wrapperRole !== '' ? { role: ariaAttributes.wrapperRole } : {})\n            });\n            if (dataSource && (fieldData[fields.url] || (fieldData[fields.urlAttributes] &&\n                fieldData[fields.urlAttributes].href))) {\n                innerDiv.appendChild(anchorTag(createElement, dataSource, fields, text, null, curOpt.itemNavigable));\n            }\n            else {\n                var element = createElement('span', {\n                    className: cssClass.text,\n                    attrs: (ariaAttributes.itemText !== '' ? { role: ariaAttributes.itemText } : {})\n                });\n                if (options && options.enableHtmlSanitizer) {\n                    element.innerText = text;\n                }\n                else {\n                    element.innerHTML = text;\n                }\n                innerDiv.appendChild(element);\n            }\n            li.appendChild(innerDiv);\n        }\n        return li;\n    }\n    /**\n     * Returns UL element based on the given LI element.\n     *\n     * @param  {HTMLElement[]} liElement - Specifies array of LI element.\n     *\n     * @param  {string} className? - Specifies class name that need to be added in UL element.\n     *\n     * @param  {ListBaseOptions} options? - Specifies ListBase options.\n     */\n    function generateUL(createElement, liElement, className, options) {\n        var curOpt = extend({}, defaultListBaseOptions, options);\n        var ariaAttributes = extend({}, defaultAriaAttributes, curOpt.ariaAttributes);\n        cssClass = getModuleClass(curOpt.moduleName);\n        var ulElement = createElement('ul', {\n            className: cssClass.ul + ' ' + (isNullOrUndefined(className) ? '' : className),\n            attrs: (ariaAttributes.listRole !== '' ? { role: ariaAttributes.listRole } : {})\n        });\n        append(liElement, ulElement);\n        return ulElement;\n    }\n    ListBase.generateUL = generateUL;\n    /**\n     * Returns LI element with additional DIV tag based on the given LI element.\n     *\n     * @param  {liElement} liElement - Specifies LI element.\n     *\n     * @param  {string} className? - Specifies class name that need to be added in created DIV element.\n     *\n     * @param  {ListBaseOptions} options? - Specifies ListBase options.\n     */\n    function generateIcon(createElement, liElement, className, options) {\n        var curOpt = extend({}, defaultListBaseOptions, options);\n        cssClass = getModuleClass(curOpt.moduleName);\n        // eslint-disable-next-line @typescript-eslint/ban-types\n        var expandElement = curOpt.expandIconPosition === 'Left' ? prepend : append;\n        expandElement([createElement('div', {\n                className: 'e-icons ' + curOpt.expandIconClass + ' ' +\n                    (isNullOrUndefined(className) ? '' : className)\n            })], liElement.querySelector('.' + cssClass.textContent));\n        return liElement;\n    }\n    ListBase.generateIcon = generateIcon;\n})(ListBase || (ListBase = {}));\n/**\n * Used to get dataSource item from complex data using fields.\n *\n * @param {Object} dataSource - Specifies an  JSON or String data.\n *\n * @param {FieldsMapping} fields - Fields that are mapped from the dataSource.\n */\nexport function getFieldValues(dataItem, fields) {\n    var fieldData = {};\n    if (isNullOrUndefined(dataItem) || typeof (dataItem) === 'string' || typeof (dataItem) === 'number'\n        || !isNullOrUndefined(dataItem.isHeader)) {\n        return dataItem;\n    }\n    else {\n        for (var _i = 0, _a = Object.keys(fields); _i < _a.length; _i++) {\n            var field = _a[_i];\n            var dataField = fields[field];\n            var value = !isNullOrUndefined(dataField) &&\n                typeof (dataField) === 'string' ? getValue(dataField, dataItem) : undefined;\n            if (!isNullOrUndefined(value)) {\n                fieldData[dataField] = value;\n            }\n        }\n    }\n    return fieldData;\n}\nfunction compileTemplate(template) {\n    if (template) {\n        try {\n            if (document.querySelector(template)) {\n                return compile(document.querySelector(template).innerHTML.trim());\n            }\n            else {\n                return compile(template);\n            }\n        }\n        catch (e) {\n            return compile(template);\n        }\n    }\n    return undefined;\n}\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty, Collection, ComplexFactory } from '@syncfusion/ej2-base';\n/**   @private  */\nvar getGradientType = function (obj) {\n    switch (obj.type) {\n        case 'Linear':\n            return LinearGradient;\n        case 'Radial':\n            return RadialGradient;\n        default:\n            return LinearGradient;\n    }\n};\n/**\n * Layout Model module defines the styles and types to arrange objects in containers\n */\nvar Thickness = /** @class */ (function () {\n    function Thickness(left, right, top, bottom) {\n        this.left = left;\n        this.right = right;\n        this.top = top;\n        this.bottom = bottom;\n    }\n    return Thickness;\n}());\nexport { Thickness };\n/**\n * Defines the space to be left between an object and its immediate parent\n */\nvar Margin = /** @class */ (function (_super) {\n    __extends(Margin, _super);\n    function Margin() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(0)\n    ], Margin.prototype, \"left\", void 0);\n    __decorate([\n        Property(0)\n    ], Margin.prototype, \"right\", void 0);\n    __decorate([\n        Property(0)\n    ], Margin.prototype, \"top\", void 0);\n    __decorate([\n        Property(0)\n    ], Margin.prototype, \"bottom\", void 0);\n    return Margin;\n}(ChildProperty));\nexport { Margin };\n/**\n * Defines the different colors and the region of color transitions\n * ```html\n * <div id='diagram'></div>\n * ```\n * ```typescript\n * let stopscol: StopModel[] = [];\n * let stops1: StopModel = { color: 'white', offset: 0, opacity: 0.7 };\n * stopscol.push(stops1);\n * let stops2: StopModel = { color: 'red', offset: 0, opacity: 0.3 };\n * stopscol.push(stops2);\n * let gradient: RadialGradientModel = { cx: 50, cy: 50, fx: 50, fy: 50, stops: stopscol, type: 'Radial' };\n * let nodes: NodeModel[] = [{ id: 'node1', width: 100, height: 100,\n * style: { gradient: gradient }\n * }];\n * let diagram: Diagram = new Diagram({\n * ...\n *   nodes: nodes,\n * ...\n * });\n * diagram.appendTo('#diagram');\n * ```\n */\nvar Stop = /** @class */ (function (_super) {\n    __extends(Stop, _super);\n    function Stop() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * @private\n     * Returns the name of class Stop\n     */\n    Stop.prototype.getClassName = function () {\n        return 'Stop';\n    };\n    __decorate([\n        Property('')\n    ], Stop.prototype, \"color\", void 0);\n    __decorate([\n        Property(0)\n    ], Stop.prototype, \"offset\", void 0);\n    __decorate([\n        Property(1)\n    ], Stop.prototype, \"opacity\", void 0);\n    return Stop;\n}(ChildProperty));\nexport { Stop };\n/**\n * Paints the node with a smooth transition from one color to another color\n */\nvar Gradient = /** @class */ (function (_super) {\n    __extends(Gradient, _super);\n    function Gradient() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Collection([], Stop)\n    ], Gradient.prototype, \"stops\", void 0);\n    __decorate([\n        Property('None')\n    ], Gradient.prototype, \"type\", void 0);\n    __decorate([\n        Property('')\n    ], Gradient.prototype, \"id\", void 0);\n    return Gradient;\n}(ChildProperty));\nexport { Gradient };\n/**\n * Defines the linear gradient of styles\n * ```html\n * <div id='diagram'></div>\n * ```\n * ```typescript\n * let stopscol: StopModel[] = [];\n * let stops1: StopModel = { color: 'white', offset: 0, opacity: 0.7 };\n * stopscol.push(stops1);\n * let stops2: StopModel = { color: 'red', offset: 0, opacity: 0.3 };\n * stopscol.push(stops2);\n * let gradient: LinearGradientModel = { x1: 0, x2: 50, y1: 0, y2: 50, stops: stopscol, type: 'Linear' };\n * let nodes: NodeModel[] = [{ id: 'node1', width: 100, height: 100,\n * style: { gradient: gradient }\n * }];\n * let diagram: Diagram = new Diagram({\n * ...\n *   nodes: nodes,\n * ...\n * });\n * diagram.appendTo('#diagram');\n * ```\n */\n/**\n * Paints the node with linear color transitions\n */\nvar LinearGradient = /** @class */ (function (_super) {\n    __extends(LinearGradient, _super);\n    function LinearGradient() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(0)\n    ], LinearGradient.prototype, \"x1\", void 0);\n    __decorate([\n        Property(0)\n    ], LinearGradient.prototype, \"x2\", void 0);\n    __decorate([\n        Property(0)\n    ], LinearGradient.prototype, \"y1\", void 0);\n    __decorate([\n        Property(0)\n    ], LinearGradient.prototype, \"y2\", void 0);\n    return LinearGradient;\n}(Gradient));\nexport { LinearGradient };\n/**\n * A focal point defines the beginning of the gradient, and a circle defines the end point of the gradient\n * ```html\n * <div id='diagram'></div>\n * ```\n * ```typescript\n * let stopscol: StopModel[] = [];\n * let stops1: StopModel = { color: 'white', offset: 0, opacity: 0.7 };\n * stopscol.push(stops1);\n * let stops2: StopModel = { color: 'red', offset: 0, opacity: 0.3 };\n * stopscol.push(stops2);\n * let gradient: RadialGradientModel = { cx: 50, cy: 50, fx: 50, fy: 50, stops: stopscol, type: 'Radial' };\n * let nodes: NodeModel[] = [{ id: 'node1', width: 100, height: 100,\n * style: { gradient: gradient }\n * }];\n * let diagram: Diagram = new Diagram({\n * ...\n *   nodes: nodes,\n * ...\n * });\n * diagram.appendTo('#diagram');\n * ```\n */\nvar RadialGradient = /** @class */ (function (_super) {\n    __extends(RadialGradient, _super);\n    function RadialGradient() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(0)\n    ], RadialGradient.prototype, \"cx\", void 0);\n    __decorate([\n        Property(0)\n    ], RadialGradient.prototype, \"cy\", void 0);\n    __decorate([\n        Property(0)\n    ], RadialGradient.prototype, \"fx\", void 0);\n    __decorate([\n        Property(0)\n    ], RadialGradient.prototype, \"fy\", void 0);\n    __decorate([\n        Property(50)\n    ], RadialGradient.prototype, \"r\", void 0);\n    return RadialGradient;\n}(Gradient));\nexport { RadialGradient };\n/**\n * Defines the style of shape/path\n */\nvar ShapeStyle = /** @class */ (function (_super) {\n    __extends(ShapeStyle, _super);\n    function ShapeStyle() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('white')\n    ], ShapeStyle.prototype, \"fill\", void 0);\n    __decorate([\n        Property('black')\n    ], ShapeStyle.prototype, \"strokeColor\", void 0);\n    __decorate([\n        Property('')\n    ], ShapeStyle.prototype, \"strokeDashArray\", void 0);\n    __decorate([\n        Property(1)\n    ], ShapeStyle.prototype, \"strokeWidth\", void 0);\n    __decorate([\n        Property(1)\n    ], ShapeStyle.prototype, \"opacity\", void 0);\n    __decorate([\n        ComplexFactory(getGradientType)\n    ], ShapeStyle.prototype, \"gradient\", void 0);\n    return ShapeStyle;\n}(ChildProperty));\nexport { ShapeStyle };\n/**\n * Defines the stroke style of a path\n */\nvar StrokeStyle = /** @class */ (function (_super) {\n    __extends(StrokeStyle, _super);\n    function StrokeStyle() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('transparent')\n    ], StrokeStyle.prototype, \"fill\", void 0);\n    return StrokeStyle;\n}(ShapeStyle));\nexport { StrokeStyle };\n/**\n * Defines the appearance of text\n * ```html\n * <div id='diagram'></div>\n * ```\n * ```typescript\n * let style: TextStyleModel = { strokeColor: 'black', opacity: 0.5, strokeWidth: 1 };\n * let node: NodeModel;\n * node = {\n * ...\n * id: 'node', width: 100, height: 100, offsetX: 100, offsetY: 100,\n * annotations : [{\n * content: 'text', style: style }];\n * ...\n * };\n * let diagram: Diagram = new Diagram({\n * ...\n *   nodes: [node],\n * ...\n * });\n * diagram.appendTo('#diagram');\n * ```\n */\nvar TextStyle = /** @class */ (function (_super) {\n    __extends(TextStyle, _super);\n    function TextStyle() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('black')\n    ], TextStyle.prototype, \"color\", void 0);\n    __decorate([\n        Property('Arial')\n    ], TextStyle.prototype, \"fontFamily\", void 0);\n    __decorate([\n        Property(12)\n    ], TextStyle.prototype, \"fontSize\", void 0);\n    __decorate([\n        Property(false)\n    ], TextStyle.prototype, \"italic\", void 0);\n    __decorate([\n        Property(false)\n    ], TextStyle.prototype, \"bold\", void 0);\n    __decorate([\n        Property('CollapseSpace')\n    ], TextStyle.prototype, \"whiteSpace\", void 0);\n    __decorate([\n        Property('WrapWithOverflow')\n    ], TextStyle.prototype, \"textWrapping\", void 0);\n    __decorate([\n        Property('Center')\n    ], TextStyle.prototype, \"textAlign\", void 0);\n    __decorate([\n        Property('None')\n    ], TextStyle.prototype, \"textDecoration\", void 0);\n    __decorate([\n        Property('Wrap')\n    ], TextStyle.prototype, \"textOverflow\", void 0);\n    __decorate([\n        Property('transparent')\n    ], TextStyle.prototype, \"fill\", void 0);\n    return TextStyle;\n}(ShapeStyle));\nexport { TextStyle };\n","import { identityMatrix, rotateMatrix, transformPointByMatrix } from './../primitives/matrix';\nimport { Container } from './../core/containers/container';\nimport { StrokeStyle } from './../core/appearance';\nimport { Point } from './../primitives/point';\nimport { TextElement } from '../core/elements/text-element';\nimport { rotatePoint } from './base-util';\n/**\n * Implements the drawing functionalities\n */\n/** @private */\nexport function findNearestPoint(reference, start, end) {\n    var shortestPoint;\n    var shortest = Point.findLength(start, reference);\n    var shortest1 = Point.findLength(end, reference);\n    if (shortest > shortest1) {\n        shortestPoint = end;\n    }\n    else {\n        shortestPoint = start;\n    }\n    var angleBWStAndEnd = Point.findAngle(start, end);\n    var angleBWStAndRef = Point.findAngle(shortestPoint, reference);\n    var r = Point.findLength(shortestPoint, reference);\n    var vaAngle = angleBWStAndRef + ((angleBWStAndEnd - angleBWStAndRef) * 2);\n    return {\n        x: (shortestPoint.x + r * Math.cos(vaAngle * Math.PI / 180)),\n        y: (shortestPoint.y + r * Math.sin(vaAngle * Math.PI / 180))\n    };\n}\n/** @private */\nexport function findElementUnderMouse(obj, position, padding) {\n    return findTargetElement(obj.wrapper, position, padding);\n}\n/** @private */\nexport function findTargetElement(container, position, padding) {\n    for (var i = container.children.length - 1; i >= 0; i--) {\n        var element = container.children[i];\n        if (element && element.bounds.containsPoint(position, 0)) {\n            if (element instanceof Container) {\n                var target = this.findTargetElement(element, position);\n                if (target) {\n                    return target;\n                }\n            }\n            if (element.bounds.containsPoint(position, 0)) {\n                return element;\n            }\n        }\n    }\n    if (container.bounds.containsPoint(position, padding) && container.style.fill !== 'none') {\n        return container;\n    }\n    return null;\n}\n/** @private */\nexport function intersect3(lineUtil1, lineUtil2) {\n    var point = { x: 0, y: 0 };\n    var l1 = lineUtil1;\n    var l2 = lineUtil2;\n    var d = (l2.y2 - l2.y1) * (l1.x2 - l1.x1) - (l2.x2 - l2.x1) * (l1.y2 - l1.y1);\n    var na = (l2.x2 - l2.x1) * (l1.y1 - l2.y1) - (l2.y2 - l2.y1) * (l1.x1 - l2.x1);\n    var nb = (l1.x2 - l1.x1) * (l1.y1 - l2.y1) - (l1.y2 - l1.y1) * (l1.x1 - l2.x1);\n    if (d === 0) {\n        return { enabled: false, intersectPt: point };\n    }\n    var ua = na / d;\n    var ub = nb / d;\n    if (ua >= 0 && ua <= 1 && ub >= 0 && ub <= 1) {\n        point.x = l1.x1 + (ua * (l1.x2 - l1.x1));\n        point.y = l1.y1 + (ua * (l1.y2 - l1.y1));\n        return { enabled: true, intersectPt: point };\n    }\n    return { enabled: false, intersectPt: point };\n}\n/** @private */\nexport function intersect2(start1, end1, start2, end2) {\n    var point = { x: 0, y: 0 };\n    var lineUtil1 = getLineSegment(start1.x, start1.y, end1.x, end1.y);\n    var lineUtil2 = getLineSegment(start2.x, start2.y, end2.x, end2.y);\n    var line3 = intersect3(lineUtil1, lineUtil2);\n    if (line3.enabled) {\n        return line3.intersectPt;\n    }\n    else {\n        return point;\n    }\n}\n/** @private */\nexport function getLineSegment(x1, y1, x2, y2) {\n    return { 'x1': Number(x1) || 0, 'y1': Number(y1) || 0, 'x2': Number(x2) || 0, 'y2': Number(y2) || 0 };\n}\n/** @private */\nexport function getPoints(element, corners, padding) {\n    var line = [];\n    padding = padding || 0;\n    var left = { x: corners.topLeft.x - padding, y: corners.topLeft.y };\n    var right = { x: corners.topRight.x + padding, y: corners.topRight.y };\n    var top = { x: corners.bottomRight.x, y: corners.bottomRight.y - padding };\n    var bottom = { x: corners.bottomLeft.x, y: corners.bottomLeft.y + padding };\n    line.push(left);\n    line.push(right);\n    line.push(top);\n    line.push(bottom);\n    return line;\n}\n/** @private */\nexport function getBezierDirection(src, tar) {\n    if (Math.abs(tar.x - src.x) > Math.abs(tar.y - src.y)) {\n        return src.x < tar.x ? 'right' : 'left';\n    }\n    else {\n        return src.y < tar.y ? 'bottom' : 'top';\n    }\n}\n/** @private */\nexport function updateStyle(changedObject, target) {\n    //since text style model is the super set of shape style model, we used text style model\n    var style = target.style;\n    var textElement = target;\n    for (var _i = 0, _a = Object.keys(changedObject); _i < _a.length; _i++) {\n        var key = _a[_i];\n        switch (key) {\n            case 'fill':\n                style.fill = changedObject.fill;\n                if (style instanceof StrokeStyle) {\n                    /* tslint:disable:no-string-literal */\n                    style['fill'] = 'transparent';\n                }\n                break;\n            case 'textOverflow':\n                style.textOverflow = changedObject.textOverflow;\n                break;\n            case 'opacity':\n                style.opacity = changedObject.opacity;\n                break;\n            case 'strokeColor':\n                style.strokeColor = changedObject.strokeColor;\n                break;\n            case 'strokeDashArray':\n                style.strokeDashArray = changedObject.strokeDashArray;\n                break;\n            case 'strokeWidth':\n                style.strokeWidth = changedObject.strokeWidth;\n                break;\n            case 'bold':\n                style.bold = changedObject.bold;\n                break;\n            case 'color':\n                style.color = changedObject.color;\n                break;\n            case 'textWrapping':\n                style.textWrapping = changedObject.textWrapping;\n                break;\n            case 'fontFamily':\n                style.fontFamily = changedObject.fontFamily;\n                break;\n            case 'fontSize':\n                style.fontSize = changedObject.fontSize;\n                break;\n            case 'italic':\n                style.italic = changedObject.italic;\n                break;\n            case 'textAlign':\n                style.textAlign = changedObject.textAlign;\n                break;\n            case 'whiteSpace':\n                style.whiteSpace = changedObject.whiteSpace;\n                break;\n            case 'textDecoration':\n                style.textDecoration = changedObject.textDecoration;\n                break;\n        }\n    }\n    if (target instanceof TextElement) {\n        textElement.refreshTextElement();\n    }\n}\n/** @private */\nexport function scaleElement(element, sw, sh, refObject) {\n    if (element.width !== undefined && element.height !== undefined) {\n        element.width *= sw;\n        element.height *= sh;\n    }\n    if (element instanceof Container) {\n        var matrix = identityMatrix();\n        var width = refObject.width || refObject.actualSize.width;\n        var height = refObject.height || refObject.actualSize.height;\n        if (width !== undefined && height !== undefined) {\n            var x = refObject.offsetX - width * refObject.pivot.x;\n            var y = refObject.offsetY - height * refObject.pivot.y;\n            var refPoint = {\n                x: x + width * refObject.pivot.x,\n                y: y + height * refObject.pivot.y\n            };\n            refPoint = rotatePoint(refObject.rotateAngle, refObject.offsetX, refObject.offsetY, refPoint);\n            rotateMatrix(matrix, -refObject.rotateAngle, refPoint.x, refPoint.y);\n            //    scaleMatrix(matrix, sw, sh, refPoint.x, refPoint.y);\n            rotateMatrix(matrix, refObject.rotateAngle, refPoint.x, refPoint.y);\n            for (var _i = 0, _a = element.children; _i < _a.length; _i++) {\n                var child = _a[_i];\n                if (child.width !== undefined && child.height !== undefined) {\n                    var newPosition = transformPointByMatrix(matrix, { x: child.offsetX, y: child.offsetY });\n                    child.offsetX = newPosition.x;\n                    child.offsetY = newPosition.y;\n                    scaleElement(child, sw, sh, refObject);\n                }\n            }\n        }\n    }\n}\n/** @private */\nexport function contains(mousePosition, corner, padding) {\n    if (mousePosition.x >= corner.x - padding && mousePosition.x <= corner.x + padding) {\n        if (mousePosition.y >= corner.y - padding && mousePosition.y <= corner.y + padding) {\n            return true;\n        }\n    }\n    return false;\n}\n/** @private */\nexport function getPoint(x, y, w, h, angle, offsetX, offsetY, cornerPoint) {\n    var pivot = { x: 0, y: 0 };\n    var trans = identityMatrix();\n    rotateMatrix(trans, angle, offsetX, offsetY);\n    switch (cornerPoint.x) {\n        case 0:\n            switch (cornerPoint.y) {\n                case 0:\n                    pivot = transformPointByMatrix(trans, ({ x: x, y: y }));\n                    break;\n                case 0.5:\n                    pivot = transformPointByMatrix(trans, ({ x: x, y: y + h / 2 }));\n                    break;\n                case 1:\n                    pivot = transformPointByMatrix(trans, ({ x: x, y: y + h }));\n                    break;\n            }\n            break;\n        case 0.5:\n            switch (cornerPoint.y) {\n                case 0:\n                    pivot = transformPointByMatrix(trans, ({ x: x + w / 2, y: y }));\n                    break;\n                case 0.5:\n                    pivot = transformPointByMatrix(trans, ({ x: x + w / 2, y: y + h / 2 }));\n                    break;\n                case 1:\n                    pivot = transformPointByMatrix(trans, ({ x: x + w / 2, y: y + h }));\n                    break;\n            }\n            break;\n        case 1:\n            switch (cornerPoint.y) {\n                case 0:\n                    pivot = transformPointByMatrix(trans, ({ x: x + w, y: y }));\n                    break;\n                case 0.5:\n                    pivot = transformPointByMatrix(trans, ({ x: x + w, y: y + h / 2 }));\n                    break;\n                case 1:\n                    pivot = transformPointByMatrix(trans, ({ x: x + w, y: y + h }));\n                    break;\n            }\n            break;\n    }\n    return { x: pivot.x, y: pivot.y };\n}\n","import { Size } from './../primitives/size';\nimport { CanvasRenderer } from './../rendering/canvas-renderer';\nimport { processPathData, pathSegmentCollection } from '../utility/path-util';\n/**\n * SVG Renderer\n */\n/** @private */\nvar SvgRenderer = /** @class */ (function () {\n    function SvgRenderer() {\n    }\n    /**   @private  */\n    SvgRenderer.prototype.parseDashArray = function (dashArray) {\n        var dashes = [];\n        return dashes;\n    };\n    /**   @private  */\n    SvgRenderer.prototype.drawRectangle = function (svg, options, diagramId, onlyRect, isSelector, parentSvg, ariaLabel) {\n        var id;\n        if (options.id === svg.id) {\n            id = options.id + '_container';\n        }\n        else {\n            id = options.id;\n        }\n        var rect;\n        if (!rect || isSelector) {\n            rect = document.createElementNS('http://www.w3.org/2000/svg', 'rect');\n            svg.appendChild(rect);\n        }\n        var attr = {\n            'id': id, 'x': options.x.toString(), 'y': options.y.toString(), 'width': options.width.toString(),\n            'height': options.height.toString(), 'visibility': options.visible ? 'visible' : 'hidden',\n            'transform': 'rotate(' + options.angle + ','\n                + (options.x + options.width * options.pivotX) + ',' + (options.y + options.height * options.pivotY) + ')',\n            'rx': options.cornerRadius || 0, 'ry': options.cornerRadius || 0, 'opacity': options.opacity,\n            'aria-label': ariaLabel ? ariaLabel : ''\n        };\n        if (options.class) {\n            attr['class'] = options.class;\n        }\n        var poiterEvents = 'pointer-events';\n        if (!ariaLabel) {\n            attr[poiterEvents] = 'none';\n        }\n        setAttributeSvg(rect, attr);\n        this.setSvgStyle(rect, options, diagramId);\n    };\n    /**   @private  */\n    SvgRenderer.prototype.updateSelectionRegion = function (gElement, options) {\n        var rect;\n        rect = gElement.parentNode.getElementById(options.id);\n        var attr;\n        attr = {\n            'id': options.id, 'x': options.x.toString(), 'y': options.y.toString(), 'width': options.width.toString(),\n            'height': options.height.toString(), 'transform': 'rotate(' + options.angle + ','\n                + (options.x + options.width * options.pivotX) + ',' + (options.y + options.height * options.pivotY) + ')',\n            class: 'e-diagram-selected-region'\n        };\n        if (!rect) {\n            rect = document.createElementNS('http://www.w3.org/2000/svg', 'rect');\n            gElement.appendChild(rect);\n        }\n        this.setSvgStyle(rect, options);\n        setAttributeSvg(rect, attr);\n    };\n    /**   @private  */\n    SvgRenderer.prototype.createGElement = function (elementType, attribute) {\n        var gElement = createSvgElement(elementType, attribute);\n        return gElement;\n    };\n    /** @private */\n    SvgRenderer.prototype.drawCircle = function (gElement, options, enableSelector, ariaLabel) {\n        var circle = document.createElementNS('http://www.w3.org/2000/svg', 'circle');\n        this.setSvgStyle(circle, options);\n        var classval = options.class || '';\n        if (!enableSelector) {\n            classval += ' e-disabled';\n        }\n        var attr = {\n            'id': options.id,\n            'cx': options.centerX,\n            'cy': options.centerY,\n            'r': options.radius,\n            'visibility': options.visible ? 'visible' : 'hidden',\n            'class': classval,\n            'aria-label': ariaLabel ? ariaLabel['aria-label'] : ''\n        };\n        var pointerEvents = 'pointer-events';\n        if (attr['aria-label'] === '') {\n            attr[pointerEvents] = 'none';\n        }\n        circle.style.display = options.visible ? 'block' : 'none';\n        setAttributeSvg(circle, attr);\n        gElement.appendChild(circle);\n    };\n    /**   @private  */\n    SvgRenderer.prototype.setSvgStyle = function (svg, style, diagramId) {\n        if (style.canApplyStyle || style.canApplyStyle === undefined) {\n            if (style.fill === 'none') {\n                style.fill = 'transparent';\n            }\n            if (style.stroke === 'none') {\n                style.stroke = 'transparent';\n            }\n            var dashArray = [];\n            var fill = void 0;\n            if (style.dashArray !== undefined) {\n                var canvasRenderer = new CanvasRenderer();\n                dashArray = canvasRenderer.parseDashArray(style.dashArray);\n            }\n            fill = style.fill;\n            if (style.stroke) {\n                svg.setAttribute('stroke', style.stroke);\n            }\n            if (style.strokeWidth !== undefined && style.strokeWidth !== null) {\n                svg.setAttribute('stroke-width', style.strokeWidth.toString());\n            }\n            if (dashArray) {\n                svg.setAttribute('stroke-dasharray', dashArray.toString());\n            }\n            if (fill) {\n                svg.setAttribute('fill', fill);\n            }\n        }\n    };\n    //end region\n    // text utility\n    /**   @private  */\n    SvgRenderer.prototype.svgLabelAlign = function (text, wrapBound, childNodes) {\n        var bounds = new Size(wrapBound.width, childNodes.length * (text.fontSize * 1.2));\n        var pos = { x: 0, y: 0 };\n        var x = 0;\n        var y = 1.2;\n        var offsetX = text.width * 0.5;\n        var offsety = text.height * 0.5;\n        var pointX = offsetX;\n        var pointY = offsety;\n        if (text.textAlign === 'left') {\n            pointX = 0;\n        }\n        else if (text.textAlign === 'center') {\n            if (wrapBound.width > text.width && (text.textOverflow === 'Ellipsis' || text.textOverflow === 'Clip')) {\n                pointX = 0;\n            }\n            else {\n                pointX = text.width * 0.5;\n            }\n        }\n        else if (text.textAlign === 'right') {\n            pointX = (text.width * 1);\n        }\n        pos.x = x + pointX + (wrapBound ? wrapBound.x : 0);\n        pos.y = y + pointY - bounds.height / 2;\n        return pos;\n    };\n    /** @private */\n    SvgRenderer.prototype.drawLine = function (gElement, options) {\n        var line = document.createElementNS('http://www.w3.org/2000/svg', 'line');\n        this.setSvgStyle(line, options);\n        var pivotX = options.x + options.width * options.pivotX;\n        var pivotY = options.y + options.height * options.pivotY;\n        var kk = '';\n        var attr = {\n            'id': options.id,\n            'x1': options.startPoint.x + options.x,\n            'y1': options.startPoint.y + options.y,\n            'x2': options.endPoint.x + options.x,\n            'y2': options.endPoint.y + options.y,\n            'stroke': options.stroke,\n            'stroke-width': options.strokeWidth.toString(), 'opacity': options.opacity.toString(),\n            'transform': 'rotate(' + options.angle + ' ' + pivotX + ' ' + pivotY + ')',\n            'visibility': options.visible ? 'visible' : 'hidden',\n        };\n        if (options.class) {\n            attr['class'] = options.class;\n        }\n        setAttributeSvg(line, attr);\n        gElement.appendChild(line);\n    };\n    /**   @private  */\n    SvgRenderer.prototype.drawPath = function (svg, options, diagramId, isSelector, parentSvg, ariaLabel) {\n        var id;\n        var x = Math.floor((Math.random() * 10) + 1);\n        id = svg.id + '_shape' + x.toString();\n        var collection = [];\n        collection = processPathData(options.data);\n        collection = pathSegmentCollection(collection);\n        var shadowElement;\n        if (parentSvg) {\n            shadowElement = parentSvg.getElementById(options.id + '_groupElement_shadow');\n            if (shadowElement) {\n                shadowElement.parentNode.removeChild(shadowElement);\n            }\n        }\n        var path;\n        if (parentSvg) {\n            path = parentSvg.getElementById(options.id);\n        }\n        if (!path || isSelector) {\n            path = document.createElementNS('http://www.w3.org/2000/svg', 'path');\n            svg.appendChild(path);\n        }\n        this.renderPath(path, options, collection);\n        var attr = {\n            'id': options.id, 'transform': 'rotate(' + options.angle + ',' + (options.x + options.width * options.pivotX) + ','\n                + (options.y + options.height * options.pivotY) + ')' + 'translate(' + (options.x) + ',' + (options.y) + ')',\n            'visibility': options.visible ? 'visible' : 'hidden', 'opacity': options.opacity,\n            'aria-label': ariaLabel ? ariaLabel : ''\n        };\n        if (options.class) {\n            attr['class'] = options.class;\n        }\n        setAttributeSvg(path, attr);\n        this.setSvgStyle(path, options, diagramId);\n    };\n    /**   @private  */\n    SvgRenderer.prototype.renderPath = function (svg, options, collection) {\n        var x1;\n        var y1;\n        var x2;\n        var y2;\n        var x;\n        var y;\n        var length;\n        var i;\n        var segments = collection;\n        var d = '';\n        for (x = 0, y = 0, i = 0, length = segments.length; i < length; ++i) {\n            var obj = segments[i];\n            var segment = obj;\n            var char = segment.command;\n            if ('x1' in segment) {\n                x1 = segment.x1;\n            }\n            if ('x2' in segment) {\n                x2 = segment.x2;\n            }\n            if ('y1' in segment) {\n                y1 = segment.y1;\n            }\n            if ('y2' in segment) {\n                y2 = segment.y2;\n            }\n            if ('x' in segment) {\n                x = segment.x;\n            }\n            if ('y' in segment) {\n                y = segment.y;\n            }\n            switch (char) {\n                case 'M':\n                    d = d + 'M' + x.toString() + ',' + y.toString() + ' ';\n                    break;\n                case 'L':\n                    d = d + 'L' + x.toString() + ',' + y.toString() + ' ';\n                    break;\n                case 'C':\n                    d = d + 'C' + x1.toString() + ',' + y1.toString() + ',' + x2.toString() + ',' + y2.toString() + ',';\n                    d += x.toString() + ',' + y.toString() + ' ';\n                    break;\n                case 'Q':\n                    d = d + 'Q' + x1.toString() + ',' + y1.toString() + ',' + x.toString() + ',' + y.toString() + ' ';\n                    break;\n                case 'A':\n                    d = d + 'A' + segment.r1.toString() + ',' + segment.r2.toString() + ',' + segment.angle.toString() + ',';\n                    d += segment.largeArc.toString() + ',' + segment.sweep + ',' + x.toString() + ',' + y.toString() + ' ';\n                    break;\n                case 'Z':\n                case 'z':\n                    d = d + 'Z' + ' ';\n                    break;\n            }\n        }\n        svg.setAttribute('d', d);\n    };\n    return SvgRenderer;\n}());\nexport { SvgRenderer };\n/** @private */\nexport function setAttributeSvg(svg, attributes) {\n    var keys = Object.keys(attributes);\n    for (var i = 0; i < keys.length; i++) {\n        svg.setAttribute(keys[i], attributes[keys[i]]);\n    }\n}\n/** @private */\nexport function createSvgElement(elementType, attribute) {\n    var element = document.createElementNS('http://www.w3.org/2000/svg', elementType);\n    setAttributeSvg(element, attribute);\n    return element;\n}\n/** @private */\nexport function createSvg(id, width, height) {\n    var svgObj = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n    setAttributeSvg(svgObj, { 'id': id, 'width': width, 'height': height });\n    return svgObj;\n}\nexport function getParentSvg(element, targetElement, canvas) {\n    if (element && element.id) {\n        if (targetElement && targetElement === 'selector') {\n            return this.pdfViewer.adornerSvgLayer;\n        }\n    }\n    return canvas;\n}\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, EventHandler, Property, Event, Browser, L10n } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges } from '@syncfusion/ej2-base';\nimport { attributes, addClass, removeClass, detach, closest } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined, getValue, formatUnit, setValue, merge } from '@syncfusion/ej2-base';\nimport { Internationalization, getNumericObject } from '@syncfusion/ej2-base';\nimport { Input } from '../input/input';\nvar ROOT = 'e-control-wrapper e-numeric';\nvar SPINICON = 'e-input-group-icon';\nvar SPINUP = 'e-spin-up';\nvar SPINDOWN = 'e-spin-down';\nvar ERROR = 'e-error';\nvar INCREMENT = 'increment';\nvar DECREMENT = 'decrement';\nvar INTREGEXP = new RegExp('^(-)?(\\\\d*)$');\nvar DECIMALSEPARATOR = '.';\nvar COMPONENT = 'e-numerictextbox';\nvar CONTROL = 'e-control';\nvar NUMERIC_FOCUS = 'e-input-focus';\nvar HIDDENELEMENT = 'e-numeric-hidden';\nvar wrapperAttributes = ['title', 'style', 'class'];\n/**\n * Represents the NumericTextBox component that allows the user to enter only numeric values.\n * ```html\n * <input type='text' id=\"numeric\"/>\n * ```\n * ```typescript\n * <script>\n *   var numericObj = new NumericTextBox({ value: 10 });\n *   numericObj.appendTo(\"#numeric\");\n * </script>\n * ```\n */\nvar NumericTextBox = /** @class */ (function (_super) {\n    __extends(NumericTextBox, _super);\n    /**\n     *\n     * @param {NumericTextBoxModel} options - Specifies the NumericTextBox model.\n     * @param {string | HTMLInputElement} element - Specifies the element to render as component.\n     * @private\n     */\n    function NumericTextBox(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.isVue = false;\n        _this.preventChange = false;\n        _this.isAngular = false;\n        _this.isDynamicChange = false;\n        _this.numericOptions = options;\n        return _this;\n    }\n    NumericTextBox.prototype.preRender = function () {\n        this.isPrevFocused = false;\n        this.decimalSeparator = '.';\n        // eslint-disable-next-line no-useless-escape\n        this.intRegExp = new RegExp('/^(-)?(\\d*)$/');\n        this.isCalled = false;\n        var ejInstance = getValue('ej2_instances', this.element);\n        this.cloneElement = this.element.cloneNode(true);\n        removeClass([this.cloneElement], [CONTROL, COMPONENT, 'e-lib']);\n        this.angularTagName = null;\n        this.formEle = closest(this.element, 'form');\n        if (this.element.tagName === 'EJS-NUMERICTEXTBOX') {\n            this.angularTagName = this.element.tagName;\n            var input = this.createElement('input');\n            var index = 0;\n            for (index; index < this.element.attributes.length; index++) {\n                var attributeName = this.element.attributes[index].nodeName;\n                if (attributeName !== 'id' && attributeName !== 'class') {\n                    input.setAttribute(this.element.attributes[index].nodeName, this.element.attributes[index].nodeValue);\n                    input.innerHTML = this.element.innerHTML;\n                }\n                else if (attributeName === 'class') {\n                    input.setAttribute(attributeName, this.element.className.split(' ').filter(function (item) { return item.indexOf('ng-') !== 0; }).join(' '));\n                }\n            }\n            if (this.element.hasAttribute('name')) {\n                this.element.removeAttribute('name');\n            }\n            this.element.classList.remove('e-control', 'e-numerictextbox');\n            this.element.appendChild(input);\n            this.element = input;\n            setValue('ej2_instances', ejInstance, this.element);\n        }\n        attributes(this.element, { 'role': 'spinbutton', 'tabindex': '0', 'autocomplete': 'off', 'aria-live': 'assertive' });\n        var localeText = {\n            incrementTitle: 'Increment value', decrementTitle: 'Decrement value', placeholder: this.placeholder\n        };\n        this.l10n = new L10n('numerictextbox', localeText, this.locale);\n        if (this.l10n.getConstant('placeholder') !== '') {\n            this.setProperties({ placeholder: this.placeholder || this.l10n.getConstant('placeholder') }, true);\n        }\n        this.isValidState = true;\n        this.inputStyle = null;\n        this.inputName = null;\n        this.cultureInfo = {};\n        this.initCultureInfo();\n        this.initCultureFunc();\n        this.prevValue = this.value;\n        this.updateHTMLAttrToElement();\n        this.checkAttributes(false);\n        if (this.formEle) {\n            this.inputEleValue = this.value;\n        }\n        this.validateMinMax();\n        this.validateStep();\n        if (this.placeholder === null) {\n            this.updatePlaceholder();\n        }\n    };\n    /**\n     * To Initialize the control rendering\n     *\n     * @returns {void}\n     * @private\n     */\n    NumericTextBox.prototype.render = function () {\n        if (this.element.tagName.toLowerCase() === 'input') {\n            this.createWrapper();\n            if (this.showSpinButton) {\n                this.spinBtnCreation();\n            }\n            this.setElementWidth(this.width);\n            if (!this.container.classList.contains('e-input-group')) {\n                this.container.classList.add('e-input-group');\n            }\n            this.changeValue(this.value === null || isNaN(this.value) ?\n                null : this.strictMode ? this.trimValue(this.value) : this.value);\n            this.wireEvents();\n            if (this.value !== null && !isNaN(this.value)) {\n                if (this.decimals) {\n                    this.setProperties({ value: this.roundNumber(this.value, this.decimals) }, true);\n                }\n            }\n            if (this.element.getAttribute('value') || this.value) {\n                this.element.setAttribute('value', this.element.value);\n                this.hiddenInput.setAttribute('value', this.hiddenInput.value);\n            }\n            this.elementPrevValue = this.element.value;\n            if (this.element.hasAttribute('data-val')) {\n                this.element.setAttribute('data-val', 'false');\n            }\n            this.renderComplete();\n        }\n    };\n    NumericTextBox.prototype.checkAttributes = function (isDynamic) {\n        var attributes = isDynamic ? isNullOrUndefined(this.htmlAttributes) ? [] : Object.keys(this.htmlAttributes) :\n            ['value', 'min', 'max', 'step', 'disabled', 'readonly', 'style', 'name', 'placeholder'];\n        for (var _i = 0, attributes_1 = attributes; _i < attributes_1.length; _i++) {\n            var prop = attributes_1[_i];\n            if (!isNullOrUndefined(this.element.getAttribute(prop))) {\n                switch (prop) {\n                    case 'disabled':\n                        if ((isNullOrUndefined(this.numericOptions) || (this.numericOptions['enabled'] === undefined)) || isDynamic) {\n                            var enabled = this.element.getAttribute(prop) === 'disabled' || this.element.getAttribute(prop) === ''\n                                || this.element.getAttribute(prop) === 'true' ? false : true;\n                            this.setProperties({ enabled: enabled }, !isDynamic);\n                        }\n                        break;\n                    case 'readonly':\n                        if ((isNullOrUndefined(this.numericOptions) || (this.numericOptions['readonly'] === undefined)) || isDynamic) {\n                            var readonly = this.element.getAttribute(prop) === 'readonly' || this.element.getAttribute(prop) === ''\n                                || this.element.getAttribute(prop) === 'true' ? true : false;\n                            this.setProperties({ readonly: readonly }, !isDynamic);\n                        }\n                        break;\n                    case 'placeholder':\n                        if ((isNullOrUndefined(this.numericOptions) || (this.numericOptions['placeholder'] === undefined)) || isDynamic) {\n                            this.setProperties({ placeholder: this.element.placeholder }, !isDynamic);\n                        }\n                        break;\n                    case 'value':\n                        if ((isNullOrUndefined(this.numericOptions) || (this.numericOptions['value'] === undefined)) || isDynamic) {\n                            var setNumber = this.instance.getNumberParser({ format: 'n' })(this.element.getAttribute(prop));\n                            this.setProperties(setValue(prop, setNumber, {}), !isDynamic);\n                        }\n                        break;\n                    case 'min':\n                        if ((isNullOrUndefined(this.numericOptions) || (this.numericOptions['min'] === undefined)) || isDynamic) {\n                            var minValue = this.instance.getNumberParser({ format: 'n' })(this.element.getAttribute(prop));\n                            if (minValue !== null && !isNaN(minValue)) {\n                                this.setProperties(setValue(prop, minValue, {}), !isDynamic);\n                            }\n                        }\n                        break;\n                    case 'max':\n                        if ((isNullOrUndefined(this.numericOptions) || (this.numericOptions['max'] === undefined)) || isDynamic) {\n                            var maxValue = this.instance.getNumberParser({ format: 'n' })(this.element.getAttribute(prop));\n                            if (maxValue !== null && !isNaN(maxValue)) {\n                                this.setProperties(setValue(prop, maxValue, {}), !isDynamic);\n                            }\n                        }\n                        break;\n                    case 'step':\n                        if ((isNullOrUndefined(this.numericOptions) || (this.numericOptions['step'] === undefined)) || isDynamic) {\n                            var stepValue = this.instance.getNumberParser({ format: 'n' })(this.element.getAttribute(prop));\n                            if (stepValue !== null && !isNaN(stepValue)) {\n                                this.setProperties(setValue(prop, stepValue, {}), !isDynamic);\n                            }\n                        }\n                        break;\n                    case 'style':\n                        this.inputStyle = this.element.getAttribute(prop);\n                        break;\n                    case 'name':\n                        this.inputName = this.element.getAttribute(prop);\n                        break;\n                    default:\n                        {\n                            var value = this.instance.getNumberParser({ format: 'n' })(this.element.getAttribute(prop));\n                            if ((value !== null && !isNaN(value)) || (prop === 'value')) {\n                                this.setProperties(setValue(prop, value, {}), true);\n                            }\n                        }\n                        break;\n                }\n            }\n        }\n    };\n    NumericTextBox.prototype.updatePlaceholder = function () {\n        this.setProperties({ placeholder: this.l10n.getConstant('placeholder') }, true);\n    };\n    NumericTextBox.prototype.initCultureFunc = function () {\n        this.instance = new Internationalization(this.locale);\n    };\n    NumericTextBox.prototype.initCultureInfo = function () {\n        this.cultureInfo.format = this.format;\n        if (getValue('currency', this) !== null) {\n            setValue('currency', this.currency, this.cultureInfo);\n            this.setProperties({ currencyCode: this.currency }, true);\n        }\n    };\n    /* Wrapper creation */\n    NumericTextBox.prototype.createWrapper = function () {\n        var updatedCssClassValue = this.cssClass;\n        if (!isNullOrUndefined(this.cssClass) && this.cssClass !== '') {\n            updatedCssClassValue = this.getNumericValidClassList(this.cssClass);\n        }\n        var inputObj = Input.createInput({\n            element: this.element,\n            floatLabelType: this.floatLabelType,\n            properties: {\n                readonly: this.readonly,\n                placeholder: this.placeholder,\n                cssClass: updatedCssClassValue,\n                enableRtl: this.enableRtl,\n                showClearButton: this.showClearButton,\n                enabled: this.enabled\n            }\n        }, this.createElement);\n        this.inputWrapper = inputObj;\n        this.container = inputObj.container;\n        this.container.setAttribute('class', ROOT + ' ' + this.container.getAttribute('class'));\n        this.updateHTMLAttrToWrapper();\n        if (this.readonly) {\n            attributes(this.element, { 'aria-readonly': 'true' });\n        }\n        this.hiddenInput = (this.createElement('input', { attrs: { type: 'text',\n                'validateHidden': 'true', 'class': HIDDENELEMENT } }));\n        this.inputName = this.inputName !== null ? this.inputName : this.element.id;\n        this.element.removeAttribute('name');\n        attributes(this.hiddenInput, { 'name': this.inputName });\n        this.container.insertBefore(this.hiddenInput, this.container.childNodes[1]);\n        this.updateDataAttribute(false);\n        if (this.inputStyle !== null) {\n            attributes(this.container, { 'style': this.inputStyle });\n        }\n    };\n    NumericTextBox.prototype.updateDataAttribute = function (isDynamic) {\n        var attr = {};\n        if (!isDynamic) {\n            for (var a = 0; a < this.element.attributes.length; a++) {\n                attr[this.element.attributes[a].name] = this.element.getAttribute(this.element.attributes[a].name);\n            }\n        }\n        else {\n            attr = this.htmlAttributes;\n        }\n        for (var _i = 0, _a = Object.keys(attr); _i < _a.length; _i++) {\n            var key = _a[_i];\n            if (key.indexOf('data') === 0) {\n                this.hiddenInput.setAttribute(key, attr[key]);\n            }\n        }\n    };\n    NumericTextBox.prototype.updateHTMLAttrToElement = function () {\n        if (!isNullOrUndefined(this.htmlAttributes)) {\n            for (var _i = 0, _a = Object.keys(this.htmlAttributes); _i < _a.length; _i++) {\n                var pro = _a[_i];\n                if (wrapperAttributes.indexOf(pro) < 0) {\n                    this.element.setAttribute(pro, this.htmlAttributes[pro]);\n                }\n            }\n        }\n    };\n    NumericTextBox.prototype.updateCssClass = function (newClass, oldClass) {\n        Input.setCssClass(this.getNumericValidClassList(newClass), [this.container], this.getNumericValidClassList(oldClass));\n    };\n    NumericTextBox.prototype.getNumericValidClassList = function (numericClassName) {\n        var result = numericClassName;\n        if (!isNullOrUndefined(numericClassName) && numericClassName !== '') {\n            result = (numericClassName.replace(/\\s+/g, ' ')).trim();\n        }\n        return result;\n    };\n    NumericTextBox.prototype.updateHTMLAttrToWrapper = function () {\n        if (!isNullOrUndefined(this.htmlAttributes)) {\n            for (var _i = 0, _a = Object.keys(this.htmlAttributes); _i < _a.length; _i++) {\n                var pro = _a[_i];\n                if (wrapperAttributes.indexOf(pro) > -1) {\n                    if (pro === 'class') {\n                        var updatedClassValue = this.getNumericValidClassList(this.htmlAttributes[pro]);\n                        if (updatedClassValue !== '') {\n                            addClass([this.container], updatedClassValue.split(' '));\n                        }\n                    }\n                    else if (pro === 'style') {\n                        var numericStyle = this.container.getAttribute(pro);\n                        numericStyle = !isNullOrUndefined(numericStyle) ? (numericStyle + this.htmlAttributes[pro]) :\n                            this.htmlAttributes[pro];\n                        this.container.setAttribute(pro, numericStyle);\n                    }\n                    else {\n                        this.container.setAttribute(pro, this.htmlAttributes[pro]);\n                    }\n                }\n            }\n        }\n    };\n    NumericTextBox.prototype.setElementWidth = function (width) {\n        if (!isNullOrUndefined(width)) {\n            if (typeof width === 'number') {\n                this.container.style.width = formatUnit(width);\n            }\n            else if (typeof width === 'string') {\n                this.container.style.width = (width.match(/px|%|em/)) ? (width) : (formatUnit(width));\n            }\n        }\n    };\n    /* Spinner creation */\n    NumericTextBox.prototype.spinBtnCreation = function () {\n        this.spinDown = Input.appendSpan(SPINICON + ' ' + SPINDOWN, this.container, this.createElement);\n        attributes(this.spinDown, {\n            'title': this.l10n.getConstant('decrementTitle'),\n            'aria-label': this.l10n.getConstant('decrementTitle')\n        });\n        this.spinUp = Input.appendSpan(SPINICON + ' ' + SPINUP, this.container, this.createElement);\n        attributes(this.spinUp, {\n            'title': this.l10n.getConstant('incrementTitle'),\n            'aria-label': this.l10n.getConstant('incrementTitle')\n        });\n        this.wireSpinBtnEvents();\n    };\n    NumericTextBox.prototype.validateMinMax = function () {\n        if (!(typeof (this.min) === 'number' && !isNaN(this.min))) {\n            this.setProperties({ min: -(Number.MAX_VALUE) }, true);\n        }\n        if (!(typeof (this.max) === 'number' && !isNaN(this.max))) {\n            this.setProperties({ max: Number.MAX_VALUE }, true);\n        }\n        if (this.decimals !== null) {\n            if (this.min !== -(Number.MAX_VALUE)) {\n                this.setProperties({ min: this.instance.getNumberParser({ format: 'n' })(this.formattedValue(this.decimals, this.min)) }, true);\n            }\n            if (this.max !== (Number.MAX_VALUE)) {\n                this.setProperties({ max: this.instance.getNumberParser({ format: 'n' })(this.formattedValue(this.decimals, this.max)) }, true);\n            }\n        }\n        this.setProperties({ min: this.min > this.max ? this.max : this.min }, true);\n        attributes(this.element, { 'aria-valuemin': this.min.toString(), 'aria-valuemax': this.max.toString() });\n    };\n    NumericTextBox.prototype.formattedValue = function (decimals, value) {\n        return this.instance.getNumberFormat({\n            maximumFractionDigits: decimals,\n            minimumFractionDigits: decimals, useGrouping: false\n        })(value);\n    };\n    NumericTextBox.prototype.validateStep = function () {\n        if (this.decimals !== null) {\n            this.setProperties({ step: this.instance.getNumberParser({ format: 'n' })(this.formattedValue(this.decimals, this.step)) }, true);\n        }\n    };\n    NumericTextBox.prototype.action = function (operation, event) {\n        this.isInteract = true;\n        var value = this.isFocused ? this.instance.getNumberParser({ format: 'n' })(this.element.value) : this.value;\n        this.changeValue(this.performAction(value, this.step, operation));\n        this.raiseChangeEvent(event);\n    };\n    NumericTextBox.prototype.checkErrorClass = function () {\n        if (this.isValidState) {\n            removeClass([this.container], ERROR);\n        }\n        else {\n            addClass([this.container], ERROR);\n        }\n        attributes(this.element, { 'aria-invalid': this.isValidState ? 'false' : 'true' });\n    };\n    NumericTextBox.prototype.bindClearEvent = function () {\n        if (this.showClearButton) {\n            EventHandler.add(this.inputWrapper.clearButton, 'mousedown touchstart', this.resetHandler, this);\n        }\n    };\n    NumericTextBox.prototype.resetHandler = function (e) {\n        e.preventDefault();\n        if (!(this.inputWrapper.clearButton.classList.contains('e-clear-icon-hide')) || this.inputWrapper.container.classList.contains('e-static-clear')) {\n            this.clear(e);\n        }\n        this.isInteract = true;\n        this.raiseChangeEvent(e);\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    NumericTextBox.prototype.clear = function (event) {\n        this.setProperties({ value: null }, true);\n        this.setElementValue('');\n        this.hiddenInput.value = '';\n        var formElement = closest(this.element, 'form');\n        if (formElement) {\n            var element = this.element.nextElementSibling;\n            var keyupEvent = document.createEvent('KeyboardEvent');\n            keyupEvent.initEvent('keyup', false, true);\n            element.dispatchEvent(keyupEvent);\n        }\n    };\n    NumericTextBox.prototype.resetFormHandler = function () {\n        if (this.element.tagName === 'EJS-NUMERICTEXTBOX') {\n            this.updateValue(null);\n        }\n        else {\n            this.updateValue(this.inputEleValue);\n        }\n    };\n    NumericTextBox.prototype.setSpinButton = function () {\n        if (!isNullOrUndefined(this.spinDown)) {\n            attributes(this.spinDown, {\n                'title': this.l10n.getConstant('decrementTitle'),\n                'aria-label': this.l10n.getConstant('decrementTitle')\n            });\n        }\n        if (!isNullOrUndefined(this.spinUp)) {\n            attributes(this.spinUp, {\n                'title': this.l10n.getConstant('incrementTitle'),\n                'aria-label': this.l10n.getConstant('incrementTitle')\n            });\n        }\n    };\n    NumericTextBox.prototype.wireEvents = function () {\n        EventHandler.add(this.element, 'focus', this.focusHandler, this);\n        EventHandler.add(this.element, 'blur', this.focusOutHandler, this);\n        EventHandler.add(this.element, 'keydown', this.keyDownHandler, this);\n        EventHandler.add(this.element, 'keyup', this.keyUpHandler, this);\n        EventHandler.add(this.element, 'input', this.inputHandler, this);\n        EventHandler.add(this.element, 'keypress', this.keyPressHandler, this);\n        EventHandler.add(this.element, 'change', this.changeHandler, this);\n        EventHandler.add(this.element, 'paste', this.pasteHandler, this);\n        if (this.enabled) {\n            this.bindClearEvent();\n            if (this.formEle) {\n                EventHandler.add(this.formEle, 'reset', this.resetFormHandler, this);\n            }\n        }\n    };\n    NumericTextBox.prototype.wireSpinBtnEvents = function () {\n        /* bind spin button events */\n        EventHandler.add(this.spinUp, Browser.touchStartEvent, this.mouseDownOnSpinner, this);\n        EventHandler.add(this.spinDown, Browser.touchStartEvent, this.mouseDownOnSpinner, this);\n        EventHandler.add(this.spinUp, Browser.touchEndEvent, this.mouseUpOnSpinner, this);\n        EventHandler.add(this.spinDown, Browser.touchEndEvent, this.mouseUpOnSpinner, this);\n        EventHandler.add(this.spinUp, Browser.touchMoveEvent, this.touchMoveOnSpinner, this);\n        EventHandler.add(this.spinDown, Browser.touchMoveEvent, this.touchMoveOnSpinner, this);\n    };\n    NumericTextBox.prototype.unwireEvents = function () {\n        EventHandler.remove(this.element, 'focus', this.focusHandler);\n        EventHandler.remove(this.element, 'blur', this.focusOutHandler);\n        EventHandler.remove(this.element, 'keyup', this.keyUpHandler);\n        EventHandler.remove(this.element, 'input', this.inputHandler);\n        EventHandler.remove(this.element, 'keydown', this.keyDownHandler);\n        EventHandler.remove(this.element, 'keypress', this.keyPressHandler);\n        EventHandler.remove(this.element, 'change', this.changeHandler);\n        EventHandler.remove(this.element, 'paste', this.pasteHandler);\n        if (this.formEle) {\n            EventHandler.remove(this.formEle, 'reset', this.resetFormHandler);\n        }\n    };\n    NumericTextBox.prototype.unwireSpinBtnEvents = function () {\n        /* unbind spin button events */\n        EventHandler.remove(this.spinUp, Browser.touchStartEvent, this.mouseDownOnSpinner);\n        EventHandler.remove(this.spinDown, Browser.touchStartEvent, this.mouseDownOnSpinner);\n        EventHandler.remove(this.spinUp, Browser.touchEndEvent, this.mouseUpOnSpinner);\n        EventHandler.remove(this.spinDown, Browser.touchEndEvent, this.mouseUpOnSpinner);\n        EventHandler.remove(this.spinUp, Browser.touchMoveEvent, this.touchMoveOnSpinner);\n        EventHandler.remove(this.spinDown, Browser.touchMoveEvent, this.touchMoveOnSpinner);\n    };\n    NumericTextBox.prototype.changeHandler = function (event) {\n        event.stopPropagation();\n        if (!this.element.value.length) {\n            this.setProperties({ value: null }, true);\n        }\n        var parsedInput = this.instance.getNumberParser({ format: 'n' })(this.element.value);\n        this.updateValue(parsedInput, event);\n    };\n    NumericTextBox.prototype.raiseChangeEvent = function (event) {\n        if (this.prevValue !== this.value) {\n            var eventArgs = {};\n            this.changeEventArgs = { value: this.value, previousValue: this.prevValue, isInteracted: this.isInteract,\n                isInteraction: this.isInteract, event: event };\n            if (event) {\n                this.changeEventArgs.event = event;\n            }\n            if (this.changeEventArgs.event === undefined) {\n                this.changeEventArgs.isInteracted = false;\n                this.changeEventArgs.isInteraction = false;\n            }\n            merge(eventArgs, this.changeEventArgs);\n            this.prevValue = this.value;\n            this.isInteract = false;\n            this.elementPrevValue = this.element.value;\n            this.preventChange = false;\n            this.trigger('change', eventArgs);\n        }\n    };\n    NumericTextBox.prototype.pasteHandler = function () {\n        var _this = this;\n        if (!this.enabled || this.readonly) {\n            return;\n        }\n        var beforeUpdate = this.element.value;\n        setTimeout(function () {\n            if (!_this.numericRegex().test(_this.element.value)) {\n                _this.setElementValue(beforeUpdate);\n            }\n        });\n    };\n    NumericTextBox.prototype.preventHandler = function () {\n        var _this = this;\n        var iOS = !!navigator.platform && /iPad|iPhone|iPod/.test(navigator.platform);\n        setTimeout(function () {\n            if (_this.element.selectionStart > 0) {\n                var currentPos = _this.element.selectionStart;\n                var prevPos = _this.element.selectionStart - 1;\n                var start = 0;\n                var valArray = _this.element.value.split('');\n                var numericObject = getNumericObject(_this.locale);\n                var decimalSeparator = getValue('decimal', numericObject);\n                var ignoreKeyCode = decimalSeparator.charCodeAt(0);\n                if (_this.element.value[prevPos] === ' ' && _this.element.selectionStart > 0 && !iOS) {\n                    if (isNullOrUndefined(_this.prevVal)) {\n                        _this.element.value = _this.element.value.trim();\n                    }\n                    else if (prevPos !== 0) {\n                        _this.element.value = _this.prevVal;\n                    }\n                    else if (prevPos === 0) {\n                        _this.element.value = _this.element.value.trim();\n                    }\n                    _this.element.setSelectionRange(prevPos, prevPos);\n                }\n                else if (isNaN(parseFloat(_this.element.value[_this.element.selectionStart - 1])) &&\n                    _this.element.value[_this.element.selectionStart - 1].charCodeAt(0) !== 45) {\n                    if ((valArray.indexOf(_this.element.value[_this.element.selectionStart - 1]) !==\n                        valArray.lastIndexOf(_this.element.value[_this.element.selectionStart - 1]) &&\n                        _this.element.value[_this.element.selectionStart - 1].charCodeAt(0) === ignoreKeyCode) ||\n                        _this.element.value[_this.element.selectionStart - 1].charCodeAt(0) !== ignoreKeyCode) {\n                        _this.element.value = _this.element.value.substring(0, prevPos) +\n                            _this.element.value.substring(currentPos, _this.element.value.length);\n                        _this.element.setSelectionRange(prevPos, prevPos);\n                        if (isNaN(parseFloat(_this.element.value[_this.element.selectionStart - 1])) && _this.element.selectionStart > 0\n                            && _this.element.value.length) {\n                            _this.preventHandler();\n                        }\n                    }\n                }\n                else if (isNaN(parseFloat(_this.element.value[_this.element.selectionStart - 2])) && _this.element.selectionStart > 1 &&\n                    _this.element.value[_this.element.selectionStart - 2].charCodeAt(0) !== 45) {\n                    if ((valArray.indexOf(_this.element.value[_this.element.selectionStart - 2]) !==\n                        valArray.lastIndexOf(_this.element.value[_this.element.selectionStart - 2]) &&\n                        _this.element.value[_this.element.selectionStart - 2].charCodeAt(0) === ignoreKeyCode) ||\n                        _this.element.value[_this.element.selectionStart - 2].charCodeAt(0) !== ignoreKeyCode) {\n                        _this.element.setSelectionRange(prevPos, prevPos);\n                        _this.nextEle = _this.element.value[_this.element.selectionStart];\n                        _this.cursorPosChanged = true;\n                        _this.preventHandler();\n                    }\n                }\n                if (_this.cursorPosChanged === true && _this.element.value[_this.element.selectionStart] === _this.nextEle &&\n                    isNaN(parseFloat(_this.element.value[_this.element.selectionStart - 1]))) {\n                    _this.element.setSelectionRange(_this.element.selectionStart + 1, _this.element.selectionStart + 1);\n                    _this.cursorPosChanged = false;\n                    _this.nextEle = null;\n                }\n                if (_this.element.value.trim() === '') {\n                    _this.element.setSelectionRange(start, start);\n                }\n                if (_this.element.selectionStart > 0) {\n                    if ((_this.element.value[_this.element.selectionStart - 1].charCodeAt(0) === 45) && _this.element.selectionStart > 1) {\n                        if (isNullOrUndefined(_this.prevVal)) {\n                            // eslint-disable-next-line no-self-assign\n                            _this.element.value = _this.element.value;\n                        }\n                        else {\n                            _this.element.value = _this.prevVal;\n                        }\n                        _this.element.setSelectionRange(_this.element.selectionStart, _this.element.selectionStart);\n                    }\n                    if (_this.element.value[_this.element.selectionStart - 1] === decimalSeparator && _this.decimals === 0 && _this.validateDecimalOnType) {\n                        _this.element.value = _this.element.value.substring(0, prevPos) +\n                            _this.element.value.substring(currentPos, _this.element.value.length);\n                    }\n                }\n                _this.prevVal = _this.element.value;\n            }\n        });\n    };\n    NumericTextBox.prototype.keyUpHandler = function () {\n        if (!this.enabled || this.readonly) {\n            return;\n        }\n        var iOS = !!navigator.platform && /iPad|iPhone|iPod/.test(navigator.platform);\n        if (!iOS && Browser.isDevice) {\n            this.preventHandler();\n        }\n        var parseValue = this.instance.getNumberParser({ format: 'n' })(this.element.value);\n        parseValue = parseValue === null || isNaN(parseValue) ? null : parseValue;\n        this.hiddenInput.value = parseValue || parseValue === 0 ? parseValue.toString() : null;\n        var formElement = closest(this.element, 'form');\n        if (formElement) {\n            var element = this.element.nextElementSibling;\n            var keyupEvent = document.createEvent('KeyboardEvent');\n            keyupEvent.initEvent('keyup', false, true);\n            element.dispatchEvent(keyupEvent);\n        }\n    };\n    NumericTextBox.prototype.inputHandler = function (event) {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any, @typescript-eslint/no-this-alias\n        var numerictextboxObj = this;\n        if (!this.enabled || this.readonly) {\n            return;\n        }\n        var iOS = !!navigator.platform && /iPad|iPhone|iPod/.test(navigator.platform);\n        var fireFox = navigator.userAgent.toLowerCase().indexOf('firefox') > -1;\n        if ((fireFox || iOS) && Browser.isDevice) {\n            this.preventHandler();\n        }\n        /* istanbul ignore next */\n        if (this.isAngular\n            && this.element.value !== getValue('decimal', getNumericObject(this.locale))\n            && this.element.value !== getValue('minusSign', getNumericObject(this.locale))) {\n            var parsedValue = this.instance.getNumberParser({ format: 'n' })(this.element.value);\n            parsedValue = isNaN(parsedValue) ? null : parsedValue;\n            numerictextboxObj.localChange({ value: parsedValue });\n            this.preventChange = true;\n        }\n        if (this.isVue) {\n            var current = this.instance.getNumberParser({ format: 'n' })(this.element.value);\n            var previous = this.instance.getNumberParser({ format: 'n' })(this.elementPrevValue);\n            //EJ2-54963-if type \".\" or \".0\" or \"-.0\" it converts to \"0\" automatically when binding v-model\n            var nonZeroRegex = new RegExp('[^1-9]+$');\n            if (nonZeroRegex.test(this.element.value)) {\n                current = this.value;\n            }\n            var eventArgs = {\n                event: event,\n                value: (current === null || isNaN(current) ? null : current),\n                previousValue: (previous === null || isNaN(previous) ? null : previous)\n            };\n            this.preventChange = true;\n            this.elementPrevValue = this.element.value;\n            this.trigger('input', eventArgs);\n        }\n    };\n    NumericTextBox.prototype.keyDownHandler = function (event) {\n        if (!this.readonly) {\n            switch (event.keyCode) {\n                case 38:\n                    event.preventDefault();\n                    this.action(INCREMENT, event);\n                    break;\n                case 40:\n                    event.preventDefault();\n                    this.action(DECREMENT, event);\n                    break;\n                default: break;\n            }\n        }\n    };\n    NumericTextBox.prototype.performAction = function (value, step, operation) {\n        if (value === null || isNaN(value)) {\n            value = 0;\n        }\n        var updatedValue = operation === INCREMENT ? value + step : value - step;\n        updatedValue = this.correctRounding(value, step, updatedValue);\n        return this.strictMode ? this.trimValue(updatedValue) : updatedValue;\n    };\n    NumericTextBox.prototype.correctRounding = function (value, step, result) {\n        var floatExp = new RegExp('[,.](.*)');\n        var floatValue = floatExp.test(value.toString());\n        var floatStep = floatExp.test(step.toString());\n        if (floatValue || floatStep) {\n            var valueCount = floatValue ? floatExp.exec(value.toString())[0].length : 0;\n            var stepCount = floatStep ? floatExp.exec(step.toString())[0].length : 0;\n            var max = Math.max(valueCount, stepCount);\n            return value = this.roundValue(result, max);\n        }\n        return result;\n    };\n    NumericTextBox.prototype.roundValue = function (result, precision) {\n        precision = precision || 0;\n        var divide = Math.pow(10, precision);\n        return result *= divide, result = Math.round(result) / divide;\n    };\n    NumericTextBox.prototype.updateValue = function (value, event) {\n        if (event) {\n            this.isInteract = true;\n        }\n        if (value !== null && !isNaN(value)) {\n            if (this.decimals) {\n                value = this.roundNumber(value, this.decimals);\n            }\n        }\n        this.changeValue(value === null || isNaN(value) ? null : this.strictMode ? this.trimValue(value) : value);\n        /* istanbul ignore next */\n        if (!this.isDynamicChange) {\n            this.raiseChangeEvent(event);\n        }\n    };\n    NumericTextBox.prototype.updateCurrency = function (prop, propVal) {\n        setValue(prop, propVal, this.cultureInfo);\n        this.updateValue(this.value);\n    };\n    NumericTextBox.prototype.changeValue = function (value) {\n        if (!(value || value === 0)) {\n            value = null;\n            this.setProperties({ value: value }, true);\n        }\n        else {\n            var numberOfDecimals = this.getNumberOfDecimals(value);\n            this.setProperties({ value: this.roundNumber(value, numberOfDecimals) }, true);\n        }\n        this.modifyText();\n        if (!this.strictMode) {\n            this.validateState();\n        }\n    };\n    NumericTextBox.prototype.modifyText = function () {\n        if (this.value || this.value === 0) {\n            var value = this.formatNumber();\n            var elementValue = this.isFocused ? value : this.instance.getNumberFormat(this.cultureInfo)(this.value);\n            this.setElementValue(elementValue);\n            attributes(this.element, { 'aria-valuenow': value });\n            this.hiddenInput.value = this.value.toString();\n            if (this.value !== null && this.serverDecimalSeparator) {\n                this.hiddenInput.value = this.hiddenInput.value.replace('.', this.serverDecimalSeparator);\n            }\n        }\n        else {\n            this.setElementValue('');\n            this.element.removeAttribute('aria-valuenow');\n            this.hiddenInput.value = null;\n        }\n    };\n    NumericTextBox.prototype.setElementValue = function (val, element) {\n        Input.setValue(val, (element ? element : this.element), this.floatLabelType, this.showClearButton);\n    };\n    NumericTextBox.prototype.validateState = function () {\n        this.isValidState = true;\n        if (this.value || this.value === 0) {\n            this.isValidState = !(this.value > this.max || this.value < this.min);\n        }\n        this.checkErrorClass();\n    };\n    NumericTextBox.prototype.getNumberOfDecimals = function (value) {\n        var numberOfDecimals;\n        // eslint-disable-next-line no-useless-escape\n        var EXPREGEXP = new RegExp('[eE][\\-+]?([0-9]+)');\n        var valueString = value.toString();\n        if (EXPREGEXP.test(valueString)) {\n            var result = EXPREGEXP.exec(valueString);\n            if (!isNullOrUndefined(result)) {\n                valueString = value.toFixed(Math.min(parseInt(result[1], 10), 20));\n            }\n        }\n        var decimalPart = valueString.split('.')[1];\n        numberOfDecimals = !decimalPart || !decimalPart.length ? 0 : decimalPart.length;\n        if (this.decimals !== null) {\n            numberOfDecimals = numberOfDecimals < this.decimals ? numberOfDecimals : this.decimals;\n        }\n        return numberOfDecimals;\n    };\n    NumericTextBox.prototype.formatNumber = function () {\n        var numberOfDecimals = this.getNumberOfDecimals(this.value);\n        return this.instance.getNumberFormat({\n            maximumFractionDigits: numberOfDecimals,\n            minimumFractionDigits: numberOfDecimals, useGrouping: false\n        })(this.value);\n    };\n    NumericTextBox.prototype.trimValue = function (value) {\n        if (value > this.max) {\n            return this.max;\n        }\n        if (value < this.min) {\n            return this.min;\n        }\n        return value;\n    };\n    NumericTextBox.prototype.roundNumber = function (value, precision) {\n        var result = value;\n        var decimals = precision || 0;\n        var result1 = result.toString().split('e');\n        result = Math.round(Number(result1[0] + 'e' + (result1[1] ? (Number(result1[1]) + decimals) : decimals)));\n        var result2 = result.toString().split('e');\n        result = Number(result2[0] + 'e' + (result2[1] ? (Number(result2[1]) - decimals) : -decimals));\n        return Number(result.toFixed(decimals));\n    };\n    NumericTextBox.prototype.cancelEvent = function (event) {\n        event.preventDefault();\n        return false;\n    };\n    NumericTextBox.prototype.keyPressHandler = function (event) {\n        if (!this.enabled || this.readonly) {\n            return true;\n        }\n        if (!Browser.isDevice && Browser.info.version === '11.0' && event.keyCode === 13) {\n            var parsedInput = this.instance.getNumberParser({ format: 'n' })(this.element.value);\n            this.updateValue(parsedInput, event);\n            return true;\n        }\n        if (event.which === 0 || event.metaKey || event.ctrlKey || event.keyCode === 8 || event.keyCode === 13) {\n            return true;\n        }\n        var currentChar = String.fromCharCode(event.which);\n        var decimalSeparator = getValue('decimal', getNumericObject(this.locale));\n        var isAlterNumPadDecimalChar = event.code === \"NumpadDecimal\" && currentChar !== decimalSeparator;\n        //EJ2-59813-replace the culture decimal separator with numberpad decimal separator when culture decimal separator and numberpad decimal separator are different\n        if (isAlterNumPadDecimalChar) {\n            currentChar = decimalSeparator;\n        }\n        var text = this.element.value;\n        text = text.substring(0, this.element.selectionStart) + currentChar + text.substring(this.element.selectionEnd);\n        if (!this.numericRegex().test(text)) {\n            event.preventDefault();\n            event.stopPropagation();\n            return false;\n        }\n        else {\n            //EJ2-59813-update the numberpad decimal separator and update the cursor position\n            if (isAlterNumPadDecimalChar) {\n                var start = this.element.selectionStart + 1;\n                this.element.value = text;\n                this.element.setSelectionRange(start, start);\n                event.preventDefault();\n                event.stopPropagation();\n            }\n            return true;\n        }\n    };\n    NumericTextBox.prototype.numericRegex = function () {\n        var numericObject = getNumericObject(this.locale);\n        var decimalSeparator = getValue('decimal', numericObject);\n        var fractionRule = '*';\n        if (decimalSeparator === DECIMALSEPARATOR) {\n            decimalSeparator = '\\\\' + decimalSeparator;\n        }\n        if (this.decimals === 0 && this.validateDecimalOnType) {\n            return INTREGEXP;\n        }\n        if (this.decimals && this.validateDecimalOnType) {\n            fractionRule = '{0,' + this.decimals + '}';\n        }\n        return new RegExp('^(-)?(((\\\\d+(' + decimalSeparator + '\\\\d' + fractionRule +\n            ')?)|(' + decimalSeparator + '\\\\d' + fractionRule + ')))?$');\n    };\n    NumericTextBox.prototype.mouseWheel = function (event) {\n        event.preventDefault();\n        var delta;\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var rawEvent = event;\n        if (rawEvent.wheelDelta) {\n            delta = rawEvent.wheelDelta / 120;\n        }\n        else if (rawEvent.detail) {\n            delta = -rawEvent.detail / 3;\n        }\n        if (delta > 0) {\n            this.action(INCREMENT, event);\n        }\n        else if (delta < 0) {\n            this.action(DECREMENT, event);\n        }\n        this.cancelEvent(event);\n    };\n    NumericTextBox.prototype.focusHandler = function (event) {\n        var _this = this;\n        this.focusEventArgs = { event: event, value: this.value, container: this.container };\n        this.trigger('focus', this.focusEventArgs);\n        if (!this.enabled || this.readonly) {\n            return;\n        }\n        this.isFocused = true;\n        removeClass([this.container], ERROR);\n        this.prevValue = this.value;\n        if ((this.value || this.value === 0)) {\n            var formatValue_1 = this.formatNumber();\n            this.setElementValue(formatValue_1);\n            if (!this.isPrevFocused) {\n                if (!Browser.isDevice && Browser.info.version === '11.0') {\n                    this.element.setSelectionRange(0, formatValue_1.length);\n                }\n                else {\n                    var delay = (Browser.isDevice && Browser.isIos) ? 600 : 0;\n                    setTimeout(function () {\n                        _this.element.setSelectionRange(0, formatValue_1.length);\n                    }, delay);\n                }\n            }\n        }\n        if (!Browser.isDevice) {\n            EventHandler.add(this.element, 'mousewheel DOMMouseScroll', this.mouseWheel, this);\n        }\n    };\n    NumericTextBox.prototype.focusOutHandler = function (event) {\n        var _this = this;\n        this.blurEventArgs = { event: event, value: this.value, container: this.container };\n        this.trigger('blur', this.blurEventArgs);\n        if (!this.enabled || this.readonly) {\n            return;\n        }\n        if (this.isPrevFocused) {\n            event.preventDefault();\n            if (Browser.isDevice) {\n                var value_1 = this.element.value;\n                this.element.focus();\n                this.isPrevFocused = false;\n                var ele_1 = this.element;\n                setTimeout(function () {\n                    _this.setElementValue(value_1, ele_1);\n                }, 200);\n            }\n        }\n        else {\n            this.isFocused = false;\n            if (!this.element.value.length) {\n                this.setProperties({ value: null }, true);\n            }\n            var parsedInput = this.instance.getNumberParser({ format: 'n' })(this.element.value);\n            this.updateValue(parsedInput);\n            if (!Browser.isDevice) {\n                EventHandler.remove(this.element, 'mousewheel DOMMouseScroll', this.mouseWheel);\n            }\n        }\n        var formElement = closest(this.element, 'form');\n        if (formElement) {\n            var element = this.element.nextElementSibling;\n            var focusEvent = document.createEvent('FocusEvent');\n            focusEvent.initEvent('focusout', false, true);\n            element.dispatchEvent(focusEvent);\n        }\n    };\n    NumericTextBox.prototype.mouseDownOnSpinner = function (event) {\n        var _this = this;\n        if (this.isFocused) {\n            this.isPrevFocused = true;\n            event.preventDefault();\n        }\n        if (!this.getElementData(event)) {\n            return;\n        }\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\n        var result = this.getElementData(event);\n        var target = event.currentTarget;\n        var action = (target.classList.contains(SPINUP)) ? INCREMENT : DECREMENT;\n        EventHandler.add(target, 'mouseleave', this.mouseUpClick, this);\n        this.timeOut = setInterval(function () {\n            _this.isCalled = true;\n            _this.action(action, event);\n        }, 150);\n        EventHandler.add(document, 'mouseup', this.mouseUpClick, this);\n    };\n    NumericTextBox.prototype.touchMoveOnSpinner = function (event) {\n        var target;\n        if (event.type === \"touchmove\") {\n            var touchEvent = event.touches;\n            target = touchEvent.length && document.elementFromPoint(touchEvent[0].pageX, touchEvent[0].pageY);\n        }\n        else {\n            target = document.elementFromPoint(event.clientX, event.clientY);\n        }\n        if (!(target.classList.contains(SPINICON))) {\n            clearInterval(this.timeOut);\n        }\n    };\n    NumericTextBox.prototype.mouseUpOnSpinner = function (event) {\n        this.prevValue = this.value;\n        if (this.isPrevFocused) {\n            this.element.focus();\n            if (!Browser.isDevice) {\n                this.isPrevFocused = false;\n            }\n        }\n        if (!Browser.isDevice) {\n            event.preventDefault();\n        }\n        if (!this.getElementData(event)) {\n            return;\n        }\n        var target = event.currentTarget;\n        var action = (target.classList.contains(SPINUP)) ? INCREMENT : DECREMENT;\n        EventHandler.remove(target, 'mouseleave', this.mouseUpClick);\n        if (!this.isCalled) {\n            this.action(action, event);\n        }\n        this.isCalled = false;\n        EventHandler.remove(document, 'mouseup', this.mouseUpClick);\n        var formElement = closest(this.element, 'form');\n        if (formElement) {\n            var element = this.element.nextElementSibling;\n            var keyupEvent = document.createEvent('KeyboardEvent');\n            keyupEvent.initEvent('keyup', false, true);\n            element.dispatchEvent(keyupEvent);\n        }\n    };\n    NumericTextBox.prototype.getElementData = function (event) {\n        if ((event.which && event.which === 3) || (event.button && event.button === 2)\n            || !this.enabled || this.readonly) {\n            return false;\n        }\n        clearInterval(this.timeOut);\n        return true;\n    };\n    NumericTextBox.prototype.floatLabelTypeUpdate = function () {\n        Input.removeFloating(this.inputWrapper);\n        var hiddenInput = this.hiddenInput;\n        this.hiddenInput.remove();\n        Input.addFloating(this.element, this.floatLabelType, this.placeholder, this.createElement);\n        this.container.insertBefore(hiddenInput, this.container.childNodes[1]);\n    };\n    NumericTextBox.prototype.mouseUpClick = function (event) {\n        event.stopPropagation();\n        clearInterval(this.timeOut);\n        this.isCalled = false;\n        EventHandler.remove(this.spinUp, 'mouseleave', this.mouseUpClick);\n        EventHandler.remove(this.spinDown, 'mouseleave', this.mouseUpClick);\n    };\n    /**\n     * Increments the NumericTextBox value with the specified step value.\n     *\n     * @param {number} step - Specifies the value used to increment the NumericTextBox value.\n     * if its not given then numeric value will be incremented based on the step property value.\n     * @returns {void}\n     */\n    NumericTextBox.prototype.increment = function (step) {\n        if (step === void 0) { step = this.step; }\n        this.isInteract = false;\n        this.changeValue(this.performAction(this.value, step, INCREMENT));\n        this.raiseChangeEvent();\n    };\n    /**\n     * Decrements the NumericTextBox value with specified step value.\n     *\n     * @param {number} step - Specifies the value used to decrement the NumericTextBox value.\n     * if its not given then numeric value will be decremented based on the step property value.\n     * @returns {void}\n     */\n    NumericTextBox.prototype.decrement = function (step) {\n        if (step === void 0) { step = this.step; }\n        this.isInteract = false;\n        this.changeValue(this.performAction(this.value, step, DECREMENT));\n        this.raiseChangeEvent();\n    };\n    /**\n     * Removes the component from the DOM and detaches all its related event handlers.\n     * Also it maintains the initial input element from the DOM.\n     *\n     * @method destroy\n     * @returns {void}\n     */\n    NumericTextBox.prototype.destroy = function () {\n        this.unwireEvents();\n        detach(this.hiddenInput);\n        if (this.showSpinButton) {\n            this.unwireSpinBtnEvents();\n            detach(this.spinUp);\n            detach(this.spinDown);\n        }\n        var attrArray = ['aria-labelledby', 'role', 'autocomplete', 'aria-readonly',\n            'autocorrect', 'aria-disabled', 'aria-placeholder', 'autocapitalize',\n            'spellcheck', 'aria-autocomplete', 'tabindex', 'aria-valuemin',\n            'aria-valuemax', 'aria-live', 'aria-valuenow', 'aria-invalid'];\n        for (var i = 0; i < attrArray.length; i++) {\n            this.element.removeAttribute(attrArray[i]);\n        }\n        this.element.classList.remove('e-input');\n        this.container.insertAdjacentElement('afterend', this.element);\n        detach(this.container);\n        _super.prototype.destroy.call(this);\n    };\n    /* eslint-disable valid-jsdoc, jsdoc/require-returns */\n    /**\n     * Returns the value of NumericTextBox with the format applied to the NumericTextBox.\n     *\n     */\n    NumericTextBox.prototype.getText = function () {\n        return this.element.value;\n    };\n    /* eslint-enable valid-jsdoc, jsdoc/require-returns */\n    /**\n     * Sets the focus to widget for interaction.\n     *\n     * @returns {void}\n     */\n    NumericTextBox.prototype.focusIn = function () {\n        if (document.activeElement !== this.element && this.enabled) {\n            this.element.focus();\n            addClass([this.container], [NUMERIC_FOCUS]);\n        }\n    };\n    /**\n     * Remove the focus from widget, if the widget is in focus state.\n     *\n     * @returns {void}\n     */\n    NumericTextBox.prototype.focusOut = function () {\n        if (document.activeElement === this.element && this.enabled) {\n            this.element.blur();\n            removeClass([this.container], [NUMERIC_FOCUS]);\n        }\n    };\n    /* eslint-disable valid-jsdoc, jsdoc/require-returns-description */\n    /**\n     * Gets the properties to be maintained in the persisted state.\n     *\n     * @returns {string}\n     */\n    NumericTextBox.prototype.getPersistData = function () {\n        var keyEntity = ['value'];\n        return this.addOnPersist(keyEntity);\n    };\n    /* eslint-enable valid-jsdoc, jsdoc/require-returns-description */\n    /**\n     * Calls internally if any of the property value is changed.\n     *\n     * @param {NumericTextBoxModel} newProp - Returns the dynamic property value of the component.\n     * @param {NumericTextBoxModel} oldProp - Returns the previous property value of the component.\n     * @returns {void}\n     * @private\n     */\n    NumericTextBox.prototype.onPropertyChanged = function (newProp, oldProp) {\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'width':\n                    this.setElementWidth(newProp.width);\n                    break;\n                case 'cssClass':\n                    this.updateCssClass(newProp.cssClass, oldProp.cssClass);\n                    break;\n                case 'enabled':\n                    Input.setEnabled(newProp.enabled, this.element);\n                    break;\n                case 'enableRtl':\n                    Input.setEnableRtl(newProp.enableRtl, [this.container]);\n                    break;\n                case 'readonly':\n                    Input.setReadonly(newProp.readonly, this.element);\n                    if (this.readonly) {\n                        attributes(this.element, { 'aria-readonly': 'true' });\n                    }\n                    else {\n                        this.element.removeAttribute('aria-readonly');\n                    }\n                    break;\n                case 'htmlAttributes':\n                    this.updateHTMLAttrToElement();\n                    this.updateHTMLAttrToWrapper();\n                    this.updateDataAttribute(true);\n                    this.checkAttributes(true);\n                    Input.validateInputType(this.container, this.element);\n                    break;\n                case 'placeholder':\n                    Input.setPlaceholder(newProp.placeholder, this.element);\n                    break;\n                case 'step':\n                    this.step = newProp.step;\n                    this.validateStep();\n                    break;\n                case 'showSpinButton':\n                    this.updateSpinButton(newProp);\n                    break;\n                case 'showClearButton':\n                    this.updateClearButton(newProp);\n                    break;\n                case 'floatLabelType':\n                    this.floatLabelType = newProp.floatLabelType;\n                    this.floatLabelTypeUpdate();\n                    break;\n                case 'value':\n                    this.isDynamicChange = (this.isAngular || this.isVue) && this.preventChange;\n                    this.updateValue(newProp.value);\n                    if (this.isDynamicChange) {\n                        this.preventChange = false;\n                        this.isDynamicChange = false;\n                    }\n                    break;\n                case 'min':\n                case 'max':\n                    setValue(prop, getValue(prop, newProp), this);\n                    this.validateMinMax();\n                    this.updateValue(this.value);\n                    break;\n                case 'strictMode':\n                    this.strictMode = newProp.strictMode;\n                    this.updateValue(this.value);\n                    this.validateState();\n                    break;\n                case 'locale':\n                    this.initCultureFunc();\n                    this.l10n.setLocale(this.locale);\n                    this.setSpinButton();\n                    this.updatePlaceholder();\n                    Input.setPlaceholder(this.placeholder, this.element);\n                    this.updateValue(this.value);\n                    break;\n                case 'currency':\n                    {\n                        var propVal = getValue(prop, newProp);\n                        this.setProperties({ currencyCode: propVal }, true);\n                        this.updateCurrency(prop, propVal);\n                    }\n                    break;\n                case 'currencyCode':\n                    {\n                        var propValue = getValue(prop, newProp);\n                        this.setProperties({ currency: propValue }, true);\n                        this.updateCurrency('currency', propValue);\n                    }\n                    break;\n                case 'format':\n                    setValue(prop, getValue(prop, newProp), this);\n                    this.initCultureInfo();\n                    this.updateValue(this.value);\n                    break;\n                case 'decimals':\n                    this.decimals = newProp.decimals;\n                    this.updateValue(this.value);\n            }\n        }\n    };\n    NumericTextBox.prototype.updateClearButton = function (newProp) {\n        Input.setClearButton(newProp.showClearButton, this.element, this.inputWrapper, undefined, this.createElement);\n        this.bindClearEvent();\n    };\n    NumericTextBox.prototype.updateSpinButton = function (newProp) {\n        if (newProp.showSpinButton) {\n            this.spinBtnCreation();\n        }\n        else {\n            detach(this.spinUp);\n            detach(this.spinDown);\n        }\n    };\n    /**\n     * Gets the component name\n     *\n     * @returns {string} Returns the component name.\n     * @private\n     */\n    NumericTextBox.prototype.getModuleName = function () {\n        return 'numerictextbox';\n    };\n    __decorate([\n        Property('')\n    ], NumericTextBox.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(null)\n    ], NumericTextBox.prototype, \"value\", void 0);\n    __decorate([\n        Property(-(Number.MAX_VALUE))\n    ], NumericTextBox.prototype, \"min\", void 0);\n    __decorate([\n        Property(Number.MAX_VALUE)\n    ], NumericTextBox.prototype, \"max\", void 0);\n    __decorate([\n        Property(1)\n    ], NumericTextBox.prototype, \"step\", void 0);\n    __decorate([\n        Property(null)\n    ], NumericTextBox.prototype, \"width\", void 0);\n    __decorate([\n        Property(null)\n    ], NumericTextBox.prototype, \"placeholder\", void 0);\n    __decorate([\n        Property({})\n    ], NumericTextBox.prototype, \"htmlAttributes\", void 0);\n    __decorate([\n        Property(true)\n    ], NumericTextBox.prototype, \"showSpinButton\", void 0);\n    __decorate([\n        Property(false)\n    ], NumericTextBox.prototype, \"readonly\", void 0);\n    __decorate([\n        Property(true)\n    ], NumericTextBox.prototype, \"enabled\", void 0);\n    __decorate([\n        Property(false)\n    ], NumericTextBox.prototype, \"showClearButton\", void 0);\n    __decorate([\n        Property(false)\n    ], NumericTextBox.prototype, \"enablePersistence\", void 0);\n    __decorate([\n        Property('n2')\n    ], NumericTextBox.prototype, \"format\", void 0);\n    __decorate([\n        Property(null)\n    ], NumericTextBox.prototype, \"decimals\", void 0);\n    __decorate([\n        Property(null)\n    ], NumericTextBox.prototype, \"currency\", void 0);\n    __decorate([\n        Property(null)\n    ], NumericTextBox.prototype, \"currencyCode\", void 0);\n    __decorate([\n        Property(true)\n    ], NumericTextBox.prototype, \"strictMode\", void 0);\n    __decorate([\n        Property(false)\n    ], NumericTextBox.prototype, \"validateDecimalOnType\", void 0);\n    __decorate([\n        Property('Never')\n    ], NumericTextBox.prototype, \"floatLabelType\", void 0);\n    __decorate([\n        Event()\n    ], NumericTextBox.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], NumericTextBox.prototype, \"destroyed\", void 0);\n    __decorate([\n        Event()\n    ], NumericTextBox.prototype, \"change\", void 0);\n    __decorate([\n        Event()\n    ], NumericTextBox.prototype, \"focus\", void 0);\n    __decorate([\n        Event()\n    ], NumericTextBox.prototype, \"blur\", void 0);\n    NumericTextBox = __decorate([\n        NotifyPropertyChanges\n    ], NumericTextBox);\n    return NumericTextBox;\n}(Component));\nexport { NumericTextBox };\n","/**\n * These utility methods help to process the data and to convert it to desired dimensions\n */\n/** @private */\nexport function processPathData(data) {\n    var collection = [];\n    var j;\n    var arrayCollection = parsePathData(data);\n    if (arrayCollection.length > 0) {\n        for (var i = 0; i < arrayCollection.length; i++) {\n            var ob = arrayCollection[i];\n            var char = '';\n            char = ob[0];\n            switch (char.toLowerCase()) {\n                case 'm':\n                    for (j = 1; j < ob.length; j++) {\n                        collection.push({ command: char, x: ob[j], y: ob[j + 1] });\n                        j = j + 1;\n                        if (char === 'm') {\n                            char = 'l';\n                        }\n                        else if (char === 'M') {\n                            char = 'L';\n                        }\n                    }\n                    break;\n                case 'l':\n                case 't':\n                    for (j = 1; j < ob.length; j++) {\n                        collection.push({ command: char, x: ob[j], y: ob[j + 1] });\n                        j = j + 1;\n                    }\n                    break;\n                case 'h':\n                    for (j = 1; j < ob.length; j++) {\n                        collection.push({ command: char, x: ob[j] });\n                    }\n                    break;\n                case 'v':\n                    for (j = 1; j < ob.length; j++) {\n                        collection.push({ command: char, y: ob[j] });\n                    }\n                    break;\n                case 'z':\n                    collection.push({ command: char });\n                    break;\n                case 'c':\n                    for (j = 1; j < ob.length; j++) {\n                        collection.push({\n                            command: char, x1: ob[j], y1: ob[j + 1], x2: ob[j + 2], y2: ob[j + 3], x: ob[j + 4], y: ob[j + 5]\n                        });\n                        j = j + 5;\n                    }\n                    break;\n                case 's':\n                    for (j = 1; j < ob.length; j++) {\n                        collection.push({ command: char, x2: ob[j], y2: ob[j + 1], x: ob[j + 2], y: ob[j + 3] });\n                        j = j + 3;\n                    }\n                    break;\n                case 'q':\n                    for (j = 1; j < ob.length; j++) {\n                        collection.push({ command: char, x1: ob[j], y1: ob[j + 1], x: ob[j + 2], y: ob[j + 3] });\n                        j = j + 3;\n                    }\n                    break;\n                case 'a':\n                    for (j = 1; j < ob.length; j++) {\n                        collection.push({\n                            command: char, r1: ob[j], r2: ob[j + 1], angle: ob[j + 2], largeArc: ob[j + 3],\n                            sweep: ob[j + 4], x: ob[j + 5], y: ob[j + 6]\n                        });\n                        j = j + 6;\n                    }\n                    break;\n            }\n        }\n    }\n    return collection;\n}\n/** @private */\nexport function parsePathData(data) {\n    var tokenizer = /([a-z]+)|([+-]?(?:\\d+\\.?\\d*|\\.\\d+))/gi;\n    var current = [];\n    var commands = [];\n    var match = {};\n    tokenizer.lastIndex = 0;\n    var isExponential = false;\n    match = tokenizer.exec(data);\n    while (match) {\n        if (match[1] === 'e') {\n            var s1 = '';\n            isExponential = true;\n        }\n        else if (match[1]) {\n            if (match[1].toLowerCase() === 'zm') {\n                if (current.length) {\n                    commands.push(current);\n                }\n                commands.push(['Z']);\n                current = [match[1].substring(1, 2)];\n            }\n            else {\n                if (current.length) {\n                    commands.push(current);\n                }\n                current = [match[1]];\n            }\n            isExponential = false;\n        }\n        else {\n            if (!current.length) {\n                current = [];\n            }\n            if (!isExponential) {\n                current.push(Number(match[2]));\n            }\n            isExponential = false;\n        }\n        match = tokenizer.exec(data);\n    }\n    if (current.length) {\n        commands.push(current);\n    }\n    return commands;\n}\n/**\n * Used to find the path for rounded rect\n */\nexport function getRectanglePath(cornerRadius, height, width) {\n    var x = 0;\n    var y = 0;\n    var path = '';\n    var points = [{ x: x + cornerRadius, y: y }, { x: x + width - cornerRadius, y: y },\n        { x: x + width, y: y + cornerRadius }, { x: x + width, y: y + height - cornerRadius },\n        { x: x + width - cornerRadius, y: y + height }, { x: x + cornerRadius, y: y + height },\n        { x: x, y: y + height - cornerRadius }, { x: x, y: y + cornerRadius }\n    ];\n    var corners = [{ x: x + width, y: y }, { x: x + width, y: y + height }, { x: x, y: y + height }, { x: x, y: y }];\n    var corner = 0;\n    var point2;\n    var next;\n    path = 'M' + points[0].x + ' ' + points[0].y;\n    var i;\n    for (i = 0; i < points.length; i = i + 2) {\n        point2 = points[i + 1];\n        path += 'L' + point2.x + ' ' + point2.y;\n        next = points[i + 2] || points[0];\n        path += 'Q' + corners[corner].x + ' ' + corners[corner].y + ' ' + next.x + ' ' + next.y;\n        corner++;\n    }\n    return path;\n}\n/** @private */\nexport function pathSegmentCollection(collection) {\n    var x0;\n    var y0;\n    var x1;\n    var y1;\n    var x2;\n    var y2;\n    var x;\n    var y;\n    var length;\n    var i;\n    var initx;\n    var inity;\n    var segments = [];\n    for (x = 0, y = 0, i = 0, length = collection.length; i < length; ++i) {\n        var obj = collection[i];\n        var seg = obj;\n        var char = '';\n        char = seg.command;\n        if ('y1' in seg) {\n            y1 = seg.y1;\n        }\n        if ('y2' in seg) {\n            y2 = seg.y2;\n        }\n        if ('x1' in seg) {\n            x1 = seg.x1;\n        }\n        if ('x2' in seg) {\n            x2 = seg.x2;\n        }\n        if ('x' in seg) {\n            x = seg.x;\n        }\n        if ('y' in seg) {\n            y = seg.y;\n        }\n        var prev = segments[segments.length - 1];\n        switch (char) {\n            case 'M':\n                segments.push({ command: 'M', x: x, y: y });\n                break;\n            case 'L':\n                segments.push({ command: 'L', x0: x0, y0: y0, x: x, y: y });\n                break;\n            case 'H':\n                segments.push({ command: 'L', x0: x0, y0: y0, x: x, y: y0 });\n                break;\n            case 'V':\n                segments.push({ command: 'L', x0: x0, y0: y0, x: x0, y: y });\n                break;\n            case 'C':\n                segments.push({ command: 'C', x0: x0, y0: y0, x1: x1, y1: y1, x2: x2, y2: y2, x: x, y: y });\n                break;\n            case 'S':\n                if (prev) {\n                    var ctrl = void 0;\n                    if (prev.command === 'C' || prev.command === 'S') {\n                        ctrl = { x: prev.x2, y: prev.y2 };\n                    }\n                    else {\n                        ctrl = { x: x0, y: y0 };\n                    }\n                    var cpt2 = { x: 2 * x0 - ctrl.x, y: 2 * y0 - ctrl.y };\n                    segments.push({ command: 'C', x0: x0, y0: y0, x1: cpt2.x, y1: cpt2.y, x2: x2, y2: y2, x: x, y: y });\n                }\n                break;\n            case 'Q':\n                //ctx.quadraticCurveTo(x1, y1, x, y);\n                segments.push({ command: 'Q', x0: x0, y0: y0, x1: x1, y1: y1, x: x, y: y });\n                break;\n            case 'T':\n                if (prev) {\n                    var ctrl = void 0;\n                    if (prev.command === 'Q') {\n                        ctrl = { x: prev.x1, y: prev.y1 };\n                    }\n                    else {\n                        ctrl = { x: x0, y: y0 };\n                    }\n                    var cpt2 = { x: 2 * x0 - ctrl.x, y: 2 * y0 - ctrl.y };\n                    segments.push({ command: 'Q', x0: x0, y0: y0, x1: cpt2.x, y1: cpt2.y, x: x, y: y });\n                }\n                break;\n            case 'A':\n                var newSeg = seg;\n                newSeg.command = 'A';\n                segments.push(newSeg);\n                break;\n            case 'Z':\n            case 'z':\n                segments.push({ command: 'Z' });\n                x = x0;\n                y = y0;\n                break;\n        }\n        if (char === 'M' || char === 'm') {\n            initx = x;\n            inity = y;\n        }\n        x0 = x;\n        y0 = y;\n    }\n    return segments;\n}\n/** @private */\nexport function transformPath(arr, sX, sY, s, bX, bY, iX, iY) {\n    var x0;\n    var y0;\n    var x1;\n    var y1;\n    var x2;\n    var y2;\n    var x;\n    var y;\n    var length;\n    var i;\n    var newSeg;\n    for (x = 0, y = 0, i = 0, length = arr.length; i < length; ++i) {\n        var obj = arr[i];\n        var seg = obj;\n        var char = seg.command;\n        if ('x' in seg) {\n            x = seg.x;\n        }\n        if ('y' in seg) {\n            y = seg.y;\n        }\n        if ('y1' in seg) {\n            y1 = seg.y1;\n        }\n        if ('y2' in seg) {\n            y2 = seg.y2;\n        }\n        if ('x1' in seg) {\n            x1 = seg.x1;\n        }\n        if ('x2' in seg) {\n            x2 = seg.x2;\n        }\n        if (s) {\n            if (x !== undefined) {\n                x = scalePathData(x, sX, bX, iX);\n            }\n            if (y !== undefined) {\n                y = scalePathData(y, sY, bY, iY);\n            }\n            if (x1 !== undefined) {\n                x1 = scalePathData(x1, sX, bX, iX);\n            }\n            if (y1 !== undefined) {\n                y1 = scalePathData(y1, sY, bY, iY);\n            }\n            if (x2 !== undefined) {\n                x2 = scalePathData(x2, sX, bX, iX);\n            }\n            if (y2 !== undefined) {\n                y2 = scalePathData(y2, sY, bY, iY);\n            }\n        }\n        else {\n            if (x !== undefined) {\n                x = Number((x + sX).toFixed(2));\n            }\n            if (y !== undefined) {\n                y = Number((y + sY).toFixed(2));\n            }\n            if (x1 !== undefined) {\n                x1 = Number((x1 + sX).toFixed(2));\n            }\n            if (y1 !== undefined) {\n                y1 = Number((y1 + sY).toFixed(2));\n            }\n            if (x2 !== undefined) {\n                x2 = Number((x2 + sX).toFixed(2));\n            }\n            if (y2 !== undefined) {\n                y2 = Number((y2 + sY).toFixed(2));\n            }\n        }\n        var scaledPath = { x: x, y: y, x1: x1, y1: y1, x2: x2, y2: y2, r1: seg.r1, r2: seg.r2 };\n        newSeg = updatedSegment(seg, char, scaledPath, s, sX, sY);\n        if (newSeg) {\n            arr[i] = newSeg;\n        }\n        // Record the start of a subpath\n        if (char === 'M' || char === 'm') {\n            x0 = x;\n            y0 = y;\n        }\n    }\n    var pathData = getPathString(arr);\n    return pathData;\n}\n/** @private */\nexport function updatedSegment(segment, char, obj, isScale, sX, sY) {\n    switch (char) {\n        case 'M':\n            segment.x = obj.x;\n            segment.y = obj.y;\n            break;\n        case 'L':\n            segment.x = obj.x;\n            segment.y = obj.y;\n            break;\n        case 'H':\n            segment.x = obj.x;\n            break;\n        case 'V':\n            segment.y = obj.y;\n            break;\n        case 'C':\n            segment.x = obj.x;\n            segment.y = obj.y;\n            segment.x1 = obj.x1;\n            segment.y1 = obj.y1;\n            segment.x2 = obj.x2;\n            segment.y2 = obj.y2;\n            break;\n        case 'S':\n            segment.x = obj.x;\n            segment.y = obj.y;\n            segment.x2 = obj.x2;\n            segment.y2 = obj.y2;\n            break;\n        case 'Q':\n            segment.x = obj.x;\n            segment.y = obj.y;\n            segment.x1 = obj.x1;\n            segment.y1 = obj.y1;\n            break;\n        case 'T':\n            segment.x = obj.x;\n            segment.y = obj.y;\n            break;\n        case 'A':\n            var r1 = obj.r1;\n            var r2 = obj.r2;\n            if (isScale) {\n                obj.r1 = r1 = (r1 * sX);\n                obj.r2 = r2 = (r2 * sY);\n            }\n            segment.x = obj.x;\n            segment.y = obj.y;\n            segment.r1 = obj.r1;\n            segment.r2 = obj.r2;\n            break;\n        case 'z':\n        case 'Z':\n            segment = { command: 'Z' };\n            break;\n    }\n    return segment;\n}\n/** @private */\nexport function scalePathData(val, scaleFactor, oldOffset, newOffset) {\n    if (val !== oldOffset) {\n        if (newOffset !== oldOffset) {\n            val = (((val * scaleFactor) - (Number(oldOffset) * scaleFactor - Number(oldOffset)))\n                + (newOffset - Number(oldOffset)));\n        }\n        else {\n            val = ((Number(val) * scaleFactor) - (Number(oldOffset) * scaleFactor - Number(oldOffset)));\n        }\n    }\n    else {\n        if (newOffset !== oldOffset) {\n            val = newOffset;\n        }\n    }\n    return Number(val.toFixed(2));\n}\n/** @private */\nexport function splitArrayCollection(arrayCollection) {\n    var x0;\n    var y0;\n    var x1;\n    var y1;\n    var x2;\n    var y2;\n    var x;\n    var y;\n    var length;\n    var i;\n    for (x = 0, y = 0, i = 0, length = arrayCollection.length; i < length; ++i) {\n        var path = arrayCollection[i];\n        var seg = path;\n        var char = seg.command;\n        if (/[MLHVCSQTA]/.test(char)) {\n            if ('x' in seg) {\n                seg.x = x = seg.x;\n            }\n            if ('y' in seg) {\n                seg.y = y = seg.y;\n            }\n        }\n        else {\n            if ('x1' in seg) {\n                seg.x1 = x1 = x + seg.x1;\n            }\n            if ('x2' in seg) {\n                seg.x2 = x2 = x + seg.x2;\n            }\n            if ('y1' in seg) {\n                seg.y1 = y1 = y + seg.y1;\n            }\n            if ('y2' in seg) {\n                seg.y2 = y2 = y + seg.y2;\n            }\n            if ('x' in seg) {\n                seg.x = x += seg.x;\n            }\n            if ('y' in seg) {\n                seg.y = y += seg.y;\n            }\n            var newSeg = void 0;\n            switch (char) {\n                case 'm':\n                case 'M':\n                    newSeg = { command: 'M', x: x, y: y };\n                    break;\n                case 'l':\n                case 'L':\n                    newSeg = { command: 'L', x: x, y: y };\n                    break;\n                case 'h':\n                case 'H':\n                    newSeg = { command: 'H', x: x };\n                    break;\n                case 'v':\n                case 'V':\n                    newSeg = { command: 'V', y: y };\n                    break;\n                case 'c':\n                case 'C':\n                    newSeg = { command: 'C', x: x, y: y, x1: x1, y1: y1, x2: x2, y2: y2 };\n                    break;\n                case 's':\n                case 'S':\n                    newSeg = { command: 'S', x: x, y: y, x2: x2, y2: y2 };\n                    break;\n                case 'q':\n                case 'Q':\n                    newSeg = { command: 'Q', x: x, y: y, x1: x1, y1: y1 };\n                    break;\n                case 't':\n                case 'T':\n                    newSeg = { command: 'T', x: x, y: y };\n                    break;\n                case 'a':\n                case 'A':\n                    newSeg = { command: 'A', x: x, y: y };\n                    newSeg.r1 = seg.r1;\n                    newSeg.r2 = seg.r2;\n                    newSeg.angle = seg.angle;\n                    newSeg.largeArc = seg.largeArc;\n                    newSeg.sweep = seg.sweep;\n                    break;\n                case 'z':\n                case 'Z':\n                    newSeg = { command: 'Z' };\n                    x = x0;\n                    y = y0;\n                    newSeg = arrayCollection[i];\n                    break;\n            }\n            if (newSeg) {\n                arrayCollection[i] = newSeg;\n            }\n        }\n        if (char === 'M' || char === 'm') {\n            x0 = x;\n            y0 = y;\n        }\n    }\n    return arrayCollection;\n}\n/** @private */\nexport function getPathString(arrayCollection) {\n    var getNewString = '';\n    var i;\n    for (i = 0; i < arrayCollection.length; i++) {\n        if (i === 0) {\n            getNewString += getString(arrayCollection[i]);\n        }\n        else {\n            getNewString += ' ' + getString(arrayCollection[i]);\n        }\n    }\n    return getNewString;\n}\n/** @private */\nexport function getString(obj) {\n    var string = '';\n    switch (obj.command) {\n        case 'Z':\n        case 'z':\n            string = obj.command;\n            break;\n        case 'M':\n        case 'm':\n        case 'L':\n        case 'l':\n            string = obj.command + ' ' + obj.x + ' ' + obj.y;\n            break;\n        case 'C':\n        case 'c':\n            string = obj.command + ' ' + obj.x1 + ' ' + obj.y1 + ' ' + obj.x2 + ' ' + obj.y2 + ' ' + obj.x + ' ' + obj.y;\n            break;\n        case 'Q':\n        case 'q':\n            string = obj.command + ' ' + obj.x1 + ' ' + obj.y1 + ' ' + obj.x + ' ' + obj.y;\n            break;\n        case 'A':\n        case 'a':\n            var cmd = obj.command;\n            var ang = obj.angle;\n            var l = (obj.largeArc ? '1' : '0');\n            var s = (obj.sweep ? '1' : '0');\n            string = cmd + ' ' + obj.r1 + ' ' + obj.r2 + ' ' + ang + ' ' + l + ' ' + s + ' ' + obj.x + ' ' + obj.y;\n            break;\n        case 'H':\n        case 'h':\n            string = obj.command + ' ' + obj.x;\n            break;\n        case 'V':\n        case 'v':\n            string = obj.command + ' ' + obj.y;\n            break;\n        case 'S':\n        case 's':\n            string = obj.command + ' ' + obj.x2 + ' ' + obj.y2 + ' ' + obj.x + ' ' + obj.y;\n            break;\n        case 'T':\n        case 't':\n            string = obj.command + ' ' + obj.x + ' ' + obj.y;\n    }\n    return string;\n}\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Size } from '../../primitives/size';\nimport { DrawingElement } from './drawing-element';\nimport { measureImage } from './../../utility/dom-util';\n/**\n * ImageElement defines a basic image elements\n */\nvar ImageElement = /** @class */ (function (_super) {\n    __extends(ImageElement, _super);\n    /**\n     * set the id for each element\n     */\n    function ImageElement() {\n        var _this = _super.call(this) || this;\n        /**\n         * sets or gets the image source\n         */\n        _this.imageSource = '';\n        /**\n         * sets scaling factor of the image\n         */\n        _this.imageScale = 'None';\n        /**\n         * sets the alignment of the image\n         */\n        _this.imageAlign = 'None';\n        /**\n         * Sets how to stretch the image\n         */\n        _this.stretch = 'Stretch';\n        return _this;\n    }\n    Object.defineProperty(ImageElement.prototype, \"source\", {\n        /**\n         * Gets the source for the image element\n         */\n        get: function () {\n            return this.imageSource;\n        },\n        /**\n         * Sets the source for the image element\n         */\n        set: function (value) {\n            this.imageSource = value;\n            this.isDirt = true;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * Measures minimum space that is required to render the image\n     * @param availableSize\n     */\n    ImageElement.prototype.measure = function (availableSize) {\n        if (this.isDirt && (this.stretch !== 'Stretch' || this.width === undefined && this.height === undefined)) {\n            this.contentSize = measureImage(this.source, this.contentSize);\n            this.isDirt = false;\n        }\n        if (this.width !== undefined && this.height !== undefined) {\n            this.desiredSize = new Size(this.width, this.height);\n            this.contentSize = this.desiredSize;\n        }\n        else {\n            this.desiredSize = this.contentSize;\n        }\n        this.desiredSize = this.validateDesiredSize(this.desiredSize, availableSize);\n        return this.desiredSize;\n    };\n    /**\n     * Arranges the image\n     * @param desiredSize\n     */\n    ImageElement.prototype.arrange = function (desiredSize) {\n        this.actualSize = new Size(this.desiredSize.width, this.desiredSize.height);\n        this.updateBounds();\n        return this.actualSize;\n    };\n    return ImageElement;\n}(DrawingElement));\nexport { ImageElement };\n","/**\n * Matrix module is used to transform points based on offsets, angle\n */\n/** @private */\nexport var MatrixTypes;\n(function (MatrixTypes) {\n    MatrixTypes[MatrixTypes[\"Identity\"] = 0] = \"Identity\";\n    MatrixTypes[MatrixTypes[\"Translation\"] = 1] = \"Translation\";\n    MatrixTypes[MatrixTypes[\"Scaling\"] = 2] = \"Scaling\";\n    MatrixTypes[MatrixTypes[\"Unknown\"] = 4] = \"Unknown\";\n})(MatrixTypes || (MatrixTypes = {}));\n/** @private */\nvar Matrix = /** @class */ (function () {\n    function Matrix(m11, m12, m21, m22, offsetX, offsetY, type) {\n        this.m11 = m11;\n        this.m12 = m12;\n        this.m21 = m21;\n        this.m22 = m22;\n        this.offsetX = offsetX;\n        this.offsetY = offsetY;\n        // if (type === undefined) {\n        //     this.type = MatrixTypes.Unknown;\n        // } else {\n        //     this.type = type;\n        // }\n        this.type = type;\n    }\n    return Matrix;\n}());\nexport { Matrix };\n/** @private */\nexport function identityMatrix() {\n    return new Matrix(1, 0, 0, 1, 0, 0, MatrixTypes.Identity);\n}\n/** @private */\nexport function transformPointByMatrix(matrix, point) {\n    var pt = multiplyPoint(matrix, point.x, point.y);\n    return { x: Math.round(pt.x * 100) / 100, y: Math.round(pt.y * 100) / 100 };\n}\n/** @private */\nexport function transformPointsByMatrix(matrix, points) {\n    var transformedPoints = [];\n    for (var _i = 0, points_1 = points; _i < points_1.length; _i++) {\n        var point = points_1[_i];\n        transformedPoints.push(transformPointByMatrix(matrix, point));\n    }\n    return transformedPoints;\n}\n/** @private */\nexport function rotateMatrix(matrix, angle, centerX, centerY) {\n    angle %= 360.0;\n    multiplyMatrix(matrix, createRotationRadians(angle * 0.017453292519943295, centerX ? centerX : 0, centerY ? centerY : 0));\n}\n/** @private */\nexport function scaleMatrix(matrix, scaleX, scaleY, centerX, centerY) {\n    if (centerX === void 0) { centerX = 0; }\n    if (centerY === void 0) { centerY = 0; }\n    multiplyMatrix(matrix, createScaling(scaleX, scaleY, centerX, centerY));\n}\n/** @private */\nexport function translateMatrix(matrix, offsetX, offsetY) {\n    if (matrix.type & MatrixTypes.Identity) {\n        matrix.type = MatrixTypes.Translation;\n        setMatrix(matrix, 1.0, 0.0, 0.0, 1.0, offsetX, offsetY);\n        return;\n    }\n    if (matrix.type & MatrixTypes.Unknown) {\n        matrix.offsetX += offsetX;\n        matrix.offsetY += offsetY;\n        return;\n    }\n    matrix.offsetX += offsetX;\n    matrix.offsetY += offsetY;\n    matrix.type |= MatrixTypes.Translation;\n}\n/** @private */\nfunction createScaling(scaleX, scaleY, centerX, centerY) {\n    var result = identityMatrix();\n    result.type = !(centerX || centerY) ? MatrixTypes.Scaling : MatrixTypes.Scaling | MatrixTypes.Translation;\n    setMatrix(result, scaleX, 0.0, 0.0, scaleY, centerX - scaleX * centerX, centerY - scaleY * centerY);\n    return result;\n}\n/** @private */\nfunction createRotationRadians(angle, centerX, centerY) {\n    var result = identityMatrix();\n    var num = Math.sin(angle);\n    var num2 = Math.cos(angle);\n    var offsetX = centerX * (1.0 - num2) + centerY * num;\n    var offsetY = centerY * (1.0 - num2) - centerX * num;\n    result.type = MatrixTypes.Unknown;\n    setMatrix(result, num2, num, -num, num2, offsetX, offsetY);\n    return result;\n}\n/** @private */\nfunction multiplyPoint(matrix, x, y) {\n    switch (matrix.type) {\n        case MatrixTypes.Identity: break;\n        case MatrixTypes.Translation:\n            x += matrix.offsetX;\n            y += matrix.offsetY;\n            break;\n        case MatrixTypes.Scaling:\n            x *= matrix.m11;\n            y *= matrix.m22;\n            break;\n        case MatrixTypes.Translation | MatrixTypes.Scaling:\n            x *= matrix.m11;\n            x += matrix.offsetX;\n            y *= matrix.m22;\n            y += matrix.offsetY;\n            break;\n        default:\n            var num = y * matrix.m21 + matrix.offsetX;\n            var num2 = x * matrix.m12 + matrix.offsetY;\n            x *= matrix.m11;\n            x += num;\n            y *= matrix.m22;\n            y += num2;\n            break;\n    }\n    return { x: x, y: y };\n}\n/** @private */\nexport function multiplyMatrix(matrix1, matrix2) {\n    var type = matrix1.type;\n    var type2 = matrix2.type;\n    if (type2 === MatrixTypes.Identity) {\n        return;\n    }\n    if (type === MatrixTypes.Identity) {\n        assignMatrix(matrix1, matrix2);\n        matrix1.type = matrix2.type;\n        return;\n    }\n    if (type2 === MatrixTypes.Translation) {\n        matrix1.offsetX += matrix2.offsetX;\n        matrix1.offsetY += matrix2.offsetY;\n        if (type !== MatrixTypes.Unknown) {\n            matrix1.type |= MatrixTypes.Translation;\n        }\n        return;\n    }\n    if (type !== MatrixTypes.Translation) {\n        var num = type << 4 | type2;\n        switch (num) {\n            case 34:\n                matrix1.m11 *= matrix2.m11;\n                matrix1.m22 *= matrix2.m22;\n                return;\n            case 35:\n                matrix1.m11 *= matrix2.m11;\n                matrix1.m22 *= matrix2.m22;\n                matrix1.offsetX = matrix2.offsetX;\n                matrix1.offsetY = matrix2.offsetY;\n                matrix1.type = (MatrixTypes.Translation | MatrixTypes.Scaling);\n                return;\n            case 36: break;\n            default:\n                {\n                    switch (num) {\n                        case 50:\n                            matrix1.m11 *= matrix2.m11;\n                            matrix1.m22 *= matrix2.m22;\n                            matrix1.offsetX *= matrix2.m11;\n                            matrix1.offsetY *= matrix2.m22;\n                            return;\n                        case 51:\n                            matrix1.m11 *= matrix2.m11;\n                            matrix1.m22 *= matrix2.m22;\n                            matrix1.offsetX = matrix2.m11 * matrix1.offsetX + matrix2.offsetX;\n                            matrix1.offsetY = matrix2.m22 * matrix1.offsetY + matrix2.offsetY;\n                            return;\n                        case 52: break;\n                        default:\n                            switch (num) {\n                                case 66:\n                                case 67:\n                                case 68: break;\n                                default: return;\n                            }\n                            break;\n                    }\n                    break;\n                }\n        }\n        var result = identityMatrix();\n        var m11New = matrix1.m11 * matrix2.m11 + matrix1.m12 * matrix2.m21;\n        var m12New = matrix1.m11 * matrix2.m12 + matrix1.m12 * matrix2.m22;\n        var m21New = matrix1.m21 * matrix2.m11 + matrix1.m22 * matrix2.m21;\n        var m22New = matrix1.m21 * matrix2.m12 + matrix1.m22 * matrix2.m22;\n        var offsetX_1 = matrix1.offsetX * matrix2.m11 + matrix1.offsetY * matrix2.m21 + matrix2.offsetX;\n        var offsetY_1 = matrix1.offsetX * matrix2.m12 + matrix1.offsetY * matrix2.m22 + matrix2.offsetY;\n        setMatrix(result, m11New, m12New, m21New, m22New, offsetX_1, offsetY_1);\n        if (result.m21 || result.m12) {\n            result.type = MatrixTypes.Unknown;\n        }\n        else {\n            if (result.m11 && result.m11 !== 1.0 || result.m22 && result.m22 !== 1.0) {\n                result.type = MatrixTypes.Scaling;\n            }\n            if (result.offsetX || result.offsetY) {\n                result.type |= MatrixTypes.Translation;\n            }\n            if ((result.type & (MatrixTypes.Translation | MatrixTypes.Scaling)) === MatrixTypes.Identity) {\n                result.type = MatrixTypes.Identity;\n            }\n            result.type = MatrixTypes.Scaling | MatrixTypes.Translation;\n        }\n        assignMatrix(matrix1, result);\n        matrix1.type = result.type;\n        return;\n    }\n    var offsetX = matrix1.offsetX;\n    var offsetY = matrix1.offsetY;\n    matrix1.offsetX = offsetX * matrix2.m11 + offsetY * matrix2.m21 + matrix2.offsetX;\n    matrix1.offsetY = offsetX * matrix2.m12 + offsetY * matrix2.m22 + matrix2.offsetY;\n    if (type2 === MatrixTypes.Unknown) {\n        matrix1.type = MatrixTypes.Unknown;\n        return;\n    }\n    matrix1.type = (MatrixTypes.Translation | MatrixTypes.Scaling);\n}\n/** @private */\nfunction setMatrix(mat, m11, m12, m21, m22, x, y) {\n    mat.m11 = m11;\n    mat.m12 = m12;\n    mat.m21 = m21;\n    mat.m22 = m22;\n    mat.offsetX = x;\n    mat.offsetY = y;\n}\n/** @private */\nfunction assignMatrix(matrix1, matrix2) {\n    matrix1.m11 = matrix2.m11;\n    matrix1.m12 = matrix2.m12;\n    matrix1.m21 = matrix2.m21;\n    matrix1.m22 = matrix2.m22;\n    matrix1.offsetX = matrix2.offsetX;\n    matrix1.offsetY = matrix2.offsetY;\n    matrix1.type = matrix2.type;\n}\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Defines and processes coordinates\n */\nvar Point = /** @class */ (function (_super) {\n    __extends(Point, _super);\n    function Point() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**   @private  */\n    Point.equals = function (point1, point2) {\n        if (point1 === point2) {\n            return true;\n        }\n        if (!point1 || !point2) {\n            return false;\n        }\n        return !point1 || !point2 || point1.x === point2.x && point1.y === point2.y;\n    };\n    /**\n     * check whether the points are given\n     */\n    Point.isEmptyPoint = function (point) {\n        if (point.x && point.y) {\n            return false;\n        }\n        return true;\n    };\n    /**   @private  */\n    Point.transform = function (point, angle, length) {\n        var pt = { x: 0, y: 0 };\n        pt.x = Math.round((point.x + length * Math.cos(angle * Math.PI / 180)) * 100) / 100;\n        pt.y = Math.round((point.y + length * Math.sin(angle * Math.PI / 180)) * 100) / 100;\n        return pt;\n    };\n    /**   @private  */\n    Point.findLength = function (s, e) {\n        var length = Math.sqrt(Math.pow((s.x - e.x), 2) + Math.pow((s.y - e.y), 2));\n        return length;\n    };\n    /**   @private  */\n    Point.findAngle = function (point1, point2) {\n        var angle = Math.atan2(point2.y - point1.y, point2.x - point1.x);\n        angle = (180 * angle / Math.PI);\n        angle %= 360;\n        if (angle < 0) {\n            angle += 360;\n        }\n        return angle;\n    };\n    /**   @private  */\n    Point.distancePoints = function (pt1, pt2) {\n        return Math.sqrt(Math.pow(pt2.x - pt1.x, 2) + Math.pow(pt2.y - pt1.y, 2));\n    };\n    /**   @private  */\n    Point.getLengthFromListOfPoints = function (points) {\n        var length = 0;\n        for (var j = 0; j < points.length - 1; j++) {\n            length += this.distancePoints(points[j], points[j + 1]);\n        }\n        return length;\n    };\n    /**   @private  */\n    Point.adjustPoint = function (source, target, isStart, length) {\n        var pt = isStart ? { x: source.x, y: source.y } : { x: target.x, y: target.y };\n        var angle;\n        if (source.x === target.x) {\n            if (source.y < target.y && isStart || source.y > target.y && !isStart) {\n                pt.y += length;\n            }\n            else {\n                pt.y -= length;\n            }\n        }\n        else if (source.y === target.y) {\n            if (source.x < target.x && isStart || source.x > target.x && !isStart) {\n                pt.x += length;\n            }\n            else {\n                pt.x -= length;\n            }\n        }\n        else {\n            if (isStart) {\n                angle = this.findAngle(source, target);\n                pt = this.transform(source, angle, length);\n            }\n            else {\n                angle = this.findAngle(target, source);\n                pt = this.transform(target, angle, length);\n            }\n        }\n        return pt;\n    };\n    /**   @private  */\n    Point.direction = function (pt1, pt2) {\n        if (Math.abs(pt2.x - pt1.x) > Math.abs(pt2.y - pt1.y)) {\n            return pt1.x < pt2.x ? 'Right' : 'Left';\n        }\n        else {\n            return pt1.y < pt2.y ? 'Bottom' : 'Top';\n        }\n    };\n    /**\n     * @private\n     * Returns the name of class Point\n     */\n    Point.prototype.getClassName = function () {\n        return 'Point';\n    };\n    __decorate([\n        Property(0)\n    ], Point.prototype, \"x\", void 0);\n    __decorate([\n        Property(0)\n    ], Point.prototype, \"y\", void 0);\n    return Point;\n}(ChildProperty));\nexport { Point };\n","/**\n * Rect defines and processes rectangular regions\n */\nvar Rect = /** @class */ (function () {\n    function Rect(x, y, width, height) {\n        /**\n         * Sets the x-coordinate of the starting point of a rectangular region\n         * @default 0\n         */\n        this.x = Number.MAX_VALUE;\n        /**\n         * Sets the y-coordinate of the starting point of a rectangular region\n         * @default 0\n         */\n        this.y = Number.MAX_VALUE;\n        /**\n         * Sets the width of a rectangular region\n         * @default 0\n         */\n        this.width = 0;\n        /**\n         * Sets the height of a rectangular region\n         * @default 0\n         */\n        this.height = 0;\n        if (x === undefined || y === undefined) {\n            x = y = Number.MAX_VALUE;\n            width = height = 0;\n        }\n        else {\n            if (width === undefined) {\n                width = 0;\n            }\n            if (height === undefined) {\n                height = 0;\n            }\n        }\n        this.x = x;\n        this.y = y;\n        this.width = width;\n        this.height = height;\n    }\n    Object.defineProperty(Rect.prototype, \"left\", {\n        /**   @private  */\n        get: function () {\n            return this.x;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Rect.prototype, \"right\", {\n        /**   @private  */\n        get: function () {\n            return this.x + this.width;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Rect.prototype, \"top\", {\n        /**   @private  */\n        get: function () {\n            return this.y;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Rect.prototype, \"bottom\", {\n        /**   @private  */\n        get: function () {\n            return this.y + this.height;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Rect.prototype, \"topLeft\", {\n        /**   @private  */\n        get: function () {\n            return { x: this.left, y: this.top };\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Rect.prototype, \"topRight\", {\n        /**   @private  */\n        get: function () {\n            return { x: this.right, y: this.top };\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Rect.prototype, \"bottomLeft\", {\n        /**   @private  */\n        get: function () {\n            return { x: this.left, y: this.bottom };\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Rect.prototype, \"bottomRight\", {\n        /**   @private  */\n        get: function () {\n            return { x: this.right, y: this.bottom };\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Rect.prototype, \"middleLeft\", {\n        /**   @private  */\n        get: function () {\n            return { x: this.left, y: this.y + this.height / 2 };\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Rect.prototype, \"middleRight\", {\n        /**   @private  */\n        get: function () {\n            return { x: this.right, y: this.y + this.height / 2 };\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Rect.prototype, \"topCenter\", {\n        /**   @private  */\n        get: function () {\n            return { x: this.x + this.width / 2, y: this.top };\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Rect.prototype, \"bottomCenter\", {\n        /**   @private  */\n        get: function () {\n            return { x: this.x + this.width / 2, y: this.bottom };\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Rect.prototype, \"center\", {\n        /**   @private  */\n        get: function () {\n            return { x: this.x + this.width / 2, y: this.y + this.height / 2 };\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**   @private  */\n    Rect.prototype.equals = function (rect1, rect2) {\n        return rect1.x === rect2.x && rect1.y === rect2.y && rect1.width === rect2.width && rect1.height === rect2.height;\n    };\n    /**   @private  */\n    Rect.prototype.uniteRect = function (rect) {\n        var right = Math.max(Number.NaN === this.right || this.x === Number.MAX_VALUE ? rect.right : this.right, rect.right);\n        var bottom = Math.max(Number.NaN === this.bottom || this.y === Number.MAX_VALUE ? rect.bottom : this.bottom, rect.bottom);\n        this.x = Math.min(this.left, rect.left);\n        this.y = Math.min(this.top, rect.top);\n        this.width = right - this.x;\n        this.height = bottom - this.y;\n        return this;\n    };\n    /**   @private  */\n    Rect.prototype.unitePoint = function (point) {\n        if (this.x === Number.MAX_VALUE) {\n            this.x = point.x;\n            this.y = point.y;\n            return;\n        }\n        var x = Math.min(this.left, point.x);\n        var y = Math.min(this.top, point.y);\n        var right = Math.max(this.right, point.x);\n        var bottom = Math.max(this.bottom, point.y);\n        this.x = x;\n        this.y = y;\n        this.width = right - this.x;\n        this.height = bottom - this.y;\n    };\n    Rect.prototype.intersection = function (rect) {\n        if (this.intersects(rect)) {\n            var left = Math.max(this.left, rect.left);\n            var top_1 = Math.max(this.top, rect.top);\n            var right = Math.min(this.right, rect.right);\n            var bottom = Math.min(this.bottom, rect.bottom);\n            return new Rect(left, top_1, right - left, bottom - top_1);\n        }\n        return Rect.empty;\n    };\n    /**   @private  */\n    Rect.prototype.Inflate = function (padding) {\n        this.x -= padding;\n        this.y -= padding;\n        this.width += padding * 2;\n        this.height += padding * 2;\n        return this;\n    };\n    // public Inflate(size: Size): Rect {\n    //    this.x -= size.Width;\n    //    this.y -= size.Height;\n    //    this.width += size.Width * 2;\n    //    this.height += size.Height * 2;\n    //    return this;\n    // }\n    // public inflate(width: number, height: number): void {\n    //     this.x -= width;\n    //     this.y -= height;\n    //     this.width += width * 2;\n    //     this.height += height * 2;\n    // }\n    /**   @private  */\n    Rect.prototype.intersects = function (rect) {\n        if (this.right < rect.left || this.left > rect.right || this.top > rect.bottom || this.bottom < rect.top) {\n            return false;\n        }\n        return true;\n    };\n    /**   @private  */\n    Rect.prototype.containsRect = function (rect) {\n        return this.left <= rect.left && this.right >= rect.right && this.top <= rect.top && this.bottom >= rect.bottom;\n    };\n    /**   @private  */\n    Rect.prototype.containsPoint = function (point, padding) {\n        if (padding === void 0) { padding = 0; }\n        return this.left - padding <= point.x && this.right + padding >= point.x\n            && this.top - padding <= point.y && this.bottom + padding >= point.y;\n    };\n    Rect.prototype.toPoints = function () {\n        var points = [];\n        points.push(this.topLeft);\n        points.push(this.topRight);\n        points.push(this.bottomLeft);\n        points.push(this.bottomRight);\n        return points;\n    };\n    /**   @private  */\n    Rect.toBounds = function (points) {\n        var rect = new Rect();\n        for (var _i = 0, points_1 = points; _i < points_1.length; _i++) {\n            var pt = points_1[_i];\n            rect.unitePoint(pt);\n        }\n        return rect;\n    };\n    Rect.prototype.scale = function (scaleX, scaleY) {\n        this.width *= scaleX;\n        this.height *= scaleY;\n    };\n    Rect.prototype.offset = function (offsetX, offsetY) {\n        this.x += offsetX;\n        this.y += offsetY;\n    };\n    /**   @private  */\n    Rect.empty = new Rect(Number.MAX_VALUE, Number.MIN_VALUE, 0, 0);\n    return Rect;\n}());\nexport { Rect };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Size } from '../../primitives/size';\nimport { DrawingElement } from './drawing-element';\nimport { measureText } from './../../utility/dom-util';\n/**\n * TextElement is used to display text/annotations\n */\nvar TextElement = /** @class */ (function (_super) {\n    __extends(TextElement, _super);\n    /**\n     * set the id for each element\n     */\n    function TextElement() {\n        var _this = _super.call(this) || this;\n        /**\n         * sets or gets the image source\n         */\n        _this.textContent = '';\n        /** @private */\n        _this.canMeasure = true;\n        /** @private */\n        _this.canConsiderBounds = true;\n        /** @private */\n        _this.doWrap = true;\n        _this.textNodes = [];\n        /**\n         * Defines the appearance of the text element\n         */\n        _this.style = {\n            color: 'black', fill: 'transparent', strokeColor: 'black',\n            strokeWidth: 1, fontFamily: 'Arial', fontSize: 12, whiteSpace: 'CollapseSpace',\n            textWrapping: 'WrapWithOverflow', textAlign: 'Center', italic: false, bold: false,\n            textDecoration: 'None', strokeDashArray: '', opacity: 1,\n            textOverflow: 'Wrap'\n        };\n        _this.style.fill = 'transparent';\n        _this.style.strokeColor = 'transparent';\n        return _this;\n    }\n    Object.defineProperty(TextElement.prototype, \"content\", {\n        /**\n         * gets the content for the text element\n         */\n        get: function () {\n            return this.textContent;\n        },\n        /**\n         * sets the content for the text element\n         */\n        set: function (value) {\n            if (this.textContent !== value) {\n                this.textContent = value;\n                this.isDirt = true;\n                this.doWrap = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(TextElement.prototype, \"childNodes\", {\n        /**\n         * sets the content for the text element\n         */\n        get: function () {\n            return this.textNodes;\n        },\n        /**\n         * gets the content for the text element\n         */\n        set: function (value) {\n            this.textNodes = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(TextElement.prototype, \"wrapBounds\", {\n        /**\n         * gets the wrapBounds for the text\n         */\n        get: function () {\n            return this.textWrapBounds;\n        },\n        /**\n         * sets the wrapBounds for the text\n         */\n        set: function (value) {\n            this.textWrapBounds = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /** @private */\n    TextElement.prototype.refreshTextElement = function () {\n        this.isDirt = true;\n    };\n    /**\n     * Measures the minimum size that is required for the text element\n     * @param availableSize\n     */\n    TextElement.prototype.measure = function (availableSize) {\n        var size;\n        if (this.isDirt && this.canMeasure) {\n            size = measureText(this, this.style, this.content, this.width || availableSize.width);\n        }\n        else {\n            size = this.desiredSize;\n        }\n        if (this.width === undefined || this.height === undefined) {\n            this.desiredSize = new Size(size.width, size.height);\n        }\n        else {\n            this.desiredSize = new Size(this.width, this.height);\n        }\n        this.desiredSize = this.validateDesiredSize(this.desiredSize, availableSize);\n        return this.desiredSize;\n    };\n    /**\n     * Arranges the text element\n     * @param desiredSize\n     */\n    TextElement.prototype.arrange = function (desiredSize) {\n        if (desiredSize.width !== this.actualSize.width || desiredSize.height !== this.actualSize.height || this.isDirt) {\n            this.doWrap = true;\n        }\n        this.actualSize = desiredSize;\n        this.updateBounds();\n        this.isDirt = false;\n        return this.actualSize;\n    };\n    return TextElement;\n}(DrawingElement));\nexport { TextElement };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, Property, Event, EventHandler, L10n, setValue, getValue, isNullOrUndefined, Browser } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges, detach, Internationalization, getUniqueID, closest } from '@syncfusion/ej2-base';\nimport { addClass, removeClass } from '@syncfusion/ej2-base';\nimport { Input } from '../input/input';\nvar HIDE_CLEAR = 'e-clear-icon-hide';\nvar TEXTBOX_FOCUS = 'e-input-focus';\nvar containerAttr = ['title', 'style', 'class'];\n/**\n * Represents the TextBox component that allows the user to enter the values based on it's type.\n * ```html\n * <input name='images' id='textbox'/>\n * ```\n * ```typescript\n * <script>\n *   var textboxObj = new TextBox();\n *   textboxObj.appendTo('#textbox');\n * </script>\n * ```\n */\nvar TextBox = /** @class */ (function (_super) {\n    __extends(TextBox, _super);\n    /**\n     *\n     * @param {TextBoxModel} options - Specifies the TextBox model.\n     * @param {string | HTMLInputElement | HTMLTextAreaElement} element - Specifies the element to render as component.\n     * @private\n     */\n    function TextBox(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.previousValue = null;\n        _this.isAngular = false;\n        _this.isHiddenInput = false;\n        _this.isForm = false;\n        _this.inputPreviousValue = null;\n        _this.isVue = false;\n        _this.textboxOptions = options;\n        return _this;\n    }\n    /**\n     * Calls internally if any of the property value is changed.\n     *\n     * @param {TextBoxModel} newProp - Returns the dynamic property value of the component.\n     * @param {TextBoxModel} oldProp - Returns the previous property value of the component.\n     * @returns {void}\n     * @private\n     */\n    TextBox.prototype.onPropertyChanged = function (newProp, oldProp) {\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'floatLabelType':\n                    Input.removeFloating(this.textboxWrapper);\n                    Input.addFloating(this.respectiveElement, this.floatLabelType, this.placeholder);\n                    break;\n                case 'enabled':\n                    Input.setEnabled(this.enabled, this.respectiveElement, this.floatLabelType, this.textboxWrapper.container);\n                    this.bindClearEvent();\n                    break;\n                case 'width':\n                    Input.setWidth(newProp.width, this.textboxWrapper.container);\n                    break;\n                case 'value':\n                    {\n                        var prevOnChange = this.isProtectedOnChange;\n                        this.isProtectedOnChange = true;\n                        if (!this.isBlank(this.value)) {\n                            this.value = this.value.toString();\n                        }\n                        this.isProtectedOnChange = prevOnChange;\n                        Input.setValue(this.value, this.respectiveElement, this.floatLabelType, this.showClearButton);\n                        if (this.isHiddenInput) {\n                            this.element.value = this.respectiveElement.value;\n                        }\n                        this.inputPreviousValue = this.respectiveElement.value;\n                        /* istanbul ignore next */\n                        if ((this.isAngular || this.isVue) && this.preventChange === true) {\n                            this.previousValue = this.isAngular ? this.value : this.previousValue;\n                            this.preventChange = false;\n                        }\n                        else if (isNullOrUndefined(this.isAngular) || !this.isAngular\n                            || (this.isAngular && !this.preventChange) || (this.isAngular && isNullOrUndefined(this.preventChange))) {\n                            this.raiseChangeEvent();\n                        }\n                    }\n                    break;\n                case 'htmlAttributes':\n                    {\n                        this.updateHTMLAttrToElement();\n                        this.updateHTMLAttrToWrapper();\n                        this.checkAttributes(true);\n                        Input.validateInputType(this.textboxWrapper.container, this.element);\n                    }\n                    break;\n                case 'readonly':\n                    Input.setReadonly(this.readonly, this.respectiveElement);\n                    break;\n                case 'type':\n                    if (this.respectiveElement.tagName !== 'TEXTAREA') {\n                        this.respectiveElement.setAttribute('type', this.type);\n                        Input.validateInputType(this.textboxWrapper.container, this.element);\n                        this.raiseChangeEvent();\n                    }\n                    break;\n                case 'showClearButton':\n                    if (this.respectiveElement.tagName !== 'TEXTAREA') {\n                        Input.setClearButton(this.showClearButton, this.respectiveElement, this.textboxWrapper);\n                        this.bindClearEvent();\n                    }\n                    break;\n                case 'enableRtl':\n                    Input.setEnableRtl(this.enableRtl, [this.textboxWrapper.container]);\n                    break;\n                case 'placeholder':\n                    Input.setPlaceholder(this.placeholder, this.respectiveElement);\n                    break;\n                case 'autocomplete':\n                    if (this.autocomplete !== 'on' && this.autocomplete !== '') {\n                        this.respectiveElement.autocomplete = this.autocomplete;\n                    }\n                    else {\n                        this.removeAttributes(['autocomplete']);\n                    }\n                    break;\n                case 'cssClass':\n                    this.updateCssClass(newProp.cssClass, oldProp.cssClass);\n                    break;\n                case 'locale':\n                    this.globalize = new Internationalization(this.locale);\n                    this.l10n.setLocale(this.locale);\n                    this.setProperties({ placeholder: this.l10n.getConstant('placeholder') }, true);\n                    Input.setPlaceholder(this.placeholder, this.respectiveElement);\n                    break;\n            }\n        }\n    };\n    /**\n     * Gets the component name\n     *\n     * @returns {string} Returns the component name.\n     * @private\n     */\n    TextBox.prototype.getModuleName = function () {\n        return 'textbox';\n    };\n    TextBox.prototype.isBlank = function (str) {\n        return (!str || /^\\s*$/.test(str));\n    };\n    TextBox.prototype.preRender = function () {\n        this.cloneElement = this.element.cloneNode(true);\n        this.formElement = closest(this.element, 'form');\n        if (!isNullOrUndefined(this.formElement)) {\n            this.isForm = true;\n        }\n        /* istanbul ignore next */\n        if (this.element.tagName === 'EJS-TEXTBOX') {\n            var ejInstance = getValue('ej2_instances', this.element);\n            var inputElement = this.multiline ?\n                this.createElement('textarea') :\n                this.createElement('input');\n            var index = 0;\n            for (index; index < this.element.attributes.length; index++) {\n                var attributeName = this.element.attributes[index].nodeName;\n                if (attributeName !== 'id' && attributeName !== 'class') {\n                    inputElement.setAttribute(attributeName, this.element.attributes[index].nodeValue);\n                    inputElement.innerHTML = this.element.innerHTML;\n                    if (attributeName === 'name') {\n                        this.element.removeAttribute('name');\n                    }\n                }\n                else if (attributeName === 'class') {\n                    inputElement.setAttribute(attributeName, this.element.className.split(' ').filter(function (item) { return item.indexOf('ng-') !== 0; }).join(' '));\n                }\n            }\n            this.element.appendChild(inputElement);\n            this.element = inputElement;\n            setValue('ej2_instances', ejInstance, this.element);\n        }\n        this.updateHTMLAttrToElement();\n        this.checkAttributes(false);\n        if ((isNullOrUndefined(this.textboxOptions) || (this.textboxOptions['value'] === undefined)) && this.element.value !== '') {\n            this.setProperties({ value: this.element.value }, true);\n        }\n        if (this.element.tagName !== 'TEXTAREA') {\n            this.element.setAttribute('type', this.type);\n        }\n        this.element.setAttribute('role', 'textbox');\n        this.globalize = new Internationalization(this.locale);\n        var localeText = { placeholder: this.placeholder };\n        this.l10n = new L10n('textbox', localeText, this.locale);\n        if (this.l10n.getConstant('placeholder') !== '') {\n            this.setProperties({ placeholder: this.placeholder || this.l10n.getConstant('placeholder') }, true);\n        }\n        if (!this.element.hasAttribute('id')) {\n            this.element.setAttribute('id', getUniqueID('textbox'));\n        }\n        if (!this.element.hasAttribute('name')) {\n            this.element.setAttribute('name', this.element.getAttribute('id'));\n        }\n        if (this.element.tagName === 'INPUT' && this.multiline) {\n            this.isHiddenInput = true;\n            this.textarea = this.createElement('textarea');\n            this.element.parentNode.insertBefore(this.textarea, this.element);\n            this.element.setAttribute('type', 'hidden');\n            this.textarea.setAttribute('name', this.element.getAttribute('name'));\n            this.element.removeAttribute('name');\n            this.textarea.setAttribute('role', this.element.getAttribute('role'));\n            this.element.removeAttribute('role');\n            this.textarea.setAttribute('id', getUniqueID('textarea'));\n            var apiAttributes = ['placeholder', 'disabled', 'value', 'readonly', 'type', 'autocomplete'];\n            for (var index = 0; index < this.element.attributes.length; index++) {\n                var attributeName = this.element.attributes[index].nodeName;\n                if (this.element.hasAttribute(attributeName) && containerAttr.indexOf(attributeName) < 0 &&\n                    !(attributeName === 'id' || attributeName === 'type' || attributeName === 'e-mappinguid')) {\n                    // e-mappinguid attribute is handled for Grid component.\n                    this.textarea.setAttribute(attributeName, this.element.attributes[index].nodeValue);\n                    if (apiAttributes.indexOf(attributeName) < 0) {\n                        this.element.removeAttribute(attributeName);\n                        index--;\n                    }\n                }\n            }\n        }\n    };\n    TextBox.prototype.checkAttributes = function (isDynamic) {\n        var attrs = isDynamic ? isNullOrUndefined(this.htmlAttributes) ? [] : Object.keys(this.htmlAttributes) :\n            ['placeholder', 'disabled', 'value', 'readonly', 'type', 'autocomplete'];\n        for (var _i = 0, attrs_1 = attrs; _i < attrs_1.length; _i++) {\n            var key = attrs_1[_i];\n            if (!isNullOrUndefined(this.element.getAttribute(key))) {\n                switch (key) {\n                    case 'disabled':\n                        if ((isNullOrUndefined(this.textboxOptions) || (this.textboxOptions['enabled'] === undefined)) || isDynamic) {\n                            var enabled = this.element.getAttribute(key) === 'disabled' || this.element.getAttribute(key) === '' ||\n                                this.element.getAttribute(key) === 'true' ? false : true;\n                            this.setProperties({ enabled: enabled }, !isDynamic);\n                        }\n                        break;\n                    case 'readonly':\n                        if ((isNullOrUndefined(this.textboxOptions) || (this.textboxOptions['readonly'] === undefined)) || isDynamic) {\n                            var readonly = this.element.getAttribute(key) === 'readonly' || this.element.getAttribute(key) === ''\n                                || this.element.getAttribute(key) === 'true' ? true : false;\n                            this.setProperties({ readonly: readonly }, !isDynamic);\n                        }\n                        break;\n                    case 'placeholder':\n                        if ((isNullOrUndefined(this.textboxOptions) || (this.textboxOptions['placeholder'] === undefined)) || isDynamic) {\n                            this.setProperties({ placeholder: this.element.placeholder }, !isDynamic);\n                        }\n                        break;\n                    case 'autocomplete':\n                        if ((isNullOrUndefined(this.textboxOptions) || (this.textboxOptions['autocomplete'] === undefined)) || isDynamic) {\n                            var autoCompleteTxt = this.element.autocomplete === 'off' ? 'off' : 'on';\n                            this.setProperties({ autocomplete: autoCompleteTxt }, !isDynamic);\n                        }\n                        break;\n                    case 'value':\n                        if ((isNullOrUndefined(this.textboxOptions) || (this.textboxOptions['value'] === undefined)) || isDynamic) {\n                            this.setProperties({ value: this.element.value }, !isDynamic);\n                        }\n                        break;\n                    case 'type':\n                        if ((isNullOrUndefined(this.textboxOptions) || (this.textboxOptions['type'] === undefined)) || isDynamic) {\n                            this.setProperties({ type: this.element.type }, !isDynamic);\n                        }\n                        break;\n                }\n            }\n        }\n    };\n    /**\n     * To Initialize the control rendering\n     *\n     * @returns {void}\n     * @private\n     */\n    TextBox.prototype.render = function () {\n        var updatedCssClassValue = this.cssClass;\n        if (!isNullOrUndefined(this.cssClass) && this.cssClass !== '') {\n            updatedCssClassValue = this.getInputValidClassList(this.cssClass);\n        }\n        this.respectiveElement = (this.isHiddenInput) ? this.textarea : this.element;\n        this.textboxWrapper = Input.createInput({\n            element: this.respectiveElement,\n            floatLabelType: this.floatLabelType,\n            properties: {\n                enabled: this.enabled,\n                enableRtl: this.enableRtl,\n                cssClass: updatedCssClassValue,\n                readonly: this.readonly,\n                placeholder: this.placeholder,\n                showClearButton: this.showClearButton\n            }\n        });\n        this.updateHTMLAttrToWrapper();\n        if (this.isHiddenInput) {\n            this.respectiveElement.parentNode.insertBefore(this.element, this.respectiveElement);\n        }\n        this.wireEvents();\n        if (!isNullOrUndefined(this.value)) {\n            Input.setValue(this.value, this.respectiveElement, this.floatLabelType, this.showClearButton);\n            if (this.isHiddenInput) {\n                this.element.value = this.respectiveElement.value;\n            }\n        }\n        if (!isNullOrUndefined(this.value)) {\n            this.initialValue = this.value;\n            this.setInitialValue();\n        }\n        if (this.autocomplete !== 'on' && this.autocomplete !== '') {\n            this.respectiveElement.autocomplete = this.autocomplete;\n        }\n        else if (!isNullOrUndefined(this.textboxOptions) && (this.textboxOptions['autocomplete'] !== undefined)) {\n            this.removeAttributes(['autocomplete']);\n        }\n        this.previousValue = this.value;\n        this.inputPreviousValue = this.value;\n        this.respectiveElement.defaultValue = this.respectiveElement.value;\n        Input.setWidth(this.width, this.textboxWrapper.container);\n        this.renderComplete();\n    };\n    TextBox.prototype.updateHTMLAttrToWrapper = function () {\n        if (!isNullOrUndefined(this.htmlAttributes)) {\n            for (var _i = 0, _a = Object.keys(this.htmlAttributes); _i < _a.length; _i++) {\n                var key = _a[_i];\n                if (containerAttr.indexOf(key) > -1) {\n                    if (key === 'class') {\n                        var updatedClassValues = this.getInputValidClassList(this.htmlAttributes[key]);\n                        if (updatedClassValues !== '') {\n                            addClass([this.textboxWrapper.container], updatedClassValues.split(' '));\n                        }\n                    }\n                    else if (key === 'style') {\n                        var setStyle = this.textboxWrapper.container.getAttribute(key);\n                        setStyle = !isNullOrUndefined(setStyle) ? (setStyle + this.htmlAttributes[key]) :\n                            this.htmlAttributes[key];\n                        this.textboxWrapper.container.setAttribute(key, setStyle);\n                    }\n                    else {\n                        this.textboxWrapper.container.setAttribute(key, this.htmlAttributes[key]);\n                    }\n                }\n            }\n        }\n    };\n    TextBox.prototype.updateHTMLAttrToElement = function () {\n        if (!isNullOrUndefined(this.htmlAttributes)) {\n            for (var _i = 0, _a = Object.keys(this.htmlAttributes); _i < _a.length; _i++) {\n                var key = _a[_i];\n                if (containerAttr.indexOf(key) < 0) {\n                    this.element.setAttribute(key, this.htmlAttributes[key]);\n                }\n            }\n        }\n    };\n    TextBox.prototype.updateCssClass = function (newClass, oldClass) {\n        Input.setCssClass(this.getInputValidClassList(newClass), [this.textboxWrapper.container], this.getInputValidClassList(oldClass));\n    };\n    TextBox.prototype.getInputValidClassList = function (inputClassName) {\n        var result = inputClassName;\n        if (!isNullOrUndefined(inputClassName) && inputClassName !== '') {\n            result = (inputClassName.replace(/\\s+/g, ' ')).trim();\n        }\n        return result;\n    };\n    TextBox.prototype.setInitialValue = function () {\n        if (!this.isAngular) {\n            this.respectiveElement.setAttribute('value', this.initialValue);\n        }\n    };\n    TextBox.prototype.wireEvents = function () {\n        EventHandler.add(this.respectiveElement, 'focus', this.focusHandler, this);\n        EventHandler.add(this.respectiveElement, 'blur', this.focusOutHandler, this);\n        EventHandler.add(this.respectiveElement, 'input', this.inputHandler, this);\n        EventHandler.add(this.respectiveElement, 'change', this.changeHandler, this);\n        if (this.isForm) {\n            EventHandler.add(this.formElement, 'reset', this.resetForm, this);\n        }\n        this.bindClearEvent();\n        if (!isNullOrUndefined(this.textboxWrapper.container.querySelector('.e-float-text')) && this.floatLabelType === 'Auto'\n            && this.textboxWrapper.container.classList.contains('e-autofill') &&\n            this.textboxWrapper.container.classList.contains('e-outline')) {\n            EventHandler.add((this.textboxWrapper.container.querySelector('.e-float-text')), 'animationstart', this.animationHandler, this);\n        }\n    };\n    TextBox.prototype.animationHandler = function () {\n        this.textboxWrapper.container.classList.add('e-valid-input');\n        var label = this.textboxWrapper.container.querySelector('.e-float-text');\n        if (!isNullOrUndefined(label)) {\n            label.classList.add('e-label-top');\n            if (label.classList.contains('e-label-bottom')) {\n                label.classList.remove('e-label-bottom');\n            }\n        }\n    };\n    TextBox.prototype.resetValue = function (value) {\n        var prevOnChange = this.isProtectedOnChange;\n        this.isProtectedOnChange = true;\n        this.value = value;\n        this.isProtectedOnChange = prevOnChange;\n    };\n    TextBox.prototype.resetForm = function () {\n        if (this.isAngular) {\n            this.resetValue('');\n        }\n        else {\n            this.resetValue(this.initialValue);\n        }\n        if (!isNullOrUndefined(this.textboxWrapper)) {\n            var label = this.textboxWrapper.container.querySelector('.e-float-text');\n            if (!isNullOrUndefined(label)) {\n                if ((isNullOrUndefined(this.initialValue) || this.initialValue === '')) {\n                    label.classList.add('e-label-bottom');\n                    label.classList.remove('e-label-top');\n                }\n                else if (this.initialValue !== '') {\n                    label.classList.add('e-label-top');\n                    label.classList.remove('e-label-bottom');\n                }\n            }\n        }\n    };\n    TextBox.prototype.focusHandler = function (args) {\n        var eventArgs = {\n            container: this.textboxWrapper.container,\n            event: args,\n            value: this.value\n        };\n        this.trigger('focus', eventArgs);\n    };\n    TextBox.prototype.focusOutHandler = function (args) {\n        if (!(this.previousValue === null && this.value === null && this.respectiveElement.value === '') &&\n            (this.previousValue !== this.respectiveElement.value)) {\n            this.raiseChangeEvent(args, true);\n        }\n        var eventArgs = {\n            container: this.textboxWrapper.container,\n            event: args,\n            value: this.value\n        };\n        this.trigger('blur', eventArgs);\n    };\n    TextBox.prototype.inputHandler = function (args) {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any, @typescript-eslint/no-this-alias\n        var textboxObj = this;\n        var eventArgs = {\n            event: args,\n            value: this.respectiveElement.value,\n            previousValue: this.inputPreviousValue,\n            container: this.textboxWrapper.container\n        };\n        this.inputPreviousValue = this.respectiveElement.value;\n        /* istanbul ignore next */\n        if (this.isAngular) {\n            textboxObj.localChange({ value: this.respectiveElement.value });\n            this.preventChange = true;\n        }\n        if (this.isVue) {\n            this.preventChange = true;\n        }\n        this.trigger('input', eventArgs);\n        args.stopPropagation();\n    };\n    TextBox.prototype.changeHandler = function (args) {\n        this.setProperties({ value: this.respectiveElement.value }, true);\n        this.raiseChangeEvent(args, true);\n        args.stopPropagation();\n    };\n    TextBox.prototype.raiseChangeEvent = function (event, interaction) {\n        var eventArgs = {\n            event: event,\n            value: this.value,\n            previousValue: this.previousValue,\n            container: this.textboxWrapper.container,\n            isInteraction: interaction ? interaction : false,\n            isInteracted: interaction ? interaction : false\n        };\n        this.preventChange = false;\n        this.trigger('change', eventArgs);\n        this.previousValue = this.value;\n        //EJ2CORE-738:For this task we update the textarea value to the input when input tag with multiline is present\n        if (this.element.tagName === 'INPUT' && this.multiline && Browser.info.name === 'mozilla') {\n            this.element.value = this.respectiveElement.value;\n        }\n    };\n    TextBox.prototype.bindClearEvent = function () {\n        if (this.showClearButton && this.respectiveElement.tagName !== 'TEXTAREA') {\n            if (this.enabled) {\n                EventHandler.add(this.textboxWrapper.clearButton, 'mousedown touchstart', this.resetInputHandler, this);\n            }\n            else {\n                EventHandler.remove(this.textboxWrapper.clearButton, 'mousedown touchstart', this.resetInputHandler);\n            }\n        }\n    };\n    TextBox.prototype.resetInputHandler = function (event) {\n        event.preventDefault();\n        if (!(this.textboxWrapper.clearButton.classList.contains(HIDE_CLEAR)) || this.textboxWrapper.container.classList.contains('e-static-clear')) {\n            Input.setValue('', this.respectiveElement, this.floatLabelType, this.showClearButton);\n            if (this.isHiddenInput) {\n                this.element.value = this.respectiveElement.value;\n            }\n            this.setProperties({ value: this.respectiveElement.value }, true);\n            var eventArgs = {\n                event: event,\n                value: this.respectiveElement.value,\n                previousValue: this.inputPreviousValue,\n                container: this.textboxWrapper.container\n            };\n            this.trigger('input', eventArgs);\n            this.inputPreviousValue = this.respectiveElement.value;\n            this.raiseChangeEvent(event, true);\n        }\n    };\n    TextBox.prototype.unWireEvents = function () {\n        EventHandler.remove(this.respectiveElement, 'focus', this.focusHandler);\n        EventHandler.remove(this.respectiveElement, 'blur', this.focusOutHandler);\n        EventHandler.remove(this.respectiveElement, 'input', this.inputHandler);\n        EventHandler.remove(this.respectiveElement, 'change', this.changeHandler);\n        if (this.isForm) {\n            EventHandler.remove(this.formElement, 'reset', this.resetForm);\n        }\n        if (!isNullOrUndefined(this.textboxWrapper.container.querySelector('.e-float-text')) && this.floatLabelType === 'Auto'\n            && this.textboxWrapper.container.classList.contains('e-outline') &&\n            this.textboxWrapper.container.classList.contains('e-autofill')) {\n            EventHandler.remove((this.textboxWrapper.container.querySelector('.e-float-text')), 'animationstart', this.animationHandler);\n        }\n    };\n    /**\n     * Removes the component from the DOM and detaches all its related event handlers.\n     * Also, it maintains the initial TextBox element from the DOM.\n     *\n     * @method destroy\n     * @returns {void}\n     */\n    TextBox.prototype.destroy = function () {\n        this.unWireEvents();\n        if (this.element.tagName === 'INPUT' && this.multiline) {\n            detach(this.textboxWrapper.container.getElementsByTagName('textarea')[0]);\n            this.respectiveElement = this.element;\n            this.element.removeAttribute('type');\n        }\n        this.respectiveElement.value = this.respectiveElement.defaultValue;\n        this.respectiveElement.classList.remove('e-input');\n        this.removeAttributes(['aria-placeholder', 'aria-disabled', 'aria-readonly', 'aria-labelledby']);\n        if (!isNullOrUndefined(this.textboxWrapper)) {\n            this.textboxWrapper.container.insertAdjacentElement('afterend', this.respectiveElement);\n            detach(this.textboxWrapper.container);\n        }\n        this.textboxWrapper = null;\n        _super.prototype.destroy.call(this);\n    };\n    /**\n     * Adding the icons to the TextBox component.\n     *\n     * @param { string } position - Specify the icon placement on the TextBox. Possible values are append and prepend.\n     * @param { string | string[] } icons - Icon classes which are need to add to the span element which is going to created.\n     * Span element acts as icon or button element for TextBox.\n     * @returns {void}\n     */\n    TextBox.prototype.addIcon = function (position, icons) {\n        Input.addIcon(position, icons, this.textboxWrapper.container, this.respectiveElement, this.createElement);\n    };\n    /* eslint-disable valid-jsdoc, jsdoc/require-returns */\n    /**\n     * Gets the properties to be maintained in the persisted state.\n     *\n     */\n    TextBox.prototype.getPersistData = function () {\n        var keyEntity = ['value'];\n        return this.addOnPersist(keyEntity);\n    };\n    /* eslint-enable valid-jsdoc, jsdoc/require-returns */\n    /**\n     * Adding the multiple attributes as key-value pair to the TextBox element.\n     *\n     * @param {string} attributes - Specifies the attributes to be add to TextBox element.\n     * @returns {void}\n     */\n    TextBox.prototype.addAttributes = function (attributes) {\n        for (var _i = 0, _a = Object.keys(attributes); _i < _a.length; _i++) {\n            var key = _a[_i];\n            if (key === 'disabled') {\n                this.setProperties({ enabled: false }, true);\n                Input.setEnabled(this.enabled, this.respectiveElement, this.floatLabelType, this.textboxWrapper.container);\n            }\n            else if (key === 'readonly') {\n                this.setProperties({ readonly: true }, true);\n                Input.setReadonly(this.readonly, this.respectiveElement);\n            }\n            else if (key === 'class') {\n                this.respectiveElement.classList.add(attributes[key]);\n            }\n            else if (key === 'placeholder') {\n                this.setProperties({ placeholder: attributes[key] }, true);\n                Input.setPlaceholder(this.placeholder, this.respectiveElement);\n            }\n            else if (key === 'rows' && this.respectiveElement.tagName === 'TEXTAREA') {\n                this.respectiveElement.setAttribute(key, attributes[key]);\n            }\n            else {\n                this.respectiveElement.setAttribute(key, attributes[key]);\n            }\n        }\n    };\n    /**\n     * Removing the multiple attributes as key-value pair to the TextBox element.\n     *\n     * @param { string[] } attributes - Specifies the attributes name to be removed from TextBox element.\n     * @returns {void}\n     */\n    TextBox.prototype.removeAttributes = function (attributes) {\n        for (var _i = 0, attributes_1 = attributes; _i < attributes_1.length; _i++) {\n            var key = attributes_1[_i];\n            if (key === 'disabled') {\n                this.setProperties({ enabled: true }, true);\n                Input.setEnabled(this.enabled, this.respectiveElement, this.floatLabelType, this.textboxWrapper.container);\n            }\n            else if (key === 'readonly') {\n                this.setProperties({ readonly: false }, true);\n                Input.setReadonly(this.readonly, this.respectiveElement);\n            }\n            else if (key === 'placeholder') {\n                this.setProperties({ placeholder: null }, true);\n                Input.setPlaceholder(this.placeholder, this.respectiveElement);\n            }\n            else {\n                this.respectiveElement.removeAttribute(key);\n            }\n        }\n    };\n    /**\n     * Sets the focus to widget for interaction.\n     *\n     * @returns {void}\n     */\n    TextBox.prototype.focusIn = function () {\n        if (document.activeElement !== this.respectiveElement && this.enabled) {\n            this.respectiveElement.focus();\n            if (this.textboxWrapper.container.classList.contains('e-input-group')\n                || this.textboxWrapper.container.classList.contains('e-outline')\n                || this.textboxWrapper.container.classList.contains('e-filled')) {\n                addClass([this.textboxWrapper.container], [TEXTBOX_FOCUS]);\n            }\n        }\n    };\n    /**\n     * Remove the focus from widget, if the widget is in focus state.\n     *\n     * @returns {void}\n     */\n    TextBox.prototype.focusOut = function () {\n        if (document.activeElement === this.respectiveElement && this.enabled) {\n            this.respectiveElement.blur();\n            if (this.textboxWrapper.container.classList.contains('e-input-group')\n                || this.textboxWrapper.container.classList.contains('e-outline')\n                || this.textboxWrapper.container.classList.contains('e-filled')) {\n                removeClass([this.textboxWrapper.container], [TEXTBOX_FOCUS]);\n            }\n        }\n    };\n    __decorate([\n        Property('text')\n    ], TextBox.prototype, \"type\", void 0);\n    __decorate([\n        Property(false)\n    ], TextBox.prototype, \"readonly\", void 0);\n    __decorate([\n        Property(null)\n    ], TextBox.prototype, \"value\", void 0);\n    __decorate([\n        Property('Never')\n    ], TextBox.prototype, \"floatLabelType\", void 0);\n    __decorate([\n        Property('')\n    ], TextBox.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(null)\n    ], TextBox.prototype, \"placeholder\", void 0);\n    __decorate([\n        Property('on')\n    ], TextBox.prototype, \"autocomplete\", void 0);\n    __decorate([\n        Property({})\n    ], TextBox.prototype, \"htmlAttributes\", void 0);\n    __decorate([\n        Property(false)\n    ], TextBox.prototype, \"multiline\", void 0);\n    __decorate([\n        Property(true)\n    ], TextBox.prototype, \"enabled\", void 0);\n    __decorate([\n        Property(false)\n    ], TextBox.prototype, \"showClearButton\", void 0);\n    __decorate([\n        Property(false)\n    ], TextBox.prototype, \"enablePersistence\", void 0);\n    __decorate([\n        Property(null)\n    ], TextBox.prototype, \"width\", void 0);\n    __decorate([\n        Event()\n    ], TextBox.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], TextBox.prototype, \"destroyed\", void 0);\n    __decorate([\n        Event()\n    ], TextBox.prototype, \"change\", void 0);\n    __decorate([\n        Event()\n    ], TextBox.prototype, \"blur\", void 0);\n    __decorate([\n        Event()\n    ], TextBox.prototype, \"focus\", void 0);\n    __decorate([\n        Event()\n    ], TextBox.prototype, \"input\", void 0);\n    TextBox = __decorate([\n        NotifyPropertyChanges\n    ], TextBox);\n    return TextBox;\n}(Component));\nexport { TextBox };\n"],"sourceRoot":""}